[{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\Dashboard.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'FlatList' is defined but never used.","line":2,"column":52,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":60},{"ruleId":"no-unused-vars","severity":1,"message":"'CircleStat' is assigned a value but never used.","line":33,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":33,"endColumn":17},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, alignItems: 'center', justifyContent: 'center' }","line":38,"column":14,"nodeType":"ObjectExpression","endLine":38,"endColumn":73},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 8,\n  borderColor: '#2e7d32',\n  alignItems: 'center',\n  justifyContent: 'center',\n  backgroundColor: '#fff',\n  elevation: 2\n}","line":44,"column":16,"nodeType":"ObjectExpression","endLine":54,"endColumn":10},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18, fontWeight: '700', color: '#0b3d0b' }","line":56,"column":22,"nodeType":"ObjectExpression","endLine":56,"endColumn":75},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#444' }","line":57,"column":34,"nodeType":"ObjectExpression","endLine":57,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 8, fontSize: 14, color: '#111' }","line":59,"column":20,"nodeType":"ObjectExpression","endLine":59,"endColumn":65},{"ruleId":"no-unused-vars","severity":1,"message":"'formatShortDate' is assigned a value but never used.","line":72,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":72,"endColumn":22},{"ruleId":"no-unused-vars","severity":1,"message":"'getMapImageUrl' is assigned a value but never used.","line":97,"column":7,"nodeType":"Identifier","messageId":"unusedVar","endLine":97,"endColumn":21},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  backgroundColor: '#1565c0',\n  borderRadius: 16,\n  padding: 24,\n  flexDirection: 'row',\n  alignItems: 'center',\n  minHeight: 160\n}","line":170,"column":16,"nodeType":"ObjectExpression","endLine":170,"endColumn":156},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 120, height: 120, borderRadius: 12, marginRight: 16 }","line":171,"column":85,"nodeType":"ObjectExpression","endLine":171,"endColumn":147},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, justifyContent: 'center' }","line":172,"column":18,"nodeType":"ObjectExpression","endLine":172,"endColumn":55},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontSize: 26, fontWeight: '800' }","line":173,"column":20,"nodeType":"ObjectExpression","endLine":173,"endColumn":70},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#e3f2fd', marginTop: 10, fontSize: 16 }","line":174,"column":20,"nodeType":"ObjectExpression","endLine":174,"endColumn":69},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12, flexDirection: 'row', alignItems: 'center' }","line":175,"column":20,"nodeType":"ObjectExpression","endLine":175,"endColumn":81},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  backgroundColor: '#fff',\n  paddingVertical: 10,\n  paddingHorizontal: 14,\n  borderRadius: 10\n}","line":176,"column":34,"nodeType":"ObjectExpression","endLine":176,"endColumn":123},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#1565c0', fontWeight: '700' }","line":177,"column":24,"nodeType":"ObjectExpression","endLine":177,"endColumn":63},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 12 }","line":179,"column":34,"nodeType":"ObjectExpression","endLine":179,"endColumn":52},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#bbdefb', fontSize: 14 }","line":180,"column":24,"nodeType":"ObjectExpression","endLine":180,"endColumn":58},{"ruleId":"no-unused-vars","severity":1,"message":"'navigation' is assigned a value but never used.","line":189,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":189,"endColumn":19},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"The 'weekEnd' object construction makes the dependencies of useMemo Hook (at line 313) change on every render. To fix this, wrap the initialization of 'weekEnd' in its own useMemo() Hook.","line":193,"column":9,"nodeType":"VariableDeclarator","endLine":193,"endColumn":38},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"The 'last30Start' object construction makes the dependencies of useMemo Hook (at line 313) change on every render. To fix this, wrap the initialization of 'last30Start' in its own useMemo() Hook.","line":197,"column":9,"nodeType":"VariableDeclarator","endLine":197,"endColumn":33},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"The 'last30End' object construction makes the dependencies of useMemo Hook (at line 313) change on every render. To fix this, wrap the initialization of 'last30End' in its own useMemo() Hook.","line":200,"column":9,"nodeType":"VariableDeclarator","endLine":200,"endColumn":31},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 6, alignItems: 'flex-start' }","line":240,"column":20,"nodeType":"ObjectExpression","endLine":240,"endColumn":62},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#444', textAlign: 'center' }","line":241,"column":22,"nodeType":"ObjectExpression","endLine":241,"endColumn":84},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#444', marginTop: 2, textAlign: 'center' }","line":242,"column":22,"nodeType":"ObjectExpression","endLine":242,"endColumn":118},{"ruleId":"no-unused-vars","severity":1,"message":"'weekExpensesTotal' is assigned a value but never used.","line":249,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":249,"endColumn":22},{"ruleId":"no-unused-vars","severity":1,"message":"'weekDeduction' is assigned a value but never used.","line":250,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":250,"endColumn":18},{"ruleId":"no-unused-vars","severity":1,"message":"'monthExpensesTotal' is assigned a value but never used.","line":252,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":252,"endColumn":23},{"ruleId":"no-unused-vars","severity":1,"message":"'monthDeduction' is assigned a value but never used.","line":253,"column":5,"nodeType":"Identifier","messageId":"unusedVar","endLine":253,"endColumn":19},{"ruleId":"no-unused-vars","severity":1,"message":"'unclassifiedCount' is assigned a value but never used.","line":276,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":276,"endColumn":26},{"ruleId":"no-shadow","severity":1,"message":"'tripsWeekCount' is already declared in the upper scope on line 283 column 104.","line":286,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":286,"endColumn":25},{"ruleId":"no-shadow","severity":1,"message":"'tripsWeekPct' is already declared in the upper scope on line 283 column 11.","line":288,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":288,"endColumn":23},{"ruleId":"no-shadow","severity":1,"message":"'tripsMonthPct' is already declared in the upper scope on line 283 column 25.","line":292,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":292,"endColumn":24},{"ruleId":"no-shadow","severity":1,"message":"'milesWeekTotal' is already declared in the upper scope on line 283 column 120.","line":294,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":294,"endColumn":25},{"ruleId":"no-shadow","severity":1,"message":"'milesWeekPct' is already declared in the upper scope on line 283 column 40.","line":296,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":296,"endColumn":23},{"ruleId":"no-shadow","severity":1,"message":"'milesMonthPct' is already declared in the upper scope on line 283 column 54.","line":300,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":300,"endColumn":24},{"ruleId":"no-shadow","severity":1,"message":"'expensesWeekTotalVal' is already declared in the upper scope on line 283 column 136.","line":304,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":304,"endColumn":31},{"ruleId":"no-shadow","severity":1,"message":"'expensesWeekPct' is already declared in the upper scope on line 283 column 69.","line":306,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":306,"endColumn":26},{"ruleId":"no-shadow","severity":1,"message":"'expensesMonthPct' is already declared in the upper scope on line 283 column 86.","line":310,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":310,"endColumn":27},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, padding: 12 }","line":340,"column":18,"nodeType":"ObjectExpression","endLine":340,"endColumn":42},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  alignItems: 'center',\n  justifyContent: 'space-between'\n}","line":346,"column":20,"nodeType":"ObjectExpression","endLine":346,"endColumn":118},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', alignItems: 'center' }","line":348,"column":22,"nodeType":"ObjectExpression","endLine":348,"endColumn":68},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', alignItems: 'center', marginRight: 12 }","line":349,"column":24,"nodeType":"ObjectExpression","endLine":349,"endColumn":87},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: 14,\n  height: 14,\n  backgroundColor: '#4caf50',\n  borderRadius: 3,\n  marginRight: 6\n}","line":350,"column":26,"nodeType":"ObjectExpression","endLine":350,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#333' }","line":351,"column":26,"nodeType":"ObjectExpression","endLine":351,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', alignItems: 'center' }","line":353,"column":24,"nodeType":"ObjectExpression","endLine":353,"endColumn":70},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: 14,\n  height: 14,\n  backgroundColor: '#e53935',\n  borderRadius: 3,\n  marginRight: 6\n}","line":354,"column":26,"nodeType":"ObjectExpression","endLine":354,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#333' }","line":355,"column":26,"nodeType":"ObjectExpression","endLine":355,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  backgroundColor: '#f4f6f8',\n  paddingHorizontal: 14,\n  paddingVertical: 8,\n  borderRadius: 999,\n  borderWidth: 1,\n  borderColor: '#e6e9ed',\n  minWidth: 92,\n  alignItems: 'center',\n  justifyContent: 'center'\n}","line":361,"column":18,"nodeType":"ObjectExpression","endLine":361,"endColumn":212},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 13, color: '#222', fontWeight: '600' }","line":366,"column":24,"nodeType":"ObjectExpression","endLine":366,"endColumn":74},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 16 }","line":371,"column":20,"nodeType":"ObjectExpression","endLine":371,"endColumn":40},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 6, alignItems: 'center' }","line":389,"column":32,"nodeType":"ObjectExpression","endLine":389,"endColumn":70},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#444', textAlign: 'center', fontWeight: '600' }","line":390,"column":34,"nodeType":"ObjectExpression","endLine":390,"endColumn":105},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#444', marginTop: 4, textAlign: 'center' }","line":391,"column":34,"nodeType":"ObjectExpression","endLine":391,"endColumn":100},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 8, alignItems: 'center' }","line":411,"column":38,"nodeType":"ObjectExpression","endLine":411,"endColumn":76},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 4 }","line":413,"column":40,"nodeType":"ObjectExpression","endLine":413,"endColumn":72},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 8, alignItems: 'center' }","line":424,"column":38,"nodeType":"ObjectExpression","endLine":424,"endColumn":76},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 6, alignItems: 'center' }","line":437,"column":32,"nodeType":"ObjectExpression","endLine":437,"endColumn":70},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#444', textAlign: 'center', fontWeight: '600' }","line":438,"column":34,"nodeType":"ObjectExpression","endLine":438,"endColumn":105},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#444', marginTop: 4, textAlign: 'center' }","line":439,"column":34,"nodeType":"ObjectExpression","endLine":439,"endColumn":100}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":58,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useMemo, useState } from 'react';\r\nimport { View, Text, Dimensions, TouchableOpacity, FlatList, Image } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { calculateMileageDeduction } from '../services/TaxReport';\r\nimport { Svg, G, Circle, Path } from 'react-native-svg';\r\n\r\nconst { width } = Dimensions.get('window');\r\n\r\n// Shared tile styles\r\nconst DONUT_SIZE = 80;\r\nconst DONUT_STROKE = 12;\r\nconst GAP = 14; // uniform vertical gap\r\nconst TILE_STYLE = {\r\n  backgroundColor: '#fff',\r\n  borderRadius: 14,\r\n  overflow: 'hidden',\r\n  flexDirection: 'row',\r\n  alignItems: 'center',\r\n  padding: 12,\r\n  marginBottom: GAP,\r\n  elevation: 2,\r\n  minHeight: 110,\r\n};\r\nconst LEFT_STYLE = { width: '22%', alignItems: 'center', justifyContent: 'center', paddingHorizontal: 4 };\r\nconst MIDDLE_STYLE = { width: '56%', paddingHorizontal: 10, alignItems: 'center', justifyContent: 'center' };\r\nconst RIGHT_STYLE = { width: '22%', alignItems: 'center', justifyContent: 'center', paddingHorizontal: 4 };\r\nconst TITLE_STYLE = { fontSize: 18, fontWeight: '700', textAlign: 'center' };\r\nconst SUBTITLE_STYLE = { color: '#666', marginTop: 6, textAlign: 'center', fontSize: 13 };\r\nconst VALUE_STYLE = { color: '#444', marginTop: 8, fontSize: 13, textAlign: 'center' };\r\nconst USAGE_STYLE = { color: '#2e7d32', marginTop: 6, fontSize: 14, fontWeight: '700', textAlign: 'center' };\r\n\r\nconst CircleStat = ({ label, value, subtitle, format }) => {\r\n  const size = Math.min(120, Math.floor(width / 3) - 32);\r\n  const rendered = format ? format(value) : String(value);\r\n  return (\r\n    <View\r\n      style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}\r\n      accessible\r\n      accessibilityRole=\"text\"\r\n      accessibilityLabel={`${label}: ${rendered}${subtitle ? `, ${subtitle}` : ''}`}\r\n    >\r\n      <View\r\n        style={{\r\n          width: size,\r\n          height: size,\r\n          borderRadius: size / 2,\r\n          borderWidth: 8,\r\n          borderColor: '#2e7d32',\r\n          alignItems: 'center',\r\n          justifyContent: 'center',\r\n          backgroundColor: '#fff',\r\n          elevation: 2,\r\n        }}\r\n      >\r\n        <Text style={{ fontSize: 18, fontWeight: '700', color: '#0b3d0b' }}>{rendered}</Text>\r\n        {subtitle ? <Text style={{ fontSize: 12, color: '#444' }}>{subtitle}</Text> : null}\r\n      </View>\r\n      <Text style={{ marginTop: 8, fontSize: 14, color: '#111' }}>{label}</Text>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst startOfWeek = (d) => {\r\n  const dt = new Date(d);\r\n  const day = dt.getDay();\r\n  dt.setHours(0, 0, 0, 0);\r\n  dt.setDate(dt.getDate() - day);\r\n  return dt;\r\n};\r\n\r\nconst formatShortDate = (d) => {\r\n  try {\r\n    const dt = new Date(d);\r\n    return `${dt.getMonth() + 1}/${dt.getDate()}`;\r\n  } catch (e) {\r\n    return '';\r\n  }\r\n};\r\n\r\nconst formatAbbrMonthDay = (d) => {\r\n  try {\r\n    const dt = new Date(d);\r\n    return dt.toLocaleDateString(undefined, { month: 'short', day: 'numeric' });\r\n  } catch (e) {\r\n    return '';\r\n  }\r\n};\r\n\r\nconst inRange = (iso, start, end) => {\r\n  if (!iso) return false;\r\n  const t = new Date(iso).getTime();\r\n  if (isNaN(t)) return false;\r\n  return t >= start.getTime() && t <= end.getTime();\r\n};\r\n\r\nconst getMapImageUrl = (drive) => {\r\n  try {\r\n    if (!drive) return 'https://via.placeholder.com/200x120?text=Map';\r\n    if (drive.mapImage) return drive.mapImage;\r\n    const mapConfig = require('../config/mapConfig').default;\r\n    const sc = drive.startCoords || drive.startLocation;\r\n    if (sc && sc.latitude && sc.longitude) {\r\n      const lat = sc.latitude;\r\n      const lon = sc.longitude;\r\n      const zoom = mapConfig.defaultZoom || 13;\r\n      const size = mapConfig.defaultSizeInline || '200x120';\r\n      if (mapConfig.googleApiKey) {\r\n        const marker = `color:red|${lat},${lon}`;\r\n        return `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lon}&zoom=${zoom}&size=${size}&markers=${encodeURIComponent(marker)}&key=${mapConfig.googleApiKey}`;\r\n      }\r\n      const marker = `${lat},${lon},red-pushpin`;\r\n      return `https://staticmap.openstreetmap.de/staticmap.php?center=${lat},${lon}&zoom=${zoom}&size=${size}&markers=${marker}`;\r\n    }\r\n    return 'https://via.placeholder.com/200x120?text=Map';\r\n  } catch (e) {\r\n    return 'https://via.placeholder.com/200x120?text=Map';\r\n  }\r\n};\r\n\r\n// Donut with two segments: business and personal (drawn as SVG arcs)\r\nconst polarToCartesian = (cx, cy, r, angleDeg) => {\r\n  const angleRad = ((angleDeg - 90) * Math.PI) / 180.0;\r\n  return {\r\n    x: cx + r * Math.cos(angleRad),\r\n    y: cy + r * Math.sin(angleRad),\r\n  };\r\n};\r\n\r\nconst describeArcPath = (cx, cy, r, startAngle, endAngle) => {\r\n  const start = polarToCartesian(cx, cy, r, endAngle);\r\n  const end = polarToCartesian(cx, cy, r, startAngle);\r\n  const largeArcFlag = endAngle - startAngle <= 180 ? '0' : '1';\r\n  return `M ${start.x} ${start.y} A ${r} ${r} 0 ${largeArcFlag} 0 ${end.x} ${end.y}`;\r\n};\r\n\r\nconst Donut = ({ size = 64, strokeWidth = 10, businessPercent = 0, colorBusiness = '#4caf50', colorPersonal = '#e0e0e0' }) => {\r\n  const radius = (size - strokeWidth) / 2;\r\n  const cx = size / 2;\r\n  const cy = size / 2;\r\n\r\n  const b = Math.max(0, Math.min(1, businessPercent));\r\n  const p = Math.max(0, Math.min(1, 1 - b));\r\n\r\n  // Angles in degrees from top (-90)\r\n  const startAngle = -90;\r\n  const bEnd = startAngle + b * 360;\r\n  const pEnd = bEnd + p * 360; // should reach startAngle + 360\r\n\r\n  return (\r\n    <Svg width={size} height={size}>\r\n      {/* background ring */}\r\n      <G rotation=\"0\">\r\n        <Circle cx={cx} cy={cy} r={radius} stroke={'#f1f1f1'} strokeWidth={strokeWidth} fill=\"none\" />\r\n        {/* personal segment first (so business draws on top if overlapping) */}\r\n        {p > 0.001 ? (\r\n          <Path d={describeArcPath(cx, cy, radius, bEnd, pEnd)} stroke={colorPersonal} strokeWidth={strokeWidth} fill=\"none\" strokeLinecap=\"round\" />\r\n        ) : null}\r\n        {/* business segment */}\r\n        {b > 0.001 ? (\r\n          <Path d={describeArcPath(cx, cy, radius, startAngle, bEnd)} stroke={colorBusiness} strokeWidth={strokeWidth} fill=\"none\" strokeLinecap=\"round\" />\r\n        ) : null}\r\n      </G>\r\n    </Svg>\r\n  );\r\n};\r\n\r\n// Promo / greeting banner displayed above the tiles (enlarged + logo placeholder)\r\nconst PromoBanner = ({ name }) => (\r\n  <View style={{ backgroundColor: '#1565c0', borderRadius: 16, padding: 24, marginBottom: GAP, flexDirection: 'row', alignItems: 'center', minHeight: 160 }}>\r\n    <Image source={{ uri: 'https://via.placeholder.com/120x120?text=Logo' }} style={{ width: 120, height: 120, borderRadius: 12, marginRight: 16 }} />\r\n    <View style={{ flex: 1, justifyContent: 'center' }}>\r\n      <Text style={{ color: '#fff', fontSize: 26, fontWeight: '800' }}>{`Good morning${name ? `, ${name}` : ''}`}</Text>\r\n      <Text style={{ color: '#e3f2fd', marginTop: 10, fontSize: 16 }}>Save time logging routes — try Smart Auto-Categorize</Text>\r\n      <View style={{ marginTop: 12, flexDirection: 'row', alignItems: 'center' }}>\r\n        <TouchableOpacity style={{ backgroundColor: '#fff', paddingVertical: 10, paddingHorizontal: 14, borderRadius: 10 }}>\r\n          <Text style={{ color: '#1565c0', fontWeight: '700' }}>Try</Text>\r\n        </TouchableOpacity>\r\n        <TouchableOpacity style={{ marginLeft: 12 }}>\r\n          <Text style={{ color: '#bbdefb', fontSize: 14 }}>Learn more</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  </View>\r\n);\r\n\r\nconst Dashboard = () => {\r\n  const { mileage = [], expenses = [] } = useContext(DataContext);\r\n  const navigation = useNavigation();\r\n\r\n  const now = new Date();\r\n  const weekStart = startOfWeek(now);\r\n  const weekEnd = new Date(weekStart);\r\n  weekEnd.setDate(weekStart.getDate() + 6);\r\n  weekEnd.setHours(23, 59, 59, 999);\r\n\r\n  const last30Start = new Date();\r\n  last30Start.setDate(now.getDate() - 29);\r\n  last30Start.setHours(0, 0, 0, 0);\r\n  const last30End = new Date();\r\n  last30End.setHours(23, 59, 59, 999);\r\n\r\n  // Right-side range selector: 'month' (previous calendar month) or 'week' (last 7 days)\r\n  const [rightRange, setRightRange] = useState('month');\r\n\r\n  const computeRightRange = (range, refDate) => {\r\n    const rNow = new Date(refDate || new Date());\r\n    if (range === 'week') {\r\n      const start = new Date();\r\n      start.setDate(rNow.getDate() - 6);\r\n      start.setHours(0, 0, 0, 0);\r\n      const end = new Date();\r\n      end.setHours(23, 59, 59, 999);\r\n      return { start, end };\r\n    }\r\n    // month: previous calendar month\r\n    const start = new Date(rNow.getFullYear(), rNow.getMonth() - 1, 1);\r\n    start.setHours(0, 0, 0, 0);\r\n    const end = new Date(rNow.getFullYear(), rNow.getMonth(), 0);\r\n    end.setHours(23, 59, 59, 999);\r\n    return { start, end };\r\n  };\r\n\r\n  const { start: rightStart, end: rightEnd } = computeRightRange(rightRange, now);\r\n\r\n  const formatMonthOnly = (d) => {\r\n    try {\r\n      const dt = new Date(d);\r\n      return dt.toLocaleDateString(undefined, { month: 'short' });\r\n    } catch (e) {\r\n      return '';\r\n    }\r\n  };\r\n\r\n  const renderStaggeredDates = (start, end, firstWithDash = true) => {\r\n    const dateFontSize = 12;\r\n    const charWidth = Math.round(dateFontSize * 0.6);\r\n    const offset = charWidth;\r\n    return (\r\n      <View style={{ marginTop: 6, alignItems: 'flex-start' }}>\r\n        <Text style={{ fontSize: dateFontSize, color: '#444', textAlign: 'center' }}>{`${formatAbbrMonthDay(start)}${firstWithDash ? ' -' : ''}`}</Text>\r\n        <Text style={{ fontSize: dateFontSize, color: '#444', marginTop: 2, marginLeft: offset, textAlign: 'center' }}>{formatAbbrMonthDay(end)}</Text>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  const {\r\n    weekTrips,\r\n    weekExpensesTotal,\r\n    weekDeduction,\r\n    monthTrips,\r\n    monthExpensesTotal,\r\n    monthDeduction,\r\n  } = useMemo(() => {\r\n    // Use the selected right-side range for the left (week) graphs too so the toggle controls both sides\r\n    const wTrips = (mileage || []).filter((t) => inRange(t.start || t.date, rightStart, rightEnd));\r\n    const wExpenses = (expenses || []).filter((e) => inRange(e.date, rightStart, rightEnd));\r\n    const wExpensesTotal = wExpenses.reduce((s, e) => s + (e.amount || 0), 0);\r\n    const wDed = calculateMileageDeduction(wTrips, 'business');\r\n\r\n    const mTrips = (mileage || []).filter((t) => inRange(t.start || t.date, rightStart, rightEnd));\r\n    const mExpenses = (expenses || []).filter((e) => inRange(e.date, rightStart, rightEnd));\r\n    const mExpensesTotal = mExpenses.reduce((s, e) => s + (e.amount || 0), 0);\r\n    const mDed = calculateMileageDeduction(mTrips, 'business');\r\n\r\n    return {\r\n      weekTrips: wTrips,\r\n      weekExpensesTotal: wExpensesTotal,\r\n      weekDeduction: wDed,\r\n      monthTrips: mTrips,\r\n      monthExpensesTotal: mExpensesTotal,\r\n      monthDeduction: mDed,\r\n    };\r\n  }, [mileage, expenses, rightStart, rightEnd]);\r\n\r\n  const unclassifiedCount = useMemo(() => {\r\n    const uTrips = (mileage || []).filter((t) => !t.purpose || String(t.purpose).toLowerCase().includes('misc'));\r\n    const uExpenses = (expenses || []).filter((e) => !e.classification || String(e.classification).toLowerCase().includes('misc'));\r\n    return (uTrips.length || 0) + (uExpenses.length || 0);\r\n  }, [mileage, expenses]);\r\n\r\n  // compute classification ratios for tiles\r\n  const { tripsWeekPct, tripsMonthPct, milesWeekPct, milesMonthPct, expensesWeekPct, expensesMonthPct, tripsWeekCount, milesWeekTotal, expensesWeekTotalVal } = useMemo(() => {\r\n    const isBusiness = (s) => String(s || '').toLowerCase().includes('bus');\r\n\r\n    const tripsWeekCount = (weekTrips || []).length;\r\n    const tripsWeekBusiness = (weekTrips || []).filter((t) => isBusiness(t.purpose) || isBusiness(t.classification)).length;\r\n    const tripsWeekPct = tripsWeekCount ? tripsWeekBusiness / tripsWeekCount : 0;\r\n\r\n    const tripsMonthCount = (monthTrips || []).length;\r\n    const tripsMonthBusiness = (monthTrips || []).filter((t) => isBusiness(t.purpose) || isBusiness(t.classification)).length;\r\n    const tripsMonthPct = tripsMonthCount ? tripsMonthBusiness / tripsMonthCount : 0;\r\n\r\n    const milesWeekTotal = (weekTrips || []).reduce((s, t) => s + (t.distance || 0), 0);\r\n    const milesWeekBusiness = (weekTrips || []).reduce((s, t) => s + ((isBusiness(t.purpose) || isBusiness(t.classification)) ? (t.distance || 0) : 0), 0);\r\n    const milesWeekPct = milesWeekTotal ? milesWeekBusiness / milesWeekTotal : 0;\r\n\r\n    const milesMonthTotal = (monthTrips || []).reduce((s, t) => s + (t.distance || 0), 0);\r\n    const milesMonthBusiness = (monthTrips || []).reduce((s, t) => s + ((isBusiness(t.purpose) || isBusiness(t.classification)) ? (t.distance || 0) : 0), 0);\r\n    const milesMonthPct = milesMonthTotal ? milesMonthBusiness / milesMonthTotal : 0;\r\n\r\n    const weekExpenses = (expenses || []).filter((e) => inRange(e.date, weekStart, weekEnd));\r\n    const monthExpenses = (expenses || []).filter((e) => inRange(e.date, last30Start, last30End));\r\n    const expensesWeekTotalVal = weekExpenses.reduce((s, e) => s + (e.amount || 0), 0);\r\n    const expensesWeekBusiness = weekExpenses.reduce((s, e) => s + ((isBusiness(e.classification) ? (e.amount || 0) : 0)), 0);\r\n    const expensesWeekPct = expensesWeekTotalVal ? expensesWeekBusiness / expensesWeekTotalVal : 0;\r\n\r\n    const expensesMonthTotalVal = monthExpenses.reduce((s, e) => s + (e.amount || 0), 0);\r\n    const expensesMonthBusiness = monthExpenses.reduce((s, e) => s + ((isBusiness(e.classification) ? (e.amount || 0) : 0)), 0);\r\n    const expensesMonthPct = expensesMonthTotalVal ? expensesMonthBusiness / expensesMonthTotalVal : 0;\r\n\r\n    return { tripsWeekPct, tripsMonthPct, milesWeekPct, milesMonthPct, expensesWeekPct, expensesMonthPct, tripsWeekCount, milesWeekTotal, expensesWeekTotalVal };\r\n  }, [weekTrips, monthTrips, expenses, weekStart, weekEnd, last30Start, last30End]);\r\n\r\n  const metrics = [\r\n    {\r\n      key: 'routes',\r\n      title: 'Routes',\r\n      subtitle: `${tripsWeekCount || 0} this week`,\r\n      weekPct: tripsWeekPct,\r\n      monthPct: tripsMonthPct,\r\n    },\r\n    {\r\n      key: 'miles',\r\n      title: 'Miles',\r\n      subtitle: `${(milesWeekTotal || 0).toFixed(1)} mi this week`,\r\n      weekPct: milesWeekPct,\r\n      monthPct: milesMonthPct,\r\n    },\r\n    {\r\n      key: 'expenses',\r\n      title: 'Expenses',\r\n      subtitle: `$${(expensesWeekTotalVal || 0).toFixed(2)} this week`,\r\n      weekPct: expensesWeekPct,\r\n      monthPct: expensesMonthPct,\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <View style={{ flex: 1, padding: 12 }}>\r\n\r\n      {/* Greeting / promo banner */}\r\n      <PromoBanner />\r\n\r\n      {/* Range filter for right-side graphs (legend placed opposite the toggle) */}\r\n      <View style={{ flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', marginBottom: GAP }}>\r\n        {/* Legend for business/personal colors (moved here opposite the toggle) */}\r\n        <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n          <View style={{ flexDirection: 'row', alignItems: 'center', marginRight: 12 }}>\r\n            <View style={{ width: 14, height: 14, backgroundColor: '#4caf50', borderRadius: 3, marginRight: 6 }} />\r\n            <Text style={{ fontSize: 12, color: '#333' }}>Business</Text>\r\n          </View>\r\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n            <View style={{ width: 14, height: 14, backgroundColor: '#e53935', borderRadius: 3, marginRight: 6 }} />\r\n            <Text style={{ fontSize: 12, color: '#333' }}>Personal</Text>\r\n          </View>\r\n        </View>\r\n\r\n        <TouchableOpacity\r\n          onPress={() => setRightRange((r) => (r === 'month' ? 'week' : 'month'))}\r\n          style={{ backgroundColor: '#f4f6f8', paddingHorizontal: 14, paddingVertical: 8, borderRadius: 999, borderWidth: 1, borderColor: '#e6e9ed', minWidth: 92, alignItems: 'center', justifyContent: 'center' }}\r\n          accessible\r\n          accessibilityRole=\"button\"\r\n          accessibilityLabel=\"Toggle right graph range\"\r\n        >\r\n          <Text style={{ fontSize: 13, color: '#222', fontWeight: '600' }}>{rightRange === 'month' ? 'Last month' : 'Last week'}</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      {/* Three metric tiles: Routes, Miles, Expenses (enlarged) */}\r\n      <View style={{ marginBottom: 16 }}>\r\n        {(() => {\r\n          const isBusiness = (s) => String(s || '').toLowerCase().includes('bus');\r\n          const weekTripBusinessCount = (weekTrips || []).filter((t) => isBusiness(t.purpose) || isBusiness(t.classification)).length;\r\n          const weekTripTotalCount = (weekTrips || []).length;\r\n          const weekTripPersonalCount = Math.max(0, weekTripTotalCount - weekTripBusinessCount);\r\n          const weekBusinessMiles = (weekTrips || []).reduce((s, t) => s + ((isBusiness(t.purpose) || isBusiness(t.classification)) ? (t.distance || 0) : 0), 0);\r\n          const IRS_RATE_2025 = 0.7; // $0.70 per mile for 2025\r\n          const weekEstimatedDeduction = weekBusinessMiles * IRS_RATE_2025;\r\n          return metrics.map((tile) => (\r\n            <View key={tile.key} style={TILE_STYLE}>\r\n              {/* Left: week donut (approx 22%) */}\r\n              <View style={LEFT_STYLE}>\r\n                <Donut size={DONUT_SIZE} strokeWidth={DONUT_STROKE} businessPercent={tile.weekPct || 0} colorBusiness=\"#4caf50\" colorPersonal=\"#e53935\" />\r\n                {/* Left caption: show staggered look when week-mode; show 'This month' when month-mode */}\r\n                {rightRange === 'week' ? (\r\n                  renderStaggeredDates(rightStart, rightEnd)\r\n                ) : (\r\n                  <View style={{ marginTop: 6, alignItems: 'center' }}>\r\n                    <Text style={{ fontSize: 12, color: '#444', textAlign: 'center', fontWeight: '600' }}>This month</Text>\r\n                    <Text style={{ fontSize: 12, color: '#444', marginTop: 4, textAlign: 'center' }}>{formatMonthOnly(now)}</Text>\r\n                  </View>\r\n                )}\r\n              </View>\r\n\r\n              {/* Middle: title and info (56%) - centered */}\r\n              <View style={MIDDLE_STYLE}>\r\n                <Text style={TITLE_STYLE}>{tile.title}</Text>\r\n                <Text style={SUBTITLE_STYLE}>{tile.subtitle}</Text>\r\n                {tile.key === 'routes' ? (\r\n                  <>\r\n                    <Text style={VALUE_STYLE}>{`${weekTripBusinessCount} business • ${weekTripPersonalCount} personal`}</Text>\r\n                    <Text style={USAGE_STYLE}>{`Usage Value: $${Number(weekEstimatedDeduction || 0).toFixed(2)}`}</Text>\r\n                  </>\r\n                ) : tile.key === 'miles' ? (\r\n                  <>\r\n                    {(() => {\r\n                      const businessMiles = Number((weekBusinessMiles || 0).toFixed(1));\r\n                      const personalMiles = Number(Math.max(0, (milesWeekTotal || 0) - (weekBusinessMiles || 0)).toFixed(1));\r\n                      return (\r\n                        <View style={{ marginTop: 8, alignItems: 'center' }}>\r\n                          <Text style={VALUE_STYLE}>{`${businessMiles} business`}</Text>\r\n                          <Text style={{ ...VALUE_STYLE, marginTop: 4 }}>{`${personalMiles} personal`}</Text>\r\n                        </View>\r\n                      );\r\n                    })()}\r\n                  </>\r\n                ) : tile.key === 'expenses' ? (\r\n                  <>\r\n                    {(() => {\r\n                      const weekExpensesList = (expenses || []).filter((e) => inRange(e.date, weekStart, weekEnd));\r\n                      const expensesBusiness = weekExpensesList.reduce((s, e) => s + ((String(e.classification || '').toLowerCase().includes('bus')) ? (e.amount || 0) : 0), 0);\r\n                      return (\r\n                        <View style={{ marginTop: 8, alignItems: 'center' }}>\r\n                          <Text style={USAGE_STYLE}>{`Usage Value: $${expensesBusiness.toFixed(2)}`}</Text>\r\n                        </View>\r\n                      );\r\n                    })()}\r\n                  </>\r\n                ) : null}\r\n              </View>\r\n\r\n              {/* Right: month donut (approx 22%) */}\r\n              <View style={RIGHT_STYLE}>\r\n                <Donut size={DONUT_SIZE} strokeWidth={DONUT_STROKE} businessPercent={tile.monthPct || 0} colorBusiness=\"#1976d2\" colorPersonal=\"#e53935\" />\r\n                {rightRange === 'month' ? (\r\n                  <View style={{ marginTop: 6, alignItems: 'center' }}>\r\n                    <Text style={{ fontSize: 12, color: '#444', textAlign: 'center', fontWeight: '600' }}>Last month</Text>\r\n                    <Text style={{ fontSize: 12, color: '#444', marginTop: 4, textAlign: 'center' }}>{formatMonthOnly(rightStart)}</Text>\r\n                  </View>\r\n                ) : (\r\n                  renderStaggeredDates(rightStart, rightEnd, true)\r\n                )}\r\n              </View>\r\n            </View>\r\n          ));\r\n        })()}\r\n      </View>\r\n\r\n      {/* Legend moved above beside the range toggle to improve layout */}\r\n\r\n      {/* Old summaries/layout removed; dashboard focuses on the three metric tiles. */}\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\DriveCard.js","messages":[{"ruleId":"react/display-name","severity":2,"message":"Component definition is missing display name","line":4,"column":13,"nodeType":"CallExpression","messageId":"noDisplayName","endLine":8,"endColumn":3},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { alignItems: 'flex-end' }","line":44,"column":22,"nodeType":"ObjectExpression","endLine":44,"endColumn":48},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":56,"column":55,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2652,2679],"text":"This week&apos;s estimated usage"},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2652,2679],"text":"This week&lsquo;s estimated usage"},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2652,2679],"text":"This week&#39;s estimated usage"},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2652,2679],"text":"This week&rsquo;s estimated usage"},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '100%', height: '100%', borderRadius: 6 }","line":86,"column":22,"nodeType":"ObjectExpression","endLine":86,"endColumn":72},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 60 }","line":103,"column":84,"nodeType":"ObjectExpression","endLine":103,"endColumn":98},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, marginRight: 8 }","line":107,"column":26,"nodeType":"ObjectExpression","endLine":107,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, marginLeft: 8 }","line":110,"column":26,"nodeType":"ObjectExpression","endLine":110,"endColumn":52},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 8 }","line":115,"column":24,"nodeType":"ObjectExpression","endLine":115,"endColumn":40}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useCallback, memo } from 'react';\r\nimport { View, Text, StyleSheet, Pressable, TextInput, Button, Alert, Image } from 'react-native';\r\n\r\nconst Tag = memo(({ label, color = '#4caf50' }) => (\r\n  <View style={[styles.tag, { backgroundColor: color }]} accessible accessibilityLabel={`${label} tag`}>\r\n    <Text style={styles.tagText}>{label}</Text>\r\n  </View>\r\n));\r\n\r\n/**\r\n * DriveCard displays a single drive. Uses local state for expansion and editing.\r\n * Memoized to avoid unnecessary re-renders when parent updates unrelated props.\r\n */\r\nconst DriveCard = ({ drive = {}, weekDeduction = null, onDelete = () => {}, onReclassify = () => {}, onSave = () => {} }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const [purpose, setPurpose] = useState(drive.purpose || 'Business');\r\n  const [vehicle, setVehicle] = useState(drive.vehicle || 'Default');\r\n  const [notes, setNotes] = useState(drive.notes || '');\r\n\r\n  const distance = drive.distance ?? 0;\r\n  const value = ((drive.distance ?? 0) * 0.7).toFixed(2); // placeholder calc using business rate\r\n\r\n  const handleDelete = useCallback(() => {\r\n    Alert.alert('Delete drive', 'Are you sure you want to delete this drive?', [\r\n      { text: 'Cancel', style: 'cancel' },\r\n      { text: 'Delete', style: 'destructive', onPress: () => onDelete(drive) },\r\n    ]);\r\n  }, [drive, onDelete]);\r\n\r\n  return (\r\n    <Pressable\r\n      onPress={() => setExpanded((s) => !s)}\r\n      style={({ pressed }) => [styles.card, pressed && styles.pressed]}\r\n      accessible\r\n      accessibilityRole=\"button\"\r\n      accessibilityLabel={`Drive card. ${distance} miles. ${drive.purpose || 'No purpose'}. Double tap to ${expanded ? 'collapse' : 'expand'}`}>\r\n\r\n      {/* Header row */}\r\n      <View style={styles.header}>\r\n        <View style={styles.flex1}>\r\n          <Text style={styles.distance}>{Number(distance).toFixed(1)} mi</Text>\r\n          <Text style={styles.small}>{drive.start ? new Date(drive.start).toLocaleString() : ''} → {drive.end ? new Date(drive.end).toLocaleString() : ''}</Text>\r\n        </View>\r\n        <View style={{ alignItems: 'flex-end' }}>\r\n          <Text style={styles.value}>${value}</Text>\r\n          <Tag label={drive.purpose || 'Miscellaneous'} color={drive.status === 'logged' ? '#4caf50' : '#ff9800'} />\r\n        </View>\r\n      </View>\r\n\r\n      {/* Expanded area */}\r\n      {expanded && (\r\n        <View style={styles.expanded}>\r\n          {/* Week deduction row */}\r\n          {typeof weekDeduction === 'number' && (\r\n            <View style={styles.weekDeduction} accessible accessibilityRole=\"text\">\r\n              <Text style={styles.weekTitle}>This week's estimated usage</Text>\r\n              <Text style={styles.weekValue}>${Number(weekDeduction).toFixed(2)}</Text>\r\n            </View>\r\n          )}\r\n          {/* Route map preview (static placeholder image). Replace with react-native-maps or static map provider later */}\r\n          <View style={styles.mapPlaceholder} accessible accessibilityLabel=\"Route map preview\">\r\n            <Image\r\n              source={{ uri: (() => {\r\n                // Prefer an explicit drive.mapImage\r\n                if (drive.mapImage) return drive.mapImage;\r\n                const mapConfig = require('../config/mapConfig').default;\r\n                const sc = drive.startCoords || drive.startLocation;\r\n                if (sc && sc.latitude && sc.longitude) {\r\n                  const lat = sc.latitude;\r\n                  const lon = sc.longitude;\r\n                  const zoom = mapConfig.defaultZoom || 13;\r\n                  const size = mapConfig.defaultSize || '600x300';\r\n                  if (mapConfig.googleApiKey) {\r\n                    // Google Static Maps\r\n                    // Example: https://maps.googleapis.com/maps/api/staticmap?center=LAT,LON&zoom=13&size=600x300&markers=color:red|LAT,LON&key=APIKEY\r\n                    const marker = `color:red|${lat},${lon}`;\r\n                    return `https://maps.googleapis.com/maps/api/staticmap?center=${lat},${lon}&zoom=${zoom}&size=${size}&markers=${encodeURIComponent(marker)}&key=${mapConfig.googleApiKey}`;\r\n                  }\r\n                  // Fallback to OSM static map\r\n                  const marker = `${lat},${lon},red-pushpin`;\r\n                  return `https://staticmap.openstreetmap.de/staticmap.php?center=${lat},${lon}&zoom=${zoom}&size=${size}&markers=${marker}`;\r\n                }\r\n                // fallback placeholder\r\n                return 'https://via.placeholder.com/600x300?text=Map+Preview';\r\n              })() }}\r\n              style={{ width: '100%', height: '100%', borderRadius: 6 }}\r\n              resizeMode=\"cover\"\r\n            />\r\n          </View>\r\n\r\n          <View style={styles.formRow}>\r\n            <Text style={styles.label}>Purpose</Text>\r\n            <TextInput value={purpose} onChangeText={setPurpose} style={styles.input} accessibilityLabel=\"Edit purpose\" />\r\n          </View>\r\n\r\n          <View style={styles.formRow}>\r\n            <Text style={styles.label}>Vehicle</Text>\r\n            <TextInput value={vehicle} onChangeText={setVehicle} style={styles.input} accessibilityLabel=\"Edit vehicle\" />\r\n          </View>\r\n\r\n          <View style={styles.formRow}>\r\n            <Text style={styles.label}>Notes</Text>\r\n            <TextInput value={notes} onChangeText={setNotes} style={[styles.input, { height: 60 }]} accessibilityLabel=\"Edit notes\" multiline />\r\n          </View>\r\n\r\n          <View style={styles.actionsRow}>\r\n            <View style={{ flex: 1, marginRight: 8 }}>\r\n              <Button title=\"Reclassify\" onPress={() => onReclassify(drive)} accessibilityLabel=\"Reclassify drive\" />\r\n            </View>\r\n            <View style={{ flex: 1, marginLeft: 8 }}>\r\n              <Button title=\"Delete\" color=\"#d32f2f\" onPress={handleDelete} accessibilityLabel=\"Delete drive\" />\r\n            </View>\r\n          </View>\r\n\r\n          <View style={{ marginTop: 8 }}>\r\n            <Button title=\"Save Changes\" onPress={() => onSave({ ...drive, purpose, vehicle, notes })} accessibilityLabel=\"Save drive changes\" />\r\n          </View>\r\n        </View>\r\n      )}\r\n\r\n    </Pressable>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  card: {\r\n    backgroundColor: '#fff',\r\n    borderRadius: 8,\r\n    padding: 12,\r\n    marginVertical: 8,\r\n    marginHorizontal: 12,\r\n    shadowColor: '#000',\r\n    shadowOpacity: 0.04,\r\n    shadowRadius: 6,\r\n    elevation: 2,\r\n  },\r\n  header: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  distance: {\r\n    fontSize: 18,\r\n    fontWeight: '700',\r\n  },\r\n  small: {\r\n    color: '#666',\r\n    fontSize: 12,\r\n    marginTop: 4,\r\n  },\r\n  value: {\r\n    fontSize: 16,\r\n    fontWeight: '700',\r\n  },\r\n  tag: {\r\n    paddingHorizontal: 8,\r\n    paddingVertical: 4,\r\n    borderRadius: 12,\r\n    marginTop: 6,\r\n  },\r\n  tagText: {\r\n    color: '#fff',\r\n    fontSize: 12,\r\n    fontWeight: '600',\r\n  },\r\n  expanded: {\r\n    marginTop: 12,\r\n  },\r\n  mapPlaceholder: {\r\n    height: 120,\r\n    backgroundColor: '#f2f2f2',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 6,\r\n  },\r\n  formRow: {\r\n    marginTop: 12,\r\n  },\r\n  label: {\r\n    fontSize: 12,\r\n    color: '#444',\r\n    marginBottom: 6,\r\n  },\r\n  input: {\r\n    borderWidth: StyleSheet.hairlineWidth,\r\n    borderColor: '#ccc',\r\n    padding: 8,\r\n    borderRadius: 6,\r\n    backgroundColor: '#fff',\r\n  },\r\n  actionsRow: {\r\n    flexDirection: 'row',\r\n    marginTop: 12,\r\n  },\r\n  pressed: { opacity: 0.9 },\r\n  flex1: { flex: 1 },\r\n  weekDeduction: { marginBottom: 8, padding: 8, backgroundColor: '#f7f9fc', borderRadius: 6 },\r\n  weekTitle: { fontSize: 14, color: '#333', fontWeight: '700' },\r\n  weekValue: { fontSize: 14, color: '#2e7d32', marginTop: 4 },\r\n});\r\n\r\nexport default memo(DriveCard);\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\ErrorBoundary.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'error' is defined but never used. Allowed unused args must match /^_/u.","line":18,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":26},{"ruleId":"no-unused-vars","severity":1,"message":"'info' is defined but never used. Allowed unused args must match /^_/u.","line":18,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":18,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { View, Text, Button, StyleSheet } from 'react-native';\r\n\r\n/**\r\n * Simple error boundary to catch render errors in production and show fallback UI.\r\n * Place at high level (e.g., wrap `App` root) to prevent full white-screen crashes.\r\n */\r\nexport default class ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false, error: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    return { hasError: true, error };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    // TODO: hook into logging/monitoring service (Sentry/LogRocket)\r\n    try {\r\n      // send to remote logger if configured\r\n      // Logger.captureException(error, { extra: info });\r\n    } catch (e) {}\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return (\r\n        <View style={styles.container}>\r\n          <Text style={styles.title}>Something went wrong</Text>\r\n          <Text style={styles.message}>An unexpected error occurred. Please restart the app.</Text>\r\n          <Button title=\"Reload\" onPress={() => { this.setState({ hasError: false, error: null }); }} />\r\n        </View>\r\n      );\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { flex: 1, justifyContent: 'center', alignItems: 'center', padding: 16, backgroundColor: '#fff' },\r\n  title: { fontSize: 18, fontWeight: '700', marginBottom: 8 },\r\n  message: { fontSize: 14, color: '#666', marginBottom: 12, textAlign: 'center' },\r\n});\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\ExpenseForm.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'setClassification' is assigned a value but never used.","line":11,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":43},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 80 }","line":38,"column":78,"nodeType":"ObjectExpression","endLine":38,"endColumn":92},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'space-between',\n  marginTop: 12\n}","line":40,"column":20,"nodeType":"ObjectExpression","endLine":40,"endColumn":92},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":42,"column":83,"nodeType":"ObjectExpression","endLine":42,"endColumn":100}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\r\n\r\nconst categories = ['Gas', 'Tires', 'Lunch', 'Oil Change', 'Maintenance', 'Tolls', 'Parking', 'Other'];\r\n\r\nconst ExpenseForm = ({ initial = {}, onSave, onCancel }) => {\r\n  const [date, setDate] = useState(initial.date || new Date().toISOString().slice(0, 10));\r\n  const [amount, setAmount] = useState(initial.amount ? String(initial.amount) : '');\r\n  const [category, setCategory] = useState(initial.category || 'Other');\r\n  const [notes, setNotes] = useState(initial.notes || '');\r\n  const [classification, setClassification] = useState(initial.classification || 'Business');\r\n\r\n  const handleSave = () => {\r\n    const parsed = parseFloat(amount || '0');\r\n    if (!date || !parsed) return; // minimal validation\r\n    const out = { ...initial, id: initial.id || `exp:${Date.now()}`, date, amount: parsed, category, notes, classification };\r\n    onSave && onSave(out);\r\n  };\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.label}>Date</Text>\r\n      <TextInput value={date} onChangeText={setDate} style={styles.input} />\r\n\r\n      <Text style={styles.label}>Amount</Text>\r\n      <TextInput value={amount} onChangeText={setAmount} style={styles.input} keyboardType=\"numeric\" />\r\n\r\n      <Text style={styles.label}>Category</Text>\r\n      <View style={styles.row}>\r\n        {categories.map((c) => (\r\n          <TouchableOpacity key={c} onPress={() => setCategory(c)} style={[styles.chip, category === c && styles.chipActive]}>\r\n            <Text style={category === c ? styles.chipTextActive : styles.chipText}>{c}</Text>\r\n          </TouchableOpacity>\r\n        ))}\r\n      </View>\r\n\r\n      <Text style={styles.label}>Notes</Text>\r\n      <TextInput value={notes} onChangeText={setNotes} style={[styles.input, { height: 80 }]} multiline />\r\n\r\n      <View style={{ flexDirection: 'row', justifyContent: 'space-between', marginTop: 12 }}>\r\n        <TouchableOpacity onPress={onCancel} style={styles.buttonAlt}><Text>Cancel</Text></TouchableOpacity>\r\n        <TouchableOpacity onPress={handleSave} style={styles.button}><Text style={{ color: '#fff' }}>Save</Text></TouchableOpacity>\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { padding: 12 },\r\n  label: { marginTop: 8, marginBottom: 4, color: '#333' },\r\n  input: { backgroundColor: '#fff', borderWidth: 1, borderColor: '#e0e0e0', padding: 8, borderRadius: 6 },\r\n  row: { flexDirection: 'row', flexWrap: 'wrap', marginTop: 6 },\r\n  chip: { paddingVertical: 6, paddingHorizontal: 10, borderRadius: 18, backgroundColor: '#fff', borderWidth: 1, borderColor: '#ddd', marginRight: 8, marginBottom: 8 },\r\n  chipActive: { backgroundColor: '#4caf50', borderColor: '#4caf50' },\r\n  chipText: { color: '#333' },\r\n  chipTextActive: { color: '#fff' },\r\n  button: { backgroundColor: '#1976d2', padding: 12, borderRadius: 8, width: 120, alignItems: 'center' },\r\n  buttonAlt: { backgroundColor: '#eee', padding: 12, borderRadius: 8, width: 120, alignItems: 'center' },\r\n});\r\n\r\nexport default ExpenseForm;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\ExpenseLogger.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":31,"column":18,"nodeType":"ObjectExpression","endLine":31,"endColumn":33},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18 }","line":32,"column":20,"nodeType":"ObjectExpression","endLine":32,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, padding: 8, marginVertical: 8 }","line":38,"column":16,"nodeType":"ObjectExpression","endLine":38,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginVertical: 8 }","line":40,"column":20,"nodeType":"ObjectExpression","endLine":40,"endColumn":41},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, padding: 8, marginVertical: 8 }","line":53,"column":16,"nodeType":"ObjectExpression","endLine":53,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12, color: '#666' }","line":56,"column":20,"nodeType":"ObjectExpression","endLine":56,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useContext } from 'react';\r\nimport { View, Text, TextInput, Button } from 'react-native';\r\n// Picker moved to community package. Install with:\r\n// expo install @react-native-picker/picker\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { DataContext } from '../context/DataContext';\r\n\r\nconst categories = ['fuel', 'maintenance', 'tolls', 'parking', 'other'];\r\n\r\nexport const ExpenseLogger = () => {\r\n  const { addExpense } = useContext(DataContext);\r\n  const [amount, setAmount] = useState('');\r\n  const [category, setCategory] = useState(categories[0]);\r\n  const [note, setNote] = useState('');\r\n\r\n  const submit = () => {\r\n    const expense = {\r\n      id: `e-${Date.now()}`,\r\n      amount: Number(amount) || 0,\r\n      category,\r\n      note,\r\n      date: new Date().toISOString(),\r\n      receiptPhoto: null, // placeholder for file URI\r\n    };\r\n    addExpense(expense);\r\n    setAmount('');\r\n    setNote('');\r\n  };\r\n\r\n  return (\r\n    <View style={{ padding: 16 }}>\r\n      <Text style={{ fontSize: 18 }}>Expense Logger</Text>\r\n      <TextInput\r\n        placeholder=\"Amount\"\r\n        keyboardType=\"numeric\"\r\n        value={amount}\r\n        onChangeText={setAmount}\r\n        style={{ borderWidth: 1, padding: 8, marginVertical: 8 }}\r\n      />\r\n      <View style={{ marginVertical: 8 }}>\r\n        <Text>Category</Text>\r\n        {/* Using Picker from react-native may require community picker on some platforms */}\r\n        <Picker selectedValue={category} onValueChange={(v) => setCategory(v)}>\r\n          {categories.map((c) => (\r\n            <Picker.Item label={c} value={c} key={c} />\r\n          ))}\r\n        </Picker>\r\n      </View>\r\n      <TextInput\r\n        placeholder=\"Note\"\r\n        value={note}\r\n        onChangeText={setNote}\r\n        style={{ borderWidth: 1, padding: 8, marginVertical: 8 }}\r\n      />\r\n      <Button title=\"Add Expense\" onPress={submit} />\r\n      <Text style={{ marginTop: 12, color: '#666' }}>\r\n        Receipt upload placeholder: integrate ImagePicker/FileSystem for photos.\r\n      </Text>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ExpenseLogger;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\MileageTracker.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":25,"column":18,"nodeType":"ObjectExpression","endLine":25,"endColumn":33},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 18, marginBottom: 8 }","line":26,"column":20,"nodeType":"ObjectExpression","endLine":26,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderWidth: 1, padding: 8, marginVertical: 8 }","line":33,"column":16,"nodeType":"ObjectExpression","endLine":33,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12, color: '#666' }","line":40,"column":20,"nodeType":"ObjectExpression","endLine":40,"endColumn":52}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useContext } from 'react';\r\nimport { View, Text, Button, TextInput } from 'react-native';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { useLocationTracker } from '../hooks/useLocation';\r\n\r\nexport const MileageTracker = () => {\r\n  const { addRoute } = useContext(DataContext);\r\n  const { tracking, start, stop, distanceMiles } = useLocationTracker();\r\n  const [purpose, setPurpose] = useState('');\r\n\r\n  const handleStop = () => {\r\n    // Save route\r\n    const route = {\r\n      id: `r-${Date.now()}`,\r\n      start: new Date().toISOString(),\r\n      end: new Date().toISOString(),\r\n      distance: distanceMiles,\r\n      purpose,\r\n    };\r\n    addRoute(route);\r\n    stop();\r\n  };\r\n\r\n  return (\r\n    <View style={{ padding: 16 }}>\r\n      <Text style={{ fontSize: 18, marginBottom: 8 }}>Mileage Tracker</Text>\r\n      <Text>Tracking: {String(tracking)}</Text>\r\n      <Text>Distance (mi): {distanceMiles}</Text>\r\n      <TextInput\r\n        placeholder=\"Purpose (e.g., delivery, client meeting)\"\r\n        value={purpose}\r\n        onChangeText={setPurpose}\r\n        style={{ borderWidth: 1, padding: 8, marginVertical: 8 }}\r\n      />\r\n      {!tracking ? (\r\n        <Button title=\"Start Route\" onPress={start} />\r\n      ) : (\r\n        <Button title=\"Stop & Save Route\" onPress={handleStop} />\r\n      )}\r\n      <Text style={{ marginTop: 12, color: '#666' }}>\r\n        Note: Location permissions and background tracking require Expo Location and platform setup.\r\n      </Text>\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default MileageTracker;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\MiniSparkline.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\MonthlySummaryBar.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\ProfileHeaderButton.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingBottom: 10,\n  width: 44,\n  height: 44,\n  alignItems: 'center',\n  justifyContent: 'center'\n}","line":24,"column":14,"nodeType":"ObjectExpression","endLine":24,"endColumn":106}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useCallback } from 'react';\r\nimport { TouchableOpacity } from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { ModalCloseContext } from '../context/ModalCloseContext';\r\n\r\nconst ProfileHeaderButton = ({ size = 22 }) => {\r\n  const navigation = useNavigation();\r\n  const { closeAll } = useContext(ModalCloseContext) || {};\r\n\r\n  const handlePress = useCallback(() => {\r\n    try {\r\n      closeAll && closeAll();\r\n    } catch (e) {\r\n      // ignore\r\n    }\r\n    navigation.navigate('Profile');\r\n  }, [closeAll, navigation]);\r\n\r\n  return (\r\n    <TouchableOpacity\r\n      onPress={handlePress}\r\n      activeOpacity={0.8}\r\n      style={{ paddingBottom: 10, width: 44, height: 44, alignItems: 'center', justifyContent: 'center' }}\r\n      accessibilityRole=\"button\"\r\n      accessibilityLabel=\"Open profile\"\r\n    >\r\n      <Ionicons name=\"person-outline\" size={size} color=\"#1565c0\" />\r\n    </TouchableOpacity>\r\n  );\r\n};\r\nexport default React.memo(ProfileHeaderButton);\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\components\\ReportTile.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Animated' is defined but never used.","line":2,"column":47,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":55},{"ruleId":"no-undef","severity":2,"message":"'renderLeftActions' is not defined.","line":25,"column":26,"nodeType":"Identifier","messageId":"undef","endLine":25,"endColumn":43},{"ruleId":"no-undef","severity":2,"message":"'renderRightActions' is not defined.","line":26,"column":27,"nodeType":"Identifier","messageId":"undef","endLine":26,"endColumn":45},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 12,\n  borderRadius: 10,\n  backgroundColor: \"selectionMode && selected ? '#e3f2fd' : '#fff'\",\n  marginTop: 6,\n  marginBottom: 6,\n  borderWidth: 1,\n  borderColor: '#eee',\n  shadowColor: '#000',\n  shadowOpacity: 0.04,\n  shadowRadius: 6,\n  overflow: 'hidden',\n  flexDirection: 'row',\n  minHeight: 150,\n  position: 'relative'\n}","line":44,"column":22,"nodeType":"ObjectExpression","endLine":44,"endColumn":327},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '30%',\n  paddingRight: 8,\n  marginLeft: 0,\n  position: 'relative',\n  marginTop: 5\n}","line":45,"column":24,"nodeType":"ObjectExpression","endLine":45,"endColumn":107},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '100%',\n  height: 120,\n  borderRadius: 8,\n  backgroundColor: '#f6f6f6'\n}","line":46,"column":46,"nodeType":"ObjectExpression","endLine":46,"endColumn":121},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  right: 0,\n  top: -8,\n  backgroundColor: \"isBusiness ? '#4caf50' : '#ffb74d'\",\n  borderRadius: 12,\n  paddingHorizontal: 8,\n  paddingVertical: 4,\n  borderWidth: 0,\n  alignItems: 'center',\n  justifyContent: 'center',\n  shadowColor: '#000',\n  shadowOpacity: 0.08,\n  shadowRadius: 4,\n  elevation: 2\n}","line":48,"column":26,"nodeType":"ObjectExpression","endLine":48,"endColumn":319},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 11, fontWeight: '700', color: '#fff' }","line":49,"column":28,"nodeType":"ObjectExpression","endLine":49,"endColumn":78},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '54%',\n  justifyContent: 'flex-start',\n  alignItems: 'flex-start',\n  paddingLeft: 8\n}","line":53,"column":24,"nodeType":"ObjectExpression","endLine":53,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }","line":54,"column":26,"nodeType":"ObjectExpression","endLine":54,"endColumn":91},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  marginTop: 23,\n  marginLeft: -13,\n  alignItems: 'center'\n}","line":55,"column":26,"nodeType":"ObjectExpression","endLine":55,"endColumn":103},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 20, alignItems: 'center', marginLeft: 7 }","line":56,"column":28,"nodeType":"ObjectExpression","endLine":56,"endColumn":78},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, paddingLeft: 0, flexShrink: 1 }","line":59,"column":28,"nodeType":"ObjectExpression","endLine":59,"endColumn":70},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', fontSize: 15, lineHeight: 18 }","line":60,"column":30,"nodeType":"ObjectExpression","endLine":60,"endColumn":77},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', marginTop: 4, fontSize: 15, lineHeight: 18 }","line":63,"column":50,"nodeType":"ObjectExpression","endLine":63,"endColumn":111},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '16%',\n  minWidth: 72,\n  justifyContent: 'flex-start',\n  alignItems: 'flex-end',\n  paddingRight: 6,\n  paddingTop: 0\n}","line":68,"column":24,"nodeType":"ObjectExpression","endLine":68,"endColumn":140},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginBottom: 40,\n  alignItems: 'flex-end',\n  justifyContent: 'flex-start',\n  width: '100%',\n  marginTop: 0\n}","line":69,"column":26,"nodeType":"ObjectExpression","endLine":69,"endColumn":129},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }","line":71,"column":30,"nodeType":"ObjectExpression","endLine":71,"endColumn":100},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }","line":73,"column":30,"nodeType":"ObjectExpression","endLine":73,"endColumn":100},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#1976d2',\n  borderRadius: 6,\n  marginBottom: 6,\n  alignSelf: 'flex-end'\n}","line":76,"column":67,"nodeType":"ObjectExpression","endLine":76,"endColumn":166},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#d32f2f',\n  borderRadius: 6,\n  alignSelf: 'flex-end'\n}","line":79,"column":192,"nodeType":"ObjectExpression","endLine":79,"endColumn":274}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":19,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useRef, useMemo } from 'react';\r\nimport { View, Text, TouchableOpacity, Image, Animated, Alert } from 'react-native';\r\nimport { Swipeable } from 'react-native-gesture-handler';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst ReportTile = ({ item, type = 'route', onClassify = () => {}, onDelete = () => {}, onEdit = () => {}, selectionMode = false, selected = false, onSelectToggle = () => {} }) => {\r\n  const swipeRef = useRef(null);\r\n\r\n  const imgSource = useMemo(() => {\r\n    if (type === 'route') return item.mapImage ? { uri: item.mapImage } : require('../../assets/icon.png');\r\n    return item.image ? { uri: item.image } : require('../../assets/icon.png');\r\n  }, [item, type]);\r\n\r\n  const isBusiness = useMemo(() => (((item.purpose || item.classification) || '').toLowerCase().includes('bus')),\r\n    [item]);\r\n\r\n  // dummy address fallbacks to match Miscellaneous screen behavior\r\n  const startAddr = useMemo(() => item.startAddress || item.origin || item.from || item.startLabel || '123 Main St, Anytown', [item]);\r\n  const endAddr = useMemo(() => item.endAddress || item.destination || item.to || item.endLabel || '456 Market St, Anytown', [item]);\r\n  const purchaseAddr = useMemo(() => item.address || item.location || item.vendorAddress || item.placeAddress || (item.notes && item.notes.substring(0, 60)) || 'Store Address, Anytown', [item]);\r\n  const startDisplay = type === 'route' ? startAddr : purchaseAddr;\r\n\r\n  return (\r\n    <Swipeable\r\n      renderLeftActions={renderLeftActions}\r\n      renderRightActions={renderRightActions}\r\n      // Make full-swipe confirmation reliable: moderate friction and deliberate thresholds\r\n      friction={1.2}\r\n      overshootLeft={true}\r\n      overshootRight={true}\r\n      leftThreshold={80}\r\n      rightThreshold={80}\r\n      ref={swipeRef}\r\n      onSwipeableOpen={(direction) => {\r\n        // direction === 'left' means left actions were opened (user swiped RIGHT)\r\n        try {\r\n          if (direction === 'left') onClassify('Business'); else onClassify('Personal');\r\n        } catch (e) {}\r\n        // close swipeable after action\r\n        try { swipeRef && swipeRef.current && swipeRef.current.close && swipeRef.current.close(); } catch (e) {}\r\n      }}\r\n    >\r\n      <TouchableOpacity activeOpacity={0.9} onPress={() => { if (selectionMode) onSelectToggle(item.id || item.key); }}>\r\n        <View style={{ padding: 12, borderRadius: 10, backgroundColor: selectionMode && selected ? '#e3f2fd' : '#fff', marginTop: 6, marginBottom: 6, borderWidth: 1, borderColor: '#eee', shadowColor: '#000', shadowOpacity: 0.04, shadowRadius: 6, overflow: 'hidden', flexDirection: 'row', minHeight: 150, position: 'relative' }}>\r\n          <View style={{ width: '30%', paddingRight: 8, marginLeft: 0, position: 'relative', marginTop:5 }}>\r\n            <Image source={imgSource} style={{ width: '100%', height: 120, borderRadius: 8, backgroundColor: '#f6f6f6' }} resizeMode=\"cover\" />\r\n            {/* classification badge (replacing Route/Expense label) */}\r\n            <View style={{ position: 'absolute', right: 0, top: -8, backgroundColor: isBusiness ? '#4caf50' : '#ffb74d', borderRadius: 12, paddingHorizontal: 8, paddingVertical: 4, borderWidth: 0, alignItems: 'center', justifyContent: 'center', shadowColor: '#000', shadowOpacity: 0.08, shadowRadius: 4, elevation: 2 }}>\r\n              <Text style={{ fontSize: 11, fontWeight: '700', color: '#fff' }}>{isBusiness ? 'Business' : 'Unclaimed'}</Text>\r\n            </View>\r\n          </View>\r\n\r\n          <View style={{ width: '54%', justifyContent: 'flex-start', alignItems: 'flex-start', paddingLeft: 8 }}>\r\n            <Text style={{ fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }}>{item.purpose || item.description || (type === 'route' ? 'Miscellaneous' : 'Miscellaneous')}</Text>\r\n            <View style={{ flexDirection: 'row', marginTop: 23, marginLeft:-13, alignItems: 'center' }}>\r\n              <View style={{ width: 20, alignItems: 'center', marginLeft: 7 }}>\r\n                <Ionicons name=\"location-outline\" size={20} color=\"#000\" />\r\n              </View>\r\n              <View style={{ flex: 1, paddingLeft: 0, flexShrink: 1 }}>\r\n                <Text style={{ color: '#333', fontSize: 15, lineHeight: 18 }} numberOfLines={2} ellipsizeMode=\"tail\">\r\n                  {startDisplay}\r\n                </Text>\r\n                {type === 'route' ? <Text style={{ color: '#333', marginTop: 4, fontSize: 15, lineHeight: 18 }}>{endAddr}</Text> : null}\r\n              </View>\r\n            </View>\r\n          </View>\r\n\r\n          <View style={{ width: '16%', minWidth: 72, justifyContent: 'flex-start', alignItems: 'flex-end', paddingRight: 6, paddingTop: 0 }}>\r\n            <View style={{ marginBottom: 40, alignItems: 'flex-end', justifyContent: 'flex-start', width: '100%', marginTop: 0 }}>\r\n              {type === 'route' ? (\r\n                <Text style={{ color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }}>{(item.distance != null) ? Number(item.distance).toFixed(1) + ' mi' : '0.0 mi'}</Text>\r\n              ) : (\r\n                <Text style={{ color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }}>{(() => { try { const amt = typeof item.amount === 'number' ? item.amount : (item.amount ? Number(item.amount) : NaN); if (!isFinite(amt)) return ''; return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 2 }).format(amt); } catch (e) { return item.amount ? `$${Number(item.amount).toFixed(2)}` : ''; } })()}</Text>\r\n              )}\r\n            </View>\r\n            <TouchableOpacity onPress={() => onEdit(item)} style={{ padding: 6, backgroundColor: '#1976d2', borderRadius: 6, marginBottom: 6, alignSelf: 'flex-end' }}>\r\n              <Ionicons name=\"pencil\" size={16} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n            <TouchableOpacity onPress={() => Alert.alert('Delete', 'Delete this item?', [{ text: 'Cancel' }, { text: 'Delete', style: 'destructive', onPress: () => onDelete(item) }])} style={{ padding: 6, backgroundColor: '#d32f2f', borderRadius: 6, alignSelf: 'flex-end' }}>\r\n              <Ionicons name=\"trash\" size={16} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </TouchableOpacity>\r\n    </Swipeable>\r\n  );\r\n};\r\n\r\nexport default React.memo(ReportTile);\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\config\\cloudConfig.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\config\\mapConfig.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\context\\AuthContext.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\context\\DataContext.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\context\\ModalCloseContext.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\data\\taxRates.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\hooks\\useCloudSync.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":12,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":12,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[383,430],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":26,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":26,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[753,796],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Placeholder hook for cloud sync (Firebase/Supabase)\r\n// Implement real sync logic when provider and credentials are available\r\nimport { useState } from 'react';\r\n\r\nexport const useCloudSync = () => {\r\n  const [syncing, setSyncing] = useState(false);\r\n\r\n  const syncToCloud = async (data) => {\r\n    setSyncing(true);\r\n    try {\r\n      // TODO: upload data to cloud provider\r\n      console.log('syncToCloud (placeholder)', data);\r\n      return { ok: true };\r\n    } catch (err) {\r\n      console.warn('syncToCloud error', err);\r\n      return { ok: false, error: err };\r\n    } finally {\r\n      setSyncing(false);\r\n    }\r\n  };\r\n\r\n  const syncFromCloud = async () => {\r\n    setSyncing(true);\r\n    try {\r\n      // TODO: fetch data from cloud provider\r\n      console.log('syncFromCloud (placeholder)');\r\n      return { ok: true, data: null };\r\n    } catch (err) {\r\n      console.warn('syncFromCloud error', err);\r\n      return { ok: false, error: err };\r\n    } finally {\r\n      setSyncing(false);\r\n    }\r\n  };\r\n\r\n  return { syncing, syncToCloud, syncFromCloud };\r\n};\r\n\r\nexport default useCloudSync;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\hooks\\useDrives.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\hooks\\useExpenses.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\hooks\\useLocation.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\AppNavigator.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\BottomTabs.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'SettingsStack' is defined but never used.","line":8,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":21},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “BottomTabs” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":46,"column":23,"nodeType":"ArrowFunctionExpression","endLine":98,"endColumn":12},{"ruleId":"no-unused-vars","severity":1,"message":"'color' is defined but never used. Allowed unused args must match /^_/u.","line":46,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":46,"endColumn":40},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “BottomTabs” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":49,"column":29,"nodeType":"ArrowFunctionExpression","endLine":95,"endColumn":14},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  alignItems: 'center',\n  justifyContent: 'center',\n  position: 'relative'\n}","line":69,"column":30,"nodeType":"ObjectExpression","endLine":69,"endColumn":147},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  top: -4,\n  right: -6,\n  width: 12,\n  height: 12,\n  borderRadius: 6,\n  backgroundColor: '#d32f2f',\n  borderWidth: 2,\n  borderColor: '#fff',\n  shadowColor: '#000',\n  shadowOpacity: 0.2,\n  shadowRadius: 1,\n  elevation: 2\n}","line":74,"column":30,"nodeType":"ObjectExpression","endLine":90,"endColumn":24},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “BottomTabs” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":107,"column":23,"nodeType":"ArrowFunctionExpression","endLine":109,"endColumn":12},{"ruleId":"no-unused-vars","severity":1,"message":"'color' is defined but never used. Allowed unused args must match /^_/u.","line":107,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":107,"endColumn":40},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “BottomTabs” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":117,"column":23,"nodeType":"ArrowFunctionExpression","endLine":119,"endColumn":12},{"ruleId":"no-unused-vars","severity":1,"message":"'color' is defined but never used. Allowed unused args must match /^_/u.","line":117,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":117,"endColumn":40},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “BottomTabs” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":127,"column":23,"nodeType":"ArrowFunctionExpression","endLine":129,"endColumn":12},{"ruleId":"no-unused-vars","severity":1,"message":"'color' is defined but never used. Allowed unused args must match /^_/u.","line":127,"column":35,"nodeType":"Identifier","messageId":"unusedVar","endLine":127,"endColumn":40}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useMemo, useRef, useEffect } from 'react';\r\nimport { View, Animated, Easing } from 'react-native';\r\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\r\nimport DashboardStack from './DashboardStack';\r\nimport DrivesStack from './DrivesStack';\r\nimport ExpensesStack from './ExpensesStack';\r\nimport ReportsStack from './ReportsStack';\r\nimport SettingsStack from './SettingsStack';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { ModalCloseContext } from '../context/ModalCloseContext';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst Tab = createBottomTabNavigator();\r\n\r\nexport const BottomTabs = () => {\r\n  const { mileage, expenses } = useContext(DataContext);\r\n  const { closeAll } = useContext(ModalCloseContext);\r\n\r\n  const unclassifiedExists = useMemo(() => {\r\n    const uTrips = (mileage || []).some((t) => !t.purpose || String(t.purpose).toLowerCase().includes('misc'));\r\n    const uExpenses = (expenses || []).some((e) => !e.classification || String(e.classification).toLowerCase().includes('misc'));\r\n    return uTrips || uExpenses;\r\n  }, [mileage, expenses]);\r\n\r\n  return (\r\n    <Tab.Navigator\r\n      initialRouteName=\"Dashboard\"\r\n      screenOptions={{\r\n        headerShown: false,\r\n        tabBarShowLabel: true,\r\n        tabBarActiveTintColor: '#222',\r\n        tabBarInactiveTintColor: '#888',\r\n        tabBarStyle: { height: 64, paddingBottom: 8, paddingTop: 6, backgroundColor: '#fff', borderTopWidth: 0.5, borderTopColor: '#eee' },\r\n        tabBarLabelStyle: { fontSize: 12, fontWeight: '600' },\r\n      }}\r\n    >\r\n      <Tab.Screen\r\n        name=\"Dashboard\"\r\n        component={DashboardStack}\r\n        listeners={() => ({\r\n          tabPress: () => {\r\n            try { closeAll(); } catch (e) {}\r\n          },\r\n        })}\r\n        options={{\r\n          tabBarIcon: ({ focused, color, size }) => {\r\n            const iconSize = size || 22;\r\n\r\n            const TabIcon = () => {\r\n              const pulse = useRef(new Animated.Value(1)).current;\r\n\r\n              useEffect(() => {\r\n                let anim;\r\n                if (unclassifiedExists) {\r\n                  anim = Animated.loop(\r\n                    Animated.sequence([\r\n                      Animated.timing(pulse, { toValue: 1.15, duration: 700, easing: Easing.inOut(Easing.quad), useNativeDriver: true }),\r\n                      Animated.timing(pulse, { toValue: 1.0, duration: 700, easing: Easing.inOut(Easing.quad), useNativeDriver: true }),\r\n                    ])\r\n                  );\r\n                  anim.start();\r\n                }\r\n                return () => {\r\n                  if (anim) anim.stop();\r\n                };\r\n              }, [pulse]);\r\n\r\n              return (\r\n                <View style={{ width: iconSize + 12, height: iconSize + 12, alignItems: 'center', justifyContent: 'center', position: 'relative' }}>\r\n                  <Ionicons name={focused ? 'home' : 'home-outline'} size={iconSize} color={focused ? '#222' : '#888'} />\r\n\r\n                  {unclassifiedExists && (\r\n                    <Animated.View\r\n                      style={{\r\n                        position: 'absolute',\r\n                        top: -4,\r\n                        right: -6,\r\n                        width: 12,\r\n                        height: 12,\r\n                        borderRadius: 6,\r\n                        backgroundColor: '#d32f2f',\r\n                        borderWidth: 2,\r\n                        borderColor: '#fff',\r\n                        transform: [{ scale: pulse }],\r\n                        shadowColor: '#000',\r\n                        shadowOffset: { width: 0, height: 1 },\r\n                        shadowOpacity: 0.2,\r\n                        shadowRadius: 1,\r\n                        elevation: 2,\r\n                      }}\r\n                    />\r\n                  )}\r\n                </View>\r\n              );\r\n            };\r\n\r\n            return <TabIcon />;\r\n          },\r\n        }}\r\n      />\r\n\r\n      <Tab.Screen\r\n        name=\"Routes\"\r\n        component={DrivesStack}\r\n        listeners={() => ({ tabPress: () => { try { closeAll(); } catch (e) {} } })}\r\n        options={{\r\n          tabBarIcon: ({ focused, color, size }) => (\r\n            <Ionicons name={focused ? 'car' : 'car-outline'} size={size || 22} color={focused ? '#222' : '#888'} />\r\n          ),\r\n        }}\r\n      />\r\n      <Tab.Screen\r\n        name=\"Expenses\"\r\n        component={ExpensesStack}\r\n        listeners={() => ({ tabPress: () => { try { closeAll(); } catch (e) {} } })}\r\n        options={{\r\n          tabBarIcon: ({ focused, color, size }) => (\r\n            <Ionicons name={focused ? 'receipt' : 'receipt-outline'} size={size || 22} color={focused ? '#222' : '#888'} />\r\n          ),\r\n        }}\r\n      />\r\n      <Tab.Screen\r\n        name=\"Reports\"\r\n        component={ReportsStack}\r\n        listeners={() => ({ tabPress: () => { try { closeAll(); } catch (e) {} } })}\r\n        options={{\r\n          tabBarIcon: ({ focused, color, size }) => (\r\n            <Ionicons name={focused ? 'stats-chart' : 'bar-chart-outline'} size={size || 22} color={focused ? '#222' : '#888'} />\r\n          ),\r\n        }}\r\n      />\r\n      {/* Profile/Settings is mounted at root in AppNavigator; no bottom tab entry here */}\r\n    </Tab.Navigator>\r\n  );\r\n};\r\n\r\nexport default BottomTabs;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\DashboardStack.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 8, flexDirection: 'row', alignItems: 'center' }","line":25,"column":14,"nodeType":"ObjectExpression","endLine":25,"endColumn":75},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', textAlign: 'center' }","line":30,"column":22,"nodeType":"ObjectExpression","endLine":30,"endColumn":60},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginLeft: 6,\n  minWidth: 24,\n  height: 24,\n  borderRadius: 12,\n  backgroundColor: \"count ? '#FFBF00' : '#008450'\",\n  alignItems: 'center',\n  justifyContent: 'center'\n}","line":32,"column":20,"nodeType":"ObjectExpression","endLine":32,"endColumn":177},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700', fontSize: 12 }","line":33,"column":22,"nodeType":"ObjectExpression","endLine":33,"endColumn":72},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 8, paddingHorizontal: 8, paddingVertical: 6 }","line":42,"column":66,"nodeType":"ObjectExpression","endLine":42,"endColumn":125},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, color: '#1565c0' }","line":43,"column":20,"nodeType":"ObjectExpression","endLine":43,"endColumn":54},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { alignItems: 'center' }","line":49,"column":16,"nodeType":"ObjectExpression","endLine":49,"endColumn":40},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, fontWeight: '700' }","line":50,"column":18,"nodeType":"ObjectExpression","endLine":50,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 12, color: '#666' }","line":51,"column":18,"nodeType":"ObjectExpression","endLine":51,"endColumn":49},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “DashboardStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":69,"column":52,"nodeType":"ArrowFunctionExpression","endLine":69,"endColumn":86},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “DashboardStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":69,"column":101,"nodeType":"ArrowFunctionExpression","endLine":69,"endColumn":130},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “DashboardStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":76,"column":24,"nodeType":"ArrowFunctionExpression","endLine":76,"endColumn":50},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “DashboardStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":77,"column":23,"nodeType":"ArrowFunctionExpression","endLine":77,"endColumn":48}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from 'react';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { TouchableOpacity, View, Text } from 'react-native';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport DashboardScreen from '../screens/DashboardScreen';\r\nimport Miscellaneous from '../screens/Miscellaneous';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { ModalCloseContext } from '../context/ModalCloseContext';\r\nimport ProfileHeaderButton from '../components/ProfileHeaderButton';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst UnclassifiedHeaderButton = () => {\r\n  const navigation = useNavigation();\r\n  const { mileage, expenses } = useContext(DataContext);\r\n  const { closeAll } = useContext(ModalCloseContext) || {};\r\n\r\n  const uTrips = (mileage || []).filter((t) => !t.purpose || String(t.purpose).toLowerCase().includes('misc'));\r\n  const uExpenses = (expenses || []).filter((e) => !e.classification || String(e.classification).toLowerCase().includes('misc'));\r\n  const count = (uTrips.length || 0) + (uExpenses.length || 0);\r\n\r\n  return (\r\n    <TouchableOpacity\r\n      onPress={() => { try { closeAll && closeAll(); } catch (e) {} ; navigation.navigate('Miscellaneous'); }}\r\n      style={{ marginLeft: 8, flexDirection: 'row', alignItems: 'center' }}\r\n      accessibilityRole=\"button\"\r\n      accessibilityLabel={`Miscellaneous items ${count}`}\r\n    >\r\n      <View style={{}}>\r\n        <Text style={{ color: '#333', textAlign: 'center' }}>Attention{'\\n'}Needed</Text>\r\n      </View>\r\n      <View style={{ marginLeft: 6, minWidth: 24, height: 24, borderRadius: 12, backgroundColor: count ? '#FFBF00' : '#008450', alignItems: 'center', justifyContent: 'center' }}>\r\n        <Text style={{ color: '#fff', fontWeight: '700', fontSize: 12 }}>{count}</Text>\r\n      </View>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst SmallBackButton = () => {\r\n  const navigation = useNavigation();\r\n  return (\r\n    <TouchableOpacity onPress={() => navigation.goBack()} style={{ marginLeft: 8, paddingHorizontal: 8, paddingVertical: 6 }} accessibilityRole=\"button\" accessibilityLabel=\"Back to dashboard\">\r\n      <Text style={{ fontSize: 16, color: '#1565c0' }}>{'‹ Back'}</Text>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n\r\nconst HeaderTitleStack = ({ title = 'Miscellaneous', subtitle = 'Items' }) => (\r\n  <View style={{ alignItems: 'center' }}>\r\n    <Text style={{ fontSize: 16, fontWeight: '700' }}>{title}</Text>\r\n    <Text style={{ fontSize: 12, color: '#666' }}>{subtitle}</Text>\r\n  </View>\r\n);\r\n\r\nconst DashboardStack = () => {\r\n  return (\r\n    <Stack.Navigator\r\n      screenOptions={{\r\n        headerTitleAlign: 'center',\r\n        headerLargeTitle: false,\r\n        headerStyle: { height: 56 },\r\n        headerTitleStyle: { fontSize: 18, fontWeight: '700' },\r\n        headerShadowVisible: false,\r\n      }}\r\n    >\r\n      <Stack.Screen\r\n        name=\"DashboardMain\"\r\n        component={DashboardScreen}\r\n        options={{ title: 'Dashboard', headerLeft: () => <UnclassifiedHeaderButton />, headerRight: () => <ProfileHeaderButton /> }}\r\n      />\r\n      <Stack.Screen\r\n        name=\"Miscellaneous\"\r\n        component={Miscellaneous}\r\n        options={{\r\n          // custom stacked title and smaller back button\r\n          headerTitle: () => <HeaderTitleStack />,\r\n          headerLeft: () => <SmallBackButton />,\r\n        }}\r\n      />\r\n    </Stack.Navigator>\r\n  );\r\n};\r\n\r\nexport default DashboardStack;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\DrivesStack.js","messages":[{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “DrivesStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":21,"column":48,"nodeType":"ArrowFunctionExpression","endLine":21,"endColumn":77}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport DrivesScreen from '../screens/DrivesScreen';\r\nimport ProfileHeaderButton from '../components/ProfileHeaderButton';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst DrivesStack = () => (\r\n  <Stack.Navigator\r\n    screenOptions={{\r\n      headerTitleAlign: 'center',\r\n      headerLargeTitle: false,\r\n      headerStyle: { height: 56 },\r\n      headerTitleStyle: { fontSize: 18, fontWeight: '700' },\r\n      headerShadowVisible: false,\r\n    }}\r\n  >\r\n    <Stack.Screen\r\n      name=\"DrivesMain\"\r\n      component={DrivesScreen}\r\n      options={{ title: 'Routes', headerRight: () => <ProfileHeaderButton /> }}\r\n    />\r\n  </Stack.Navigator>\r\n);\r\n\r\nexport default DrivesStack;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\ExpensesStack.js","messages":[{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ExpensesStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":30,"column":23,"nodeType":"ArrowFunctionExpression","endLine":41,"endColumn":12},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingHorizontal: 12, paddingVertical: 6 }","line":37,"column":22,"nodeType":"ObjectExpression","endLine":37,"endColumn":67},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ExpensesStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":42,"column":24,"nodeType":"ArrowFunctionExpression","endLine":42,"endColumn":53}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { TouchableOpacity } from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport Expenses from '../screens/Expenses';\r\nimport { useContext } from 'react';\r\nimport { ModalCloseContext } from '../context/ModalCloseContext';\r\nimport ProfileHeaderButton from '../components/ProfileHeaderButton';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst ExpensesStack = () => {\r\n  const { closeAll } = useContext(ModalCloseContext) || {};\r\n\r\n  return (\r\n    <Stack.Navigator\r\n      screenOptions={{\r\n        headerTitleAlign: 'center',\r\n        headerLargeTitle: false,\r\n        headerStyle: { height: 56 },\r\n        headerTitleStyle: { fontSize: 18, fontWeight: '700' },\r\n        headerShadowVisible: false,\r\n      }}\r\n    >\r\n      <Stack.Screen\r\n        name=\"ExpensesMain\"\r\n        component={Expenses}\r\n        options={({ navigation, route }) => ({\r\n          title: 'Expenses',\r\n          headerLeft: () => (\r\n            <TouchableOpacity\r\n              onPress={() => {\r\n                try { closeAll && closeAll(); } catch (e) {}\r\n                const isOpen = route && route.params && route.params.openAdd;\r\n                if (isOpen) navigation.setParams({ openAdd: null }); else navigation.setParams({ openAdd: Date.now() });\r\n              }}\r\n              style={{ paddingHorizontal: 12, paddingVertical: 6 }}\r\n            >\r\n              <Ionicons name=\"add\" size={22} color=\"#1976d2\" />\r\n            </TouchableOpacity>\r\n          ),\r\n          headerRight: () => <ProfileHeaderButton />,\r\n        })}\r\n      />\r\n    </Stack.Navigator>\r\n  );\r\n};\r\n\r\nexport default ExpensesStack;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\ReportsStack.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'navigation' is defined but never used. Allowed unused args must match /^_/u.","line":23,"column":19,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":29},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ReportsStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":25,"column":21,"nodeType":"ArrowFunctionExpression","endLine":36,"endColumn":10},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#4caf50' }","line":28,"column":41,"nodeType":"ObjectExpression","endLine":28,"endColumn":71},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#ffb74d' }","line":32,"column":41,"nodeType":"ObjectExpression","endLine":32,"endColumn":71},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ReportsStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":37,"column":22,"nodeType":"ArrowFunctionExpression","endLine":37,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { View, Text, StyleSheet } from 'react-native';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport Reports from '../screens/Reports';\r\nimport ReportsScreen from '../screens/ReportsScreen';\r\nimport ProfileHeaderButton from '../components/ProfileHeaderButton';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst ReportsStack = () => (\r\n  <Stack.Navigator\r\n    screenOptions={{\r\n      headerTitleAlign: 'center',\r\n      headerLargeTitle: false,\r\n      headerStyle: { height: 56 },\r\n      headerTitleStyle: { fontSize: 18, fontWeight: '700' },\r\n      headerShadowVisible: false,\r\n    }}\r\n  >\r\n    <Stack.Screen\r\n      name=\"ReportsMain\"\r\n      component={Reports}\r\n      options={({ navigation }) => ({\r\n        title: 'Reports',\r\n        headerLeft: () => (\r\n          <View style={styles.legendContainer} accessibilityRole=\"toolbar\">\r\n            <View style={styles.legendItem}>\r\n              <View style={[styles.dot, { backgroundColor: '#4caf50' }]} />\r\n              <Text style={styles.legendText}>Business</Text>\r\n            </View>\r\n            <View style={styles.legendItem}>\r\n              <View style={[styles.dot, { backgroundColor: '#ffb74d' }]} />\r\n              <Text style={styles.legendText}>Unclaimed</Text>\r\n            </View>\r\n          </View>\r\n        ),\r\n        headerRight: () => <ProfileHeaderButton />,\r\n      })}\r\n    />\r\n    <Stack.Screen\r\n      name=\"ReportsMonth\"\r\n      component={ReportsScreen}\r\n      options={({ route }) => ({ title: route && route.params && route.params.monthLabel ? route.params.monthLabel : 'Report' })}\r\n    />\r\n  </Stack.Navigator>\r\n);\r\n\r\nexport default ReportsStack;\r\n\r\nconst styles = StyleSheet.create({\r\n  legendContainer: { flexDirection: 'column', alignItems: 'flex-start', paddingLeft: 8, paddingRight: 16 },\r\n  legendItem: { flexDirection: 'row', alignItems: 'center', marginBottom: 2 },\r\n  dot: { width: 10, height: 10, borderRadius: 5, marginRight: 6, borderWidth: 0.5, borderColor: '#ccc' },\r\n  legendText: { fontSize: 12, color: '#333' },\r\n});\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\SettingsStack.js","messages":[{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “SettingsStack” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":35,"column":21,"nodeType":"ArrowFunctionExpression","endLine":39,"endColumn":10},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 8, paddingHorizontal: 8, paddingVertical: 6 }","line":36,"column":72,"nodeType":"ObjectExpression","endLine":36,"endColumn":131}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\r\nimport { TouchableOpacity } from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport Settings from '../screens/SettingsScreen';\r\nimport WorkHoursScreen from '../screens/WorkHoursScreen';\r\nimport EmailSettingsScreen from '../screens/EmailSettingsScreen';\r\nimport PushNotificationsScreen from '../screens/PushNotificationsScreen';\r\nimport NamedLocationsScreen from '../screens/NamedLocationsScreen';\r\nimport VehiclesScreen from '../screens/VehiclesScreen';\r\nimport CustomPurposesScreen from '../screens/CustomPurposesScreen';\r\nimport ContactsScreen from '../screens/ContactsScreen';\r\nimport MileageRatesScreen from '../screens/MileageRatesScreen';\r\nimport AccountScreen from '../screens/AccountScreen';\r\nimport DriveDetectionScreen from '../screens/DriveDetectionScreen';\r\nimport HelpScreen from '../screens/HelpScreen';\r\n\r\nconst Stack = createNativeStackNavigator();\r\n\r\nconst SettingsStack = () => (\r\n  <Stack.Navigator\r\n    screenOptions={{\r\n      headerTitleAlign: 'center',\r\n      headerLargeTitle: false,\r\n      headerStyle: { height: 56 },\r\n      headerTitleStyle: { fontSize: 18, fontWeight: '700' },\r\n      headerShadowVisible: false,\r\n    }}\r\n  >\r\n    <Stack.Screen\r\n      name=\"SettingsMain\"\r\n      component={Settings}\r\n      options={({ navigation }) => ({\r\n        title: 'Profile',\r\n        headerLeft: () => (\r\n          <TouchableOpacity onPress={() => navigation.goBack()} style={{ marginLeft: 8, paddingHorizontal: 8, paddingVertical: 6 }} accessibilityRole=\"button\" accessibilityLabel=\"Back\">\r\n            <Ionicons name=\"chevron-back\" size={20} color=\"#1565c0\" />\r\n          </TouchableOpacity>\r\n        ),\r\n      })}\r\n    />\r\n    <Stack.Screen name=\"Account\" component={AccountScreen} options={{ title: 'Account' }} />\r\n    <Stack.Screen name=\"DriveDetection\" component={DriveDetectionScreen} options={{ title: 'Route Detection' }} />\r\n    <Stack.Screen name=\"Help\" component={HelpScreen} options={{ title: 'Help' }} />\r\n    <Stack.Screen name=\"WorkHours\" component={WorkHoursScreen} options={{ title: 'Work Hours' }} />\r\n    <Stack.Screen name=\"EmailSettings\" component={EmailSettingsScreen} options={{ title: 'Email Communications' }} />\r\n    <Stack.Screen name=\"PushNotifications\" component={PushNotificationsScreen} options={{ title: 'Push Notifications' }} />\r\n    <Stack.Screen name=\"NamedLocations\" component={NamedLocationsScreen} options={{ title: 'Named Locations' }} />\r\n    <Stack.Screen name=\"Vehicles\" component={VehiclesScreen} options={{ title: 'Vehicles' }} />\r\n    <Stack.Screen name=\"CustomPurposes\" component={CustomPurposesScreen} options={{ title: 'Categories' }} />\r\n    <Stack.Screen name=\"Contacts\" component={ContactsScreen} options={{ title: 'Contacts' }} />\r\n    <Stack.Screen name=\"MileageRates\" component={MileageRatesScreen} options={{ title: 'Mileage Rates' }} />\r\n  </Stack.Navigator>\r\n);\r\n\r\nexport default SettingsStack;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\navigation\\SummariesStack.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\AccountScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":22,"column":26,"nodeType":"ObjectExpression","endLine":22,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 8 }","line":25,"column":40,"nodeType":"ObjectExpression","endLine":25,"endColumn":56},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":28,"column":20,"nodeType":"ObjectExpression","endLine":28,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', alignItems: 'center' }","line":32,"column":26,"nodeType":"ObjectExpression","endLine":32,"endColumn":72},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 8 }","line":34,"column":78,"nodeType":"ObjectExpression","endLine":34,"endColumn":95},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', alignItems: 'center' }","line":42,"column":26,"nodeType":"ObjectExpression","endLine":42,"endColumn":72},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 8 }","line":44,"column":78,"nodeType":"ObjectExpression","endLine":44,"endColumn":95},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 20 }","line":49,"column":22,"nodeType":"ObjectExpression","endLine":49,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#d32f2f', fontWeight: '700' }","line":51,"column":24,"nodeType":"ObjectExpression","endLine":51,"endColumn":63}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Alert } from 'react-native';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst AccountScreen = ({ navigation }) => {\r\n  const { user, logout } = useContext(AuthContext);\r\n\r\n  const onSignOut = () => {\r\n    Alert.alert('Sign out', 'Are you sure you want to sign out?', [\r\n      { text: 'Cancel' },\r\n      { text: 'Sign out', style: 'destructive', onPress: () => { logout(); navigation.goBack(); } },\r\n    ]);\r\n  };\r\n\r\n  const onRequestDeletion = () => {\r\n    Alert.alert('Request account deletion', 'We received your request. Our support team will follow up.');\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={styles.infoBox}>\r\n        <Text style={styles.infoText}>The signed in email address is the one we use for communication and subscription.</Text>\r\n        <Text style={[styles.infoText, { marginTop: 8 }]}>To change your email address login to the Web Dashboard with the email below.</Text>\r\n      </View>\r\n\r\n      <View style={{ padding: 16 }}>\r\n        <View style={styles.row}>\r\n          <Text style={styles.label}>Email address</Text>\r\n          <TouchableOpacity onPress={() => Alert.alert('Email', user ? user.email : 'Not signed in') }>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <Text style={styles.value}>{user ? (user.email || user.name) : 'Not signed in'}</Text>\r\n              <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" style={{ marginLeft: 8 }} />\r\n            </View>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.label}>Name</Text>\r\n          <TouchableOpacity onPress={() => Alert.alert('Name', user ? user.name : 'Not signed in') }>\r\n            <View style={{ flexDirection: 'row', alignItems: 'center' }}>\r\n              <Text style={styles.value}>{user ? user.name : ''}</Text>\r\n              <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" style={{ marginLeft: 8 }} />\r\n            </View>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={{ height: 20 }} />\r\n        <TouchableOpacity style={styles.signout} onPress={onSignOut}>\r\n          <Text style={{ color: '#d32f2f', fontWeight: '700' }}>Sign out</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n\r\n      <TouchableOpacity style={styles.deleteRow} onPress={onRequestDeletion}>\r\n        <Text style={styles.deleteText}>Request account deletion</Text>\r\n      </TouchableOpacity>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  infoBox: { backgroundColor: '#f5f5f5', padding: 16, borderRadius: 6, margin: 16 },\r\n  infoText: { color: '#666', lineHeight: 20 },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 12, borderBottomWidth: 1, borderBottomColor: '#fafafa' },\r\n  label: { fontSize: 16, color: '#333' },\r\n  value: { fontWeight: '700', color: '#222' },\r\n  signout: { backgroundColor: '#fff', borderRadius: 6, padding: 14, alignItems: 'center', borderWidth: 1, borderColor: '#f2f2f2' },\r\n  deleteRow: { position: 'absolute', bottom: 16, left: 0, right: 0, alignItems: 'center' },\r\n  deleteText: { color: '#999' },\r\n});\r\n\r\nexport default AccountScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\ContactsScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":32,"column":26,"nodeType":"ObjectExpression","endLine":32,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12 }","line":37,"column":69,"nodeType":"ObjectExpression","endLine":37,"endColumn":86},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row' }","line":43,"column":26,"nodeType":"ObjectExpression","endLine":43,"endColumn":50},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":44,"column":104,"nodeType":"ObjectExpression","endLine":44,"endColumn":121},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#d32f2f', marginLeft: 8 }","line":45,"column":93,"nodeType":"ObjectExpression","endLine":45,"endColumn":138},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":45,"column":154,"nodeType":"ObjectExpression","endLine":45,"endColumn":171},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ContactsScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":48,"column":32,"nodeType":"ArrowFunctionExpression","endLine":48,"endColumn":109},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', paddingTop: 12 }","line":48,"column":51,"nodeType":"ObjectExpression","endLine":48,"endColumn":84},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 12 }","line":50,"column":22,"nodeType":"ObjectExpression","endLine":50,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":52,"column":24,"nodeType":"ObjectExpression","endLine":52,"endColumn":60},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', fontSize: 18, marginBottom: 8 }","line":58,"column":28,"nodeType":"ObjectExpression","endLine":58,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":62,"column":28,"nodeType":"ObjectExpression","endLine":62,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":63,"column":81,"nodeType":"ObjectExpression","endLine":63,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":64,"column":57,"nodeType":"ObjectExpression","endLine":64,"endColumn":117},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":64,"column":132,"nodeType":"ObjectExpression","endLine":64,"endColumn":149}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, FlatList, Modal, TextInput, Alert } from 'react-native';\r\nimport { DataContext } from '../context/DataContext';\r\n\r\nconst ContactsScreen = () => {\r\n  const { contacts, addContact, updateContact, deleteContact } = useContext(DataContext);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editing, setEditing] = useState(null);\r\n  const [name, setName] = useState('');\r\n  const [phone, setPhone] = useState('');\r\n  const [email, setEmail] = useState('');\r\n\r\n  const openAdd = () => { setEditing(null); setName(''); setPhone(''); setEmail(''); setModalVisible(true); };\r\n  const openEdit = (item) => { setEditing(item); setName(item.name || ''); setPhone(item.phone || ''); setEmail(item.email || ''); setModalVisible(true); };\r\n\r\n  const save = () => {\r\n    if (!name.trim()) return Alert.alert('Please enter a name');\r\n    if (editing) {\r\n      updateContact({ ...editing, name, phone, email });\r\n    } else {\r\n      addContact({ id: `c:${Date.now()}`, name, phone, email });\r\n    }\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const remove = (id) => {\r\n    Alert.alert('Delete contact', 'Remove this contact?', [{ text: 'Cancel' }, { text: 'Delete', style: 'destructive', onPress: () => deleteContact({ id }) }]);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={styles.container}>\r\n        <Text style={styles.title}>Contacts</Text>\r\n        <Text style={styles.desc}>Manage contacts connected to trips.</Text>\r\n\r\n        <FlatList data={contacts} keyExtractor={(i) => i.id} style={{ marginTop: 12 }} renderItem={({ item }) => (\r\n          <View style={styles.row}>\r\n            <View>\r\n              <Text style={styles.rowTitle}>{item.name}</Text>\r\n              <Text style={styles.rowSubtitle}>{item.phone || item.email || ''}</Text>\r\n            </View>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <TouchableOpacity onPress={() => openEdit(item)} style={styles.smallButton}><Text style={{ color: '#fff' }}>Edit</Text></TouchableOpacity>\r\n              <TouchableOpacity onPress={() => remove(item.id)} style={[styles.smallButton, { backgroundColor: '#d32f2f', marginLeft: 8 }]}><Text style={{ color: '#fff' }}>Delete</Text></TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        )} ListEmptyComponent={() => <Text style={{ color: '#666', paddingTop: 12 }}>No contacts yet.</Text>} />\r\n\r\n        <View style={{ height: 12 }} />\r\n        <TouchableOpacity style={styles.button} onPress={openAdd}>\r\n          <Text style={{ color: '#fff', fontWeight: '700' }}>Add Contact</Text>\r\n        </TouchableOpacity>\r\n\r\n        <Modal visible={modalVisible} animationType=\"slide\" transparent>\r\n          <View style={modalStyles.backdrop}>\r\n            <View style={modalStyles.sheet}>\r\n              <Text style={{ fontWeight: '700', fontSize: 18, marginBottom: 8 }}>{editing ? 'Edit Contact' : 'Add Contact'}</Text>\r\n              <TextInput placeholder=\"Name\" value={name} onChangeText={setName} style={modalStyles.input} />\r\n              <TextInput placeholder=\"Phone\" value={phone} onChangeText={setPhone} keyboardType=\"phone-pad\" style={modalStyles.input} />\r\n              <TextInput placeholder=\"Email\" value={email} onChangeText={setEmail} keyboardType=\"email-address\" style={modalStyles.input} />\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                <TouchableOpacity onPress={() => setModalVisible(false)} style={{ padding: 10, marginRight: 8 }}><Text>Cancel</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={save} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}><Text style={{ color: '#fff' }}>Save</Text></TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { padding: 16 },\r\n  title: { fontSize: 20, fontWeight: '800', marginBottom: 8 },\r\n  desc: { color: '#666' },\r\n  button: { backgroundColor: '#1976d2', padding: 12, borderRadius: 8, alignItems: 'center' },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 12, borderBottomWidth: 1, borderBottomColor: '#f2f2f2' },\r\n  rowTitle: { fontWeight: '700' },\r\n  rowSubtitle: { color: '#666', marginTop: 4 },\r\n  smallButton: { backgroundColor: '#1976d2', paddingHorizontal: 10, paddingVertical: 6, borderRadius: 6 },\r\n});\r\n\r\nconst modalStyles = StyleSheet.create({\r\n  backdrop: { flex: 1, backgroundColor: 'rgba(0,0,0,0.35)', justifyContent: 'center', padding: 20 },\r\n  sheet: { backgroundColor: '#fff', borderRadius: 12, padding: 16 },\r\n  input: { borderWidth: 1, borderColor: '#eee', borderRadius: 8, padding: 10, marginBottom: 12 },\r\n});\r\n\r\nexport default ContactsScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\CustomPurposesScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":34,"column":26,"nodeType":"ObjectExpression","endLine":34,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":35,"column":20,"nodeType":"ObjectExpression","endLine":35,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#1976d2', fontWeight: '700' }","line":42,"column":26,"nodeType":"ObjectExpression","endLine":42,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#d32f2f' }","line":47,"column":78,"nodeType":"ObjectExpression","endLine":47,"endColumn":98},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “CustomPurposesScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":49,"column":34,"nodeType":"ArrowFunctionExpression","endLine":49,"endColumn":123},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', paddingVertical: 12 }","line":49,"column":53,"nodeType":"ObjectExpression","endLine":49,"endColumn":91},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#1976d2', fontWeight: '700' }","line":55,"column":26,"nodeType":"ObjectExpression","endLine":55,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#d32f2f' }","line":60,"column":78,"nodeType":"ObjectExpression","endLine":60,"endColumn":98},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “CustomPurposesScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":62,"column":34,"nodeType":"ArrowFunctionExpression","endLine":62,"endColumn":123},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', paddingVertical: 12 }","line":62,"column":53,"nodeType":"ObjectExpression","endLine":62,"endColumn":91},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', fontSize: 18, marginBottom: 8 }","line":68,"column":28,"nodeType":"ObjectExpression","endLine":68,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginBottom: 12 }","line":70,"column":28,"nodeType":"ObjectExpression","endLine":70,"endColumn":70},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginLeft: 8 }","line":72,"column":147,"nodeType":"ObjectExpression","endLine":72,"endColumn":164},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":74,"column":28,"nodeType":"ObjectExpression","endLine":74,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":75,"column":81,"nodeType":"ObjectExpression","endLine":75,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":76,"column":57,"nodeType":"ObjectExpression","endLine":76,"endColumn":117},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":76,"column":132,"nodeType":"ObjectExpression","endLine":76,"endColumn":149}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, FlatList, Modal, TextInput, Alert } from 'react-native';\r\nimport { DataContext } from '../context/DataContext';\r\n\r\nconst CustomPurposesScreen = () => {\r\n  const { categories = [], addCategory, updateCategory, deleteCategory } = useContext(DataContext);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editing, setEditing] = useState(null);\r\n  const [name, setName] = useState('');\r\n  const [type, setType] = useState('business'); // 'business' | 'personal'\r\n\r\n  const business = categories.filter((c) => c.type === 'business');\r\n  const personal = categories.filter((c) => c.type === 'personal');\r\n\r\n  const openAdd = (t) => { setEditing(null); setName(''); setType(t); setModalVisible(true); };\r\n  const openEdit = (item) => { setEditing(item); setName(item.name); setType(item.type); setModalVisible(true); };\r\n\r\n  const save = () => {\r\n    if (!name.trim()) return Alert.alert('Name required');\r\n    if (editing) {\r\n      updateCategory({ ...editing, name, type });\r\n    } else {\r\n      addCategory({ id: `cat:${Date.now()}`, name, type });\r\n    }\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const remove = (id) => {\r\n    Alert.alert('Delete', 'Remove this category?', [{ text: 'Cancel' }, { text: 'Delete', style: 'destructive', onPress: () => deleteCategory({ id }) }]);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={{ padding: 16 }}>\r\n        <Text style={styles.title}>Categories</Text>\r\n        <Text style={styles.desc}>Personalize your drive categories with Business and Personal custom categories.</Text>\r\n\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionLabel}>BUSINESS</Text>\r\n          <TouchableOpacity style={styles.createRow} onPress={() => openAdd('business')}>\r\n            <Text style={{ color: '#1976d2', fontWeight: '700' }}>+ Create new business category</Text>\r\n          </TouchableOpacity>\r\n          <FlatList data={business} keyExtractor={(i) => i.id} renderItem={({ item }) => (\r\n            <TouchableOpacity style={styles.row} onPress={() => openEdit(item)}>\r\n              <Text style={styles.rowTitle}>{item.name}</Text>\r\n              <TouchableOpacity onPress={() => remove(item.id)}><Text style={{ color: '#d32f2f' }}>Delete</Text></TouchableOpacity>\r\n            </TouchableOpacity>\r\n          )} ListEmptyComponent={() => <Text style={{ color: '#666', paddingVertical: 12 }}>No business categories.</Text>} />\r\n        </View>\r\n\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionLabel}>PERSONAL</Text>\r\n          <TouchableOpacity style={styles.createRow} onPress={() => openAdd('personal')}>\r\n            <Text style={{ color: '#1976d2', fontWeight: '700' }}>+ Create new personal category</Text>\r\n          </TouchableOpacity>\r\n          <FlatList data={personal} keyExtractor={(i) => i.id} renderItem={({ item }) => (\r\n            <TouchableOpacity style={styles.row} onPress={() => openEdit(item)}>\r\n              <Text style={styles.rowTitle}>{item.name}</Text>\r\n              <TouchableOpacity onPress={() => remove(item.id)}><Text style={{ color: '#d32f2f' }}>Delete</Text></TouchableOpacity>\r\n            </TouchableOpacity>\r\n          )} ListEmptyComponent={() => <Text style={{ color: '#666', paddingVertical: 12 }}>No personal categories.</Text>} />\r\n        </View>\r\n\r\n        <Modal visible={modalVisible} animationType=\"slide\" transparent>\r\n          <View style={modalStyles.backdrop}>\r\n            <View style={modalStyles.sheet}>\r\n              <Text style={{ fontWeight: '700', fontSize: 18, marginBottom: 8 }}>{editing ? 'Edit Category' : 'Create Category'}</Text>\r\n              <TextInput placeholder=\"Name\" value={name} onChangeText={setName} style={modalStyles.input} />\r\n              <View style={{ flexDirection: 'row', marginBottom: 12 }}>\r\n                <TouchableOpacity onPress={() => setType('business')} style={[modalStyles.typeBtn, type === 'business' && modalStyles.typeActive]}><Text>Business</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={() => setType('personal')} style={[modalStyles.typeBtn, type === 'personal' && modalStyles.typeActive, { marginLeft: 8 }]}><Text>Personal</Text></TouchableOpacity>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                <TouchableOpacity onPress={() => setModalVisible(false)} style={{ padding: 10, marginRight: 8 }}><Text>Cancel</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={save} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}><Text style={{ color: '#fff' }}>Save</Text></TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  title: { fontSize: 20, fontWeight: '800', marginBottom: 8 },\r\n  desc: { color: '#666', marginBottom: 12 },\r\n  section: { backgroundColor: '#fff', borderRadius: 8, paddingVertical: 8, paddingHorizontal: 6, marginBottom: 12, borderWidth: 1, borderColor: '#f0f0f0' },\r\n  sectionLabel: { fontSize: 12, fontWeight: '700', color: '#666', paddingHorizontal: 8, marginBottom: 6 },\r\n  createRow: { paddingVertical: 12, paddingHorizontal: 8, borderTopWidth: 0 },\r\n  row: { flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingVertical: 12, paddingHorizontal: 8, borderTopWidth: 1, borderTopColor: '#fafafa' },\r\n  rowTitle: { fontSize: 16 },\r\n});\r\n\r\nconst modalStyles = StyleSheet.create({\r\n  backdrop: { flex: 1, backgroundColor: 'rgba(0,0,0,0.35)', justifyContent: 'center', padding: 20 },\r\n  sheet: { backgroundColor: '#fff', borderRadius: 12, padding: 16 },\r\n  input: { borderWidth: 1, borderColor: '#eee', borderRadius: 8, padding: 10, marginBottom: 12 },\r\n  typeBtn: { padding: 10, borderRadius: 8, backgroundColor: '#fff', borderWidth: 1, borderColor: '#eee' },\r\n  typeActive: { backgroundColor: '#e8f0ff', borderColor: '#1976d2' },\r\n});\r\n\r\nexport default CustomPurposesScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\DashboardScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":7,"column":26,"nodeType":"ObjectExpression","endLine":7,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport Dashboard from '../components/Dashboard';\r\n\r\nconst DashboardScreen = () => {\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      <Dashboard />\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default DashboardScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\DriveDetectionScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":57,"column":26,"nodeType":"ObjectExpression","endLine":57,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":58,"column":20,"nodeType":"ObjectExpression","endLine":58,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 16 }","line":63,"column":22,"nodeType":"ObjectExpression","endLine":63,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":68,"column":26,"nodeType":"ObjectExpression","endLine":68,"endColumn":62},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 8 }","line":89,"column":35,"nodeType":"ObjectExpression","endLine":89,"endColumn":51},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":90,"column":24,"nodeType":"ObjectExpression","endLine":90,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', fontSize: 12 }","line":92,"column":26,"nodeType":"ObjectExpression","endLine":92,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { alignItems: 'flex-end' }","line":94,"column":24,"nodeType":"ObjectExpression","endLine":94,"endColumn":50},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":97,"column":30,"nodeType":"ObjectExpression","endLine":97,"endColumn":66},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":101,"column":30,"nodeType":"ObjectExpression","endLine":101,"endColumn":66},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 6, fontWeight: '600' }","line":104,"column":38,"nodeType":"ObjectExpression","endLine":104,"endColumn":73}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":11,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Switch, Alert } from 'react-native';\r\nimport DriveDetection from '../services/DriveDetection';\r\nimport Bluetooth from '../services/Bluetooth';\r\n\r\nconst DriveDetectionScreen = ({ navigation }) => {\r\n  const [active, setActive] = useState(false);\r\n  const [sensitivity, setSensitivity] = useState('Medium');\r\n  const [frequent, setFrequent] = useState(true);\r\n  const [btConnected, setBtConnected] = useState(false);\r\n  const [btDevice, setBtDevice] = useState(null);\r\n\r\n  const toggle = async () => {\r\n    if (active) {\r\n       await DriveDetection.stopRouteMonitoring();\r\n      setActive(false);\r\n       Alert.alert('Route detection', 'Monitoring stopped');\r\n    } else {\r\n       await DriveDetection.startRouteMonitoring((sample) => {\r\n        Alert.alert('Drive detected', `Detected a drive: ${sample.distance} km`);\r\n      });\r\n      setActive(true);\r\n       Alert.alert('Route detection', 'Monitoring started');\r\n    }\r\n  };\r\n\r\n  const cycle = () => {\r\n    const opts = ['Low', 'Medium', 'High'];\r\n    const idx = opts.indexOf(sensitivity);\r\n    setSensitivity(opts[(idx + 1) % opts.length]);\r\n  };\r\n\r\n  const connectBluetooth = async () => {\r\n    try {\r\n      const dev = await Bluetooth.scanAndConnect();\r\n      setBtDevice(dev);\r\n      setBtConnected(!!dev);\r\n      Alert.alert('Bluetooth', `Connected to ${dev.name}`);\r\n    } catch (e) {\r\n      Alert.alert('Bluetooth', 'Failed to connect');\r\n    }\r\n  };\r\n\r\n  const disconnectBluetooth = async () => {\r\n    try {\r\n      await Bluetooth.disconnect();\r\n      setBtDevice(null);\r\n      setBtConnected(false);\r\n      Alert.alert('Bluetooth', 'Disconnected');\r\n    } catch (e) {\r\n      Alert.alert('Bluetooth', 'Failed to disconnect');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={{ padding: 16 }}>\r\n        <Text style={styles.title}>Drive Detection</Text>\r\n          <Text style={styles.title}>Route Detection</Text>\r\n        <Text style={styles.desc}>When enabled, RoadBiz will automatically detect routes in the background and suggest classification.</Text>\r\n\r\n        <View style={{ height: 16 }} />\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowLabel}>Monitoring</Text>\r\n          <TouchableOpacity onPress={toggle} style={[styles.controlButton, active ? styles.stop : styles.start]}>\r\n            <Text style={{ color: '#fff', fontWeight: '700' }}>{active ? 'Stop' : 'Start'}</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowLabel}>Detection sensitivity</Text>\r\n          <TouchableOpacity onPress={cycle}><Text style={styles.rowValue}>{sensitivity}</Text></TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowLabel}>Frequent Routes</Text>\r\n          <Switch value={frequent} onValueChange={setFrequent} />\r\n        </View>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowLabel}>Work Hours</Text>\r\n          <TouchableOpacity onPress={() => navigation && navigation.navigate('WorkHours')}>\r\n            <Text style={styles.rowValue}>Edit</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={[styles.row, { marginTop: 8 }] }>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={styles.rowLabel}>Bluetooth (improve detection)</Text>\r\n            <Text style={{ color: '#666', fontSize: 12 }}>Connect your car or OBD-II Bluetooth device to improve accuracy.</Text>\r\n          </View>\r\n          <View style={{ alignItems: 'flex-end' }}>\r\n            {btConnected ? (\r\n              <TouchableOpacity onPress={disconnectBluetooth} style={[styles.controlButton, styles.stop]}>\r\n                <Text style={{ color: '#fff', fontWeight: '700' }}>Disconnect</Text>\r\n              </TouchableOpacity>\r\n            ) : (\r\n              <TouchableOpacity onPress={connectBluetooth} style={[styles.controlButton, styles.start]}>\r\n                <Text style={{ color: '#fff', fontWeight: '700' }}>Connect</Text>\r\n              </TouchableOpacity>\r\n            )}\r\n            {btDevice ? <Text style={{ marginTop: 6, fontWeight: '600' }}>{btDevice.name}</Text> : null}\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  title: { fontSize: 20, fontWeight: '800', marginBottom: 8 },\r\n  desc: { color: '#666' },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 14, borderBottomWidth: 1, borderBottomColor: '#fafafa' },\r\n  rowLabel: { fontSize: 16 },\r\n  rowValue: { fontWeight: '700' },\r\n  controlButton: { paddingHorizontal: 14, paddingVertical: 8, borderRadius: 8 },\r\n  start: { backgroundColor: '#1976d2' },\r\n  stop: { backgroundColor: '#d32f2f' },\r\n});\r\n\r\nexport default DriveDetectionScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\DrivesScreen.js","messages":[{"ruleId":"no-shadow","severity":1,"message":"'drivesThisMonth' is already declared in the upper scope on line 53 column 11.","line":55,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":55,"endColumn":26},{"ruleId":"no-shadow","severity":1,"message":"'totalMiles' is already declared in the upper scope on line 53 column 42.","line":56,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":56,"endColumn":21},{"ruleId":"no-shadow","severity":1,"message":"'totalValue' is already declared in the upper scope on line 53 column 54.","line":57,"column":11,"nodeType":"Identifier","messageId":"noShadow","endLine":57,"endColumn":21},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook useMemo has missing dependencies: 'mockDrives', 'monthEnd', and 'monthStart'. Either include them or remove the dependency array.","line":59,"column":6,"nodeType":"ArrayExpression","endLine":59,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [mileage, mockDrives, monthStart, monthEnd]","fix":{"range":[2532,2551],"text":"[mileage, mockDrives, monthStart, monthEnd]"}}]},{"ruleId":"no-unused-vars","severity":1,"message":"'handleReclassify' is assigned a value but never used.","line":87,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":87,"endColumn":25},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, backgroundColor: '#f6f7fb' }","line":98,"column":26,"nodeType":"ObjectExpression","endLine":98,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingHorizontal: 12,\n  paddingTop: 8,\n  paddingBottom: 6,\n  backgroundColor: '#f6f7fb'\n}","line":103,"column":20,"nodeType":"ObjectExpression","endLine":103,"endColumn":106},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  backgroundColor: '#fff',\n  padding: 8,\n  borderRadius: 6,\n  borderWidth: 1,\n  borderColor: '#e0e0e0'\n}","line":108,"column":18,"nodeType":"ObjectExpression","endLine":108,"endColumn":114},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { justifyContent: 'center', paddingLeft: 12 }","line":129,"column":37,"nodeType":"ObjectExpression","endLine":129,"endColumn":127},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#4caf50', padding: 12, borderRadius: 8 }","line":130,"column":30,"nodeType":"ObjectExpression","endLine":130,"endColumn":90},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":131,"column":32,"nodeType":"ObjectExpression","endLine":131,"endColumn":68},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { justifyContent: 'center', paddingRight: 12 }","line":140,"column":37,"nodeType":"ObjectExpression","endLine":140,"endColumn":128},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#ff7043', padding: 12, borderRadius: 8 }","line":141,"column":30,"nodeType":"ObjectExpression","endLine":141,"endColumn":90},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":142,"column":32,"nodeType":"ObjectExpression","endLine":142,"endColumn":68},{"ruleId":"no-catch-shadow","severity":1,"message":"Value of 'e' may be overwritten in IE 8 and earlier.","line":164,"column":111,"nodeType":"CatchClause","messageId":"mutable","endLine":164,"endColumn":123},{"ruleId":"no-shadow","severity":1,"message":"'e' is already declared in the upper scope on line 163 column 26.","line":164,"column":118,"nodeType":"Identifier","messageId":"noShadow","endLine":164,"endColumn":119},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 12,\n  borderRadius: 10,\n  backgroundColor: '#fff',\n  marginTop: 6,\n  marginBottom: 6,\n  borderWidth: 1,\n  borderColor: '#eee',\n  shadowColor: '#000',\n  shadowOpacity: 0.04,\n  shadowRadius: 6,\n  overflow: 'hidden',\n  flexDirection: 'row',\n  minHeight: 150\n}","line":168,"column":28,"nodeType":"ObjectExpression","endLine":168,"endColumn":271},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '30%', paddingRight: 8, position: 'relative', marginTop: 5 }","line":169,"column":28,"nodeType":"ObjectExpression","endLine":169,"endColumn":96},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '100%',\n  height: 120,\n  borderRadius: 8,\n  backgroundColor: '#f6f6f6'\n}","line":170,"column":50,"nodeType":"ObjectExpression","endLine":170,"endColumn":125},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '54%',\n  justifyContent: 'flex-start',\n  alignItems: 'flex-start',\n  paddingLeft: 8\n}","line":172,"column":28,"nodeType":"ObjectExpression","endLine":172,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'flex-start',\n  alignItems: 'center'\n}","line":173,"column":30,"nodeType":"ObjectExpression","endLine":173,"endColumn":106},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }","line":174,"column":32,"nodeType":"ObjectExpression","endLine":174,"endColumn":97},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  color: '#666',\n  marginTop: 15,\n  textAlign: 'left',\n  alignSelf: 'flex-start'\n}","line":176,"column":30,"nodeType":"ObjectExpression","endLine":176,"endColumn":106},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  marginTop: 23,\n  marginLeft: -13,\n  alignItems: 'center'\n}","line":177,"column":34,"nodeType":"ObjectExpression","endLine":177,"endColumn":111},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 20, alignItems: 'center', marginLeft: 7 }","line":178,"column":32,"nodeType":"ObjectExpression","endLine":178,"endColumn":82},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, paddingLeft: 0, flexShrink: 1 }","line":181,"column":32,"nodeType":"ObjectExpression","endLine":181,"endColumn":74},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', fontSize: 15, lineHeight: 18 }","line":182,"column":34,"nodeType":"ObjectExpression","endLine":182,"endColumn":81},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', marginTop: 4, fontSize: 15, lineHeight: 18 }","line":183,"column":34,"nodeType":"ObjectExpression","endLine":183,"endColumn":95},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginTop: 8,\n  color: \"item.notes ? '#444' : '#9e9e9e'\",\n  fontSize: 13,\n  fontStyle: \"item.notes ? 'normal' : 'italic'\"\n}","line":188,"column":36,"nodeType":"ObjectExpression","endLine":188,"endColumn":151},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '16%',\n  minWidth: 72,\n  justifyContent: 'flex-start',\n  alignItems: 'flex-end',\n  paddingRight: 6,\n  paddingTop: 0\n}","line":193,"column":28,"nodeType":"ObjectExpression","endLine":193,"endColumn":144},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginBottom: 40,\n  alignItems: 'flex-end',\n  justifyContent: 'flex-start',\n  width: '100%',\n  marginTop: 0\n}","line":194,"column":32,"nodeType":"ObjectExpression","endLine":194,"endColumn":135},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }","line":195,"column":34,"nodeType":"ObjectExpression","endLine":195,"endColumn":104},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#1976d2',\n  borderRadius: 6,\n  marginBottom: 6,\n  alignSelf: 'flex-end'\n}","line":197,"column":75,"nodeType":"ObjectExpression","endLine":197,"endColumn":174},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#d32f2f',\n  borderRadius: 6,\n  alignSelf: 'flex-end'\n}","line":200,"column":77,"nodeType":"ObjectExpression","endLine":200,"endColumn":159},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingBottom: 120, paddingTop: 8 }","line":210,"column":32,"nodeType":"ObjectExpression","endLine":210,"endColumn":69},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “DrivesScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":212,"column":29,"nodeType":"ArrowFunctionExpression","endLine":216,"endColumn":10},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 24, alignItems: 'center' }","line":213,"column":26,"nodeType":"ObjectExpression","endLine":213,"endColumn":63},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666' }","line":214,"column":26,"nodeType":"ObjectExpression","endLine":214,"endColumn":43},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { position: 'absolute', left: 12, right: 12, bottom: 24 }","line":221,"column":31,"nodeType":"ObjectExpression","endLine":221,"endColumn":185},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  backgroundColor: '#333',\n  padding: 12,\n  borderRadius: 8,\n  flexDirection: 'row',\n  alignItems: 'center',\n  justifyContent: 'space-between'\n}","line":222,"column":24,"nodeType":"ObjectExpression","endLine":222,"endColumn":158},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', flex: 1 }","line":223,"column":26,"nodeType":"ObjectExpression","endLine":223,"endColumn":52},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#4caf50', fontWeight: '700', marginLeft: 12 }","line":230,"column":28,"nodeType":"ObjectExpression","endLine":230,"endColumn":83}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":41,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useMemo, useState, useRef } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, SectionList, TextInput, TouchableOpacity, Animated, Image } from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { Swipeable } from 'react-native-gesture-handler';\r\nimport MonthlySummaryBar from '../components/MonthlySummaryBar';\r\n// DriveCard replaced with inline tile layout to match Miscellaneous styling\r\nimport { DataContext } from '../context/DataContext';\r\nimport TaxReportService from '../services/TaxReport';\r\n\r\nconst startOfMonth = (d) => {\r\n  const dt = new Date(d);\r\n  dt.setDate(1);\r\n  dt.setHours(0, 0, 0, 0);\r\n  return dt;\r\n};\r\n\r\nconst DrivesScreen = () => {\r\n  const { mileage, expenses, addRoute, updateRoute, deleteRoute } = useContext(DataContext);\r\n\r\n  // Fallback mock data when there are no drives yet\r\n  const mockDrives = [\r\n    {\r\n      id: 'm-1',\r\n      start: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2).toISOString(),\r\n      end: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2 + 1000 * 60 * 30).toISOString(),\r\n      distance: 13.6,\r\n      purpose: 'Business',\r\n      status: 'logged',\r\n      notes: 'Client meeting',\r\n      startCoords: { latitude: 40.7128, longitude: -74.0060 },\r\n    },\r\n    {\r\n      id: 'm-2',\r\n      start: new Date(Date.now() - 1000 * 60 * 60 * 24 * 5).toISOString(),\r\n      end: new Date(Date.now() - 1000 * 60 * 60 * 24 * 5 + 1000 * 60 * 20).toISOString(),\r\n      distance: 7.2,\r\n      purpose: 'Personal',\r\n      status: 'pending',\r\n      notes: '',\r\n      startCoords: { latitude: 34.0522, longitude: -118.2437 },\r\n    },\r\n  ];\r\n\r\n  const monthStart = startOfMonth(new Date());\r\n  const monthEnd = new Date();\r\n  monthEnd.setHours(23, 59, 59, 999);\r\n\r\n  const [query, setQuery] = useState('');\r\n  const [lastDeleted, setLastDeleted] = useState(null);\r\n  const undoAnim = useRef(new Animated.Value(0)).current;\r\n\r\n  const { drivesThisMonth, drivesToShow, totalMiles, totalValue } = useMemo(() => {\r\n    const allDrives = (mileage && mileage.length > 0) ? mileage : mockDrives;\r\n    const drivesThisMonth = allDrives.filter((d) => new Date(d.start || d.date) >= monthStart && new Date(d.start || d.date) <= monthEnd);\r\n    const totalMiles = drivesThisMonth.reduce((s, d) => s + (d.distance || 0), 0);\r\n    const totalValue = TaxReportService.calculateMileageDeduction(drivesThisMonth, 'business').deduction;\r\n    return { drivesThisMonth, drivesToShow: allDrives, totalMiles, totalValue };\r\n  }, [mileage, expenses]);\r\n\r\n  const filteredDrives = useMemo(() => {\r\n    const q = query.trim().toLowerCase();\r\n    return drivesToShow.filter((d) => {\r\n      if (!q) return true;\r\n      // search by purpose, notes, or id\r\n      return (\r\n        (d.purpose || '').toLowerCase().includes(q) ||\r\n        (d.notes || '').toLowerCase().includes(q) ||\r\n        (d.id || '').toLowerCase().includes(q)\r\n      );\r\n    });\r\n  }, [drivesToShow, query]);\r\n\r\n  const handleDelete = (drive) => {\r\n    if (!drive || !drive.id) return;\r\n    // remove from store and keep a copy to allow undo\r\n    setLastDeleted(drive);\r\n    deleteRoute(drive);\r\n    // show undo (animate in)\r\n    Animated.timing(undoAnim, { toValue: 1, duration: 200, useNativeDriver: true }).start();\r\n    // auto clear after 7s\r\n    setTimeout(() => {\r\n      Animated.timing(undoAnim, { toValue: 0, duration: 200, useNativeDriver: true }).start(() => setLastDeleted(null));\r\n    }, 7000);\r\n  };\r\n\r\n  const handleReclassify = (drive) => {\r\n    const newPurpose = drive.purpose === 'Business' ? 'Personal' : 'Business';\r\n    updateRoute({ ...drive, purpose: newPurpose, classification: String(newPurpose).toLowerCase() });\r\n  };\r\n\r\n  const handleSave = (updated) => {\r\n    // persist updated drive\r\n    if (updated && updated.id) updateRoute(updated);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1, backgroundColor: '#f6f7fb' }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      {/* Sticky header */}\r\n      <MonthlySummaryBar totalDrives={drivesThisMonth.length} totalMiles={totalMiles} loggedValue={totalValue} />\r\n\r\n      {/* Search and filters */}\r\n      <View style={{ paddingHorizontal: 12, paddingTop: 8, paddingBottom: 6, backgroundColor: '#f6f7fb' }}>\r\n        <TextInput\r\n          placeholder=\"Search routes by purpose, notes, or id\"\r\n          value={query}\r\n          onChangeText={setQuery}\r\n          style={{ backgroundColor: '#fff', padding: 8, borderRadius: 6, borderWidth: 1, borderColor: '#e0e0e0' }}\r\n          accessibilityLabel=\"Search routes\"\r\n        />\r\n        {/* filters removed: Routes list uses full-text search only */}\r\n      </View>\r\n\r\n      <SectionList\r\n        sections={[{ title: 'Routes', data: filteredDrives }]}\r\n        keyExtractor={(item) => item.id}\r\n        renderItem={({ item }) => {\r\n          // Render tile using Miscellaneous-style layout (no badge)\r\n          const imgSource = item.mapImage ? { uri: item.mapImage } : require('../../assets/icon.png');\r\n          const startAddr = (item.startAddress || item.origin || item.from || item.startLabel || item.startName) || '123 Main St, Anytown';\r\n          const endAddr = (item.endAddress || item.destination || item.to || item.endLabel || item.endName) || '456 Market St, Anytown';\r\n          const startDisplay = startAddr;\r\n          const formatted = item.start ? new Date(item.start).toLocaleString() : (item.date ? new Date(item.date).toLocaleString() : '');\r\n          const swipeRef = React.createRef();\r\n          const renderLeftActions = (progress, dragX) => {\r\n            const trans = dragX.interpolate({ inputRange: [0, 120], outputRange: [-20, 0], extrapolate: 'clamp' });\r\n            const opacity = progress.interpolate({ inputRange: [0, 1], outputRange: [0, 1] });\r\n            return (\r\n              <Animated.View style={{ justifyContent: 'center', paddingLeft: 12, transform: [{ translateX: trans }], opacity }}>\r\n                <View style={{ backgroundColor: '#4caf50', padding: 12, borderRadius: 8 }}>\r\n                  <Text style={{ color: '#fff', fontWeight: '700' }}>Business</Text>\r\n                </View>\r\n              </Animated.View>\r\n            );\r\n          };\r\n          const renderRightActions = (progress, dragX) => {\r\n            const trans = dragX.interpolate({ inputRange: [-120, 0], outputRange: [0, 20], extrapolate: 'clamp' });\r\n            const opacity = progress.interpolate({ inputRange: [0, 1], outputRange: [0, 1] });\r\n            return (\r\n              <Animated.View style={{ justifyContent: 'center', paddingRight: 12, transform: [{ translateX: trans }], opacity }}>\r\n                <View style={{ backgroundColor: '#ff7043', padding: 12, borderRadius: 8 }}>\r\n                  <Text style={{ color: '#fff', fontWeight: '700' }}>Personal</Text>\r\n                </View>\r\n              </Animated.View>\r\n            );\r\n          };\r\n\r\n          return (\r\n            <Swipeable\r\n              ref={swipeRef}\r\n              renderLeftActions={renderLeftActions}\r\n              renderRightActions={renderRightActions}\r\n              friction={1.2}\r\n              overshootLeft={true}\r\n              overshootRight={true}\r\n              leftThreshold={80}\r\n              rightThreshold={80}\r\n              onSwipeableOpen={(direction) => {\r\n                try {\r\n                  const classification = direction === 'left' ? 'Business' : 'Personal';\r\n                  try { updateRoute && updateRoute({ ...item, purpose: classification, classification: String(classification).toLowerCase() }); } catch (e) {}\r\n                  try { swipeRef && swipeRef.current && swipeRef.current.close && swipeRef.current.close(); } catch (e) {}\r\n                } catch (e) {\r\n                  try { swipeRef && swipeRef.current && swipeRef.current.close && swipeRef.current.close(); } catch (e) {}\r\n                }\r\n              }}\r\n            >\r\n              <View style={{ padding: 12, borderRadius: 10, backgroundColor: '#fff', marginTop: 6, marginBottom: 6, borderWidth: 1, borderColor: '#eee', shadowColor: '#000', shadowOpacity: 0.04, shadowRadius: 6, overflow: 'hidden', flexDirection: 'row', minHeight: 150 }}>\r\n              <View style={{ width: '30%', paddingRight: 8, position: 'relative', marginTop:5 }}>\r\n                <Image source={imgSource} style={{ width: '100%', height: 120, borderRadius: 8, backgroundColor: '#f6f6f6' }} resizeMode=\"cover\" />\r\n              </View>\r\n              <View style={{ width: '54%', justifyContent: 'flex-start', alignItems: 'flex-start', paddingLeft: 8 }}>\r\n                <View style={{ flexDirection: 'row', justifyContent: 'flex-start', alignItems: 'center' }}>\r\n                  <Text style={{ fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }}>{item.purpose || 'Miscellaneous'}</Text>\r\n                </View>\r\n                <Text style={{ color: '#666', marginTop: 15, textAlign: 'left', alignSelf: 'flex-start' }}>{formatted}</Text>\r\n                    <View style={{ flexDirection: 'row', marginTop: 23, marginLeft:-13, alignItems: 'center' }}>\r\n                  <View style={{ width: 20, alignItems: 'center', marginLeft: 7 }}>\r\n                    <Ionicons name=\"location-outline\" size={20} color=\"#000\" />\r\n                  </View>\r\n                  <View style={{ flex: 1, paddingLeft: 0, flexShrink: 1 }}>\r\n                    <Text style={{ color: '#333', fontSize: 15, lineHeight: 18 }} numberOfLines={2} ellipsizeMode=\"tail\">{startDisplay}</Text>\r\n                    <Text style={{ color: '#333', marginTop: 4, fontSize: 15, lineHeight: 18 }} numberOfLines={2} ellipsizeMode=\"tail\">{endAddr}</Text>\r\n                  </View>\r\n                </View>\r\n                    {/* notes field: show actual notes or a visible placeholder when empty */}\r\n                    <TouchableOpacity activeOpacity={0.7} onPress={() => { /* placeholder for future edit-open */ }}>\r\n                      <Text style={{ marginTop: 8, color: item.notes ? '#444' : '#9e9e9e', fontSize: 13, fontStyle: item.notes ? 'normal' : 'italic' }}>\r\n                        {item.notes ? item.notes : 'Add notes…'}\r\n                      </Text>\r\n                    </TouchableOpacity>\r\n              </View>\r\n              <View style={{ width: '16%', minWidth: 72, justifyContent: 'flex-start', alignItems: 'flex-end', paddingRight: 6, paddingTop: 0 }}>\r\n                  <View style={{ marginBottom: 40, alignItems: 'flex-end', justifyContent: 'flex-start', width: '100%', marginTop: 0 }}>\r\n                    <Text style={{ color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }}>{(item.distance != null) ? Number(item.distance).toFixed(1) + ' mi' : '0.0 mi'}</Text>\r\n                  </View>\r\n                <TouchableOpacity onPress={() => handleSave(item)} style={{ padding: 6, backgroundColor: '#1976d2', borderRadius: 6, marginBottom: 6, alignSelf: 'flex-end' }}>\r\n                  <Ionicons name=\"pencil\" size={16} color=\"#fff\" />\r\n                </TouchableOpacity>\r\n                <TouchableOpacity onPress={() => handleDelete(item)} style={{ padding: 6, backgroundColor: '#d32f2f', borderRadius: 6, alignSelf: 'flex-end' }}>\r\n                  <Ionicons name=\"trash\" size={16} color=\"#fff\" />\r\n                </TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </Swipeable>\r\n          );\r\n        }}\r\n        renderSectionHeader={() => null}\r\n        stickySectionHeadersEnabled={false}\r\n        contentContainerStyle={{ paddingBottom: 120, paddingTop: 8 }}\r\n        accessibilityLabel=\"List of routes\"\r\n        ListEmptyComponent={() => (\r\n            <View style={{ padding: 24, alignItems: 'center' }}>\r\n            <Text style={{ color: '#666' }}>No routes match your search.</Text>\r\n          </View>\r\n        )}\r\n      />\r\n\r\n      {/* Undo banner */}\r\n      {lastDeleted && (\r\n        <Animated.View style={{ position: 'absolute', left: 12, right: 12, bottom: 24, transform: [{ translateY: undoAnim.interpolate({ inputRange: [0, 1], outputRange: [40, 0] }) }] }}>\r\n          <View style={{ backgroundColor: '#333', padding: 12, borderRadius: 8, flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' }}>\r\n            <Text style={{ color: '#fff', flex: 1 }}>Route deleted</Text>\r\n            <TouchableOpacity onPress={() => {\r\n              // restore\r\n              addRoute(lastDeleted);\r\n              setLastDeleted(null);\r\n              Animated.timing(undoAnim, { toValue: 0, duration: 200, useNativeDriver: true }).start();\r\n            }}>\r\n              <Text style={{ color: '#4caf50', fontWeight: '700', marginLeft: 12 }}>UNDO</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </Animated.View>\r\n      )}\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default DrivesScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\EmailSettingsScreen.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'AsyncStorage' is defined but never used.","line":3,"column":42,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":54},{"ruleId":"no-unused-vars","severity":1,"message":"'Alert' is defined but never used.","line":3,"column":56,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":61},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":40,"column":26,"nodeType":"ObjectExpression","endLine":40,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":41,"column":20,"nodeType":"ObjectExpression","endLine":41,"endColumn":35},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":50,"column":76,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2181,2229],"text":"Summary, details & stats for last week&apos;s drives."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2181,2229],"text":"Summary, details & stats for last week&lsquo;s drives."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2181,2229],"text":"Summary, details & stats for last week&#39;s drives."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2181,2229],"text":"Summary, details & stats for last week&rsquo;s drives."},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, Switch, StyleSheet, AsyncStorage, Alert } from 'react-native';\r\nimport AsyncStoragePkg from '@react-native-async-storage/async-storage';\r\n\r\nconst KEY_WEEKLY = 'rr:email_weekly:v1';\r\nconst KEY_MONTHEND = 'rr:email_monthend:v1';\r\nconst KEY_OTHER = 'rr:email_other:v1';\r\nconst KEY_PROMO = 'rr:email_promo:v1';\r\n\r\nconst EmailSettingsScreen = () => {\r\n  const [weekly, setWeekly] = useState(true);\r\n  const [monthEnd, setMonthEnd] = useState(true);\r\n  const [other, setOther] = useState(false);\r\n  const [promo, setPromo] = useState(false);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const w = await AsyncStoragePkg.getItem(KEY_WEEKLY);\r\n        const m = await AsyncStoragePkg.getItem(KEY_MONTHEND);\r\n        const o = await AsyncStoragePkg.getItem(KEY_OTHER);\r\n        const p = await AsyncStoragePkg.getItem(KEY_PROMO);\r\n        if (w !== null) setWeekly(w === '1');\r\n        if (m !== null) setMonthEnd(m === '1');\r\n        if (o !== null) setOther(o === '1');\r\n        if (p !== null) setPromo(p === '1');\r\n      } catch (e) {\r\n        console.warn('load email settings failed', e);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => { AsyncStoragePkg.setItem(KEY_WEEKLY, weekly ? '1' : '0').catch(() => {}); }, [weekly]);\r\n  useEffect(() => { AsyncStoragePkg.setItem(KEY_MONTHEND, monthEnd ? '1' : '0').catch(() => {}); }, [monthEnd]);\r\n  useEffect(() => { AsyncStoragePkg.setItem(KEY_OTHER, other ? '1' : '0').catch(() => {}); }, [other]);\r\n  useEffect(() => { AsyncStoragePkg.setItem(KEY_PROMO, promo ? '1' : '0').catch(() => {}); }, [promo]);\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={{ padding: 16 }}>\r\n        <View style={styles.hero}>\r\n          <Text style={styles.heroText}>Reminders make it easy to stay on top of your mileage reporting</Text>\r\n        </View>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowTitle}>Weekly email</Text>\r\n          <Switch value={weekly} onValueChange={setWeekly} />\r\n        </View>\r\n        <Text style={styles.rowDesc}>Summary, details & stats for last week's drives.</Text>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowTitle}>Month-end email</Text>\r\n          <Switch value={monthEnd} onValueChange={setMonthEnd} />\r\n        </View>\r\n        <Text style={styles.rowDesc}>Last month at a glance - great for expense reports.</Text>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowTitle}>Other email</Text>\r\n          <Switch value={other} onValueChange={setOther} />\r\n        </View>\r\n        <Text style={styles.rowDesc}>Product updates, company news, resources you can use to help your business.</Text>\r\n\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowTitle}>Promotional email</Text>\r\n          <Switch value={promo} onValueChange={setPromo} />\r\n        </View>\r\n        <Text style={styles.rowDesc}>Receive special discounts and promotions from RoadBiz</Text>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  hero: { backgroundColor: '#f5f5f5', padding: 16, borderRadius: 8, marginBottom: 14 },\r\n  heroText: { fontWeight: '700', textAlign: 'center', color: '#333' },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 12, borderTopWidth: 1, borderTopColor: '#fafafa' },\r\n  rowTitle: { fontSize: 16, fontWeight: '600' },\r\n  rowDesc: { color: '#888', marginBottom: 12, marginTop: 4 },\r\n});\r\n\r\nexport default EmailSettingsScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\Expenses.js","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook React.useEffect has a missing dependency: 'route'. Either include it or remove the dependency array.","line":73,"column":6,"nodeType":"ArrayExpression","endLine":73,"endColumn":53,"suggestions":[{"desc":"Update the dependencies array to be: [route]","fix":{"range":[3043,3090],"text":"[route]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook React.useEffect has a complex expression in the dependency array. Extract it to a separate variable so it can be statically checked.","line":73,"column":7,"nodeType":"LogicalExpression","endLine":73,"endColumn":52},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook React.useEffect has a missing dependency: 'navigation'. Either include it or remove the dependency array.","line":80,"column":6,"nodeType":"ArrayExpression","endLine":80,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [navigation, showForm]","fix":{"range":[3303,3313],"text":"[navigation, showForm]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":2,"message":"React Hook React.useEffect has a missing dependency: 'navigation'. Either include it or remove the dependency array.","line":92,"column":6,"nodeType":"ArrayExpression","endLine":92,"endColumn":16,"suggestions":[{"desc":"Update the dependencies array to be: [navigation, register]","fix":{"range":[3747,3757],"text":"[navigation, register]"}}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { justifyContent: 'center', paddingLeft: 12 }","line":102,"column":31,"nodeType":"ObjectExpression","endLine":102,"endColumn":121},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#4caf50', padding: 12, borderRadius: 8 }","line":103,"column":124,"nodeType":"ObjectExpression","endLine":103,"endColumn":184},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":104,"column":26,"nodeType":"ObjectExpression","endLine":104,"endColumn":43},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { justifyContent: 'center', paddingRight: 12 }","line":114,"column":31,"nodeType":"ObjectExpression","endLine":114,"endColumn":122},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#ff7043', padding: 12, borderRadius: 8 }","line":115,"column":124,"nodeType":"ObjectExpression","endLine":115,"endColumn":184},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":116,"column":26,"nodeType":"ObjectExpression","endLine":116,"endColumn":43},{"ruleId":"no-catch-shadow","severity":1,"message":"Value of 'e' may be overwritten in IE 8 and earlier.","line":141,"column":105,"nodeType":"CatchClause","messageId":"mutable","endLine":141,"endColumn":117},{"ruleId":"no-shadow","severity":1,"message":"'e' is already declared in the upper scope on line 140 column 20.","line":141,"column":112,"nodeType":"Identifier","messageId":"noShadow","endLine":141,"endColumn":113},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 12,\n  borderRadius: 10,\n  backgroundColor: '#fff',\n  marginTop: 6,\n  marginBottom: 6,\n  borderWidth: 1,\n  borderColor: '#eee',\n  shadowColor: '#000',\n  shadowOpacity: 0.04,\n  shadowRadius: 6,\n  overflow: 'hidden',\n  flexDirection: 'row',\n  minHeight: 150,\n  position: 'relative'\n}","line":146,"column":189,"nodeType":"ObjectExpression","endLine":146,"endColumn":454},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '30%', paddingRight: 8, position: 'relative', marginTop: 5 }","line":147,"column":193,"nodeType":"ObjectExpression","endLine":147,"endColumn":261},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '100%',\n  height: 120,\n  borderRadius: 8,\n  backgroundColor: '#f6f6f6'\n}","line":148,"column":48,"nodeType":"ObjectExpression","endLine":148,"endColumn":123},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '54%',\n  justifyContent: 'flex-start',\n  alignItems: 'flex-start',\n  paddingLeft: 8\n}","line":150,"column":136,"nodeType":"ObjectExpression","endLine":150,"endColumn":224},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'flex-start',\n  alignItems: 'center'\n}","line":151,"column":28,"nodeType":"ObjectExpression","endLine":151,"endColumn":104},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }","line":152,"column":30,"nodeType":"ObjectExpression","endLine":152,"endColumn":95},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  color: '#666',\n  marginTop: 15,\n  textAlign: 'left',\n  alignSelf: 'flex-start'\n}","line":154,"column":28,"nodeType":"ObjectExpression","endLine":154,"endColumn":104},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  marginTop: 23,\n  marginLeft: -13,\n  alignItems: 'center'\n}","line":155,"column":28,"nodeType":"ObjectExpression","endLine":155,"endColumn":105},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 20, alignItems: 'center', marginLeft: 7 }","line":156,"column":195,"nodeType":"ObjectExpression","endLine":156,"endColumn":245},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, flexShrink: 1 }","line":159,"column":30,"nodeType":"ObjectExpression","endLine":159,"endColumn":56},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', fontSize: 16, lineHeight: 20 }","line":161,"column":28,"nodeType":"ObjectExpression","endLine":161,"endColumn":75},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginTop: 8,\n  color: \"item.notes ? '#444' : '#9e9e9e'\",\n  fontSize: 13,\n  fontStyle: \"item.notes ? 'normal' : 'italic'\"\n}","line":171,"column":30,"nodeType":"ObjectExpression","endLine":171,"endColumn":145},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '16%',\n  minWidth: 72,\n  justifyContent: 'flex-start',\n  alignItems: 'flex-end',\n  paddingRight: 6,\n  paddingTop: 0\n}","line":176,"column":26,"nodeType":"ObjectExpression","endLine":176,"endColumn":142},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginBottom: 40,\n  alignItems: 'flex-end',\n  justifyContent: 'flex-start',\n  width: '100%',\n  marginTop: 0\n}","line":177,"column":30,"nodeType":"ObjectExpression","endLine":177,"endColumn":133},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }","line":178,"column":32,"nodeType":"ObjectExpression","endLine":178,"endColumn":102},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#1976d2',\n  borderRadius: 6,\n  marginBottom: 6,\n  alignSelf: 'flex-end'\n}","line":190,"column":101,"nodeType":"ObjectExpression","endLine":190,"endColumn":200},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#d32f2f',\n  borderRadius: 6,\n  alignSelf: 'flex-end'\n}","line":198,"column":25,"nodeType":"ObjectExpression","endLine":198,"endColumn":107},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  width: 24,\n  height: 24,\n  borderRadius: 12,\n  backgroundColor: 'rgba(0,0,0,0.35)',\n  justifyContent: 'center',\n  alignItems: 'center'\n}","line":203,"column":30,"nodeType":"ObjectExpression","endLine":203,"endColumn":246},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":215,"column":26,"nodeType":"ObjectExpression","endLine":215,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":216,"column":20,"nodeType":"ObjectExpression","endLine":216,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'space-between',\n  marginBottom: 12\n}","line":217,"column":22,"nodeType":"ObjectExpression","endLine":217,"endColumn":97},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 56 }","line":219,"column":24,"nodeType":"ObjectExpression","endLine":219,"endColumn":37},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “Expenses” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":225,"column":102,"nodeType":"ArrowFunctionExpression","endLine":225,"endColumn":163},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666' }","line":225,"column":121,"nodeType":"ObjectExpression","endLine":225,"endColumn":138}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":32,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useContext, useMemo, useRef, useEffect } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, FlatList, TouchableOpacity, Image, Animated } from 'react-native';\r\nimport useExpenses from '../hooks/useExpenses';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Alert } from 'react-native';\r\nimport ExpenseForm from '../components/ExpenseForm';\r\nimport { Swipeable } from 'react-native-gesture-handler';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { ModalCloseContext } from '../context/ModalCloseContext';\r\n\r\nconst Expenses = ({ route }) => {\r\n  const { expenses, addExpense } = useExpenses();\r\n  const { updateExpense, deleteExpense } = useContext(DataContext);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [editInitial, setEditInitial] = useState(null);\r\n\r\n  const navigation = useNavigation();\r\n\r\n  const handleSave = (e) => {\r\n    // if editing existing expense (has id) call updateExpense, otherwise add\r\n    if (e && e.id && editInitial && editInitial.id) {\r\n      updateExpense && updateExpense(e);\r\n    } else {\r\n      addExpense(e);\r\n    }\r\n    setShowForm(false);\r\n    setEditInitial(null);\r\n    // clear header open param so toggle state stays in sync\r\n    try { navigation.setParams({ openAdd: null }); } catch (err) { }\r\n  };\r\n\r\n  // measurement refs + pin positioning (same approach as Miscellaneous)\r\n  const tileRefs = useRef(new Map());\r\n  const imageRefs = useRef(new Map());\r\n  const addrRefs = useRef(new Map());\r\n  const tileLayouts = useRef(new Map());\r\n  const contentLayouts = useRef(new Map());\r\n  const addrLayouts = useRef(new Map());\r\n  const imageLayouts = useRef(new Map());\r\n  const [pinPositions, setPinPositions] = useState({});\r\n  const [layoutTick, setLayoutTick] = useState(0);\r\n\r\n  const list = useMemo(() => (expenses || []), [expenses]);\r\n\r\n  useEffect(() => {\r\n    if (!list || !list.length) return;\r\n    const newPositions = {};\r\n    list.forEach((item) => {\r\n      if (pinPositions[item.id]) return;\r\n      const tLayout = tileLayouts.current.get(item.id);\r\n      const contentLayout = contentLayouts.current.get(item.id);\r\n      const aLayout = addrLayouts.current.get(item.id);\r\n      if (tLayout && contentLayout && aLayout) {\r\n        const addrAbsX = contentLayout.x + aLayout.x;\r\n        const addrAbsY = contentLayout.y + aLayout.y;\r\n        const left = addrAbsX + (aLayout.width / 2) - 12;\r\n        const top = addrAbsY + (aLayout.height / 2) - 12;\r\n        newPositions[item.id] = { left, top };\r\n      }\r\n    });\r\n    if (Object.keys(newPositions).length) {\r\n      setPinPositions((prev) => ({ ...prev, ...newPositions }));\r\n    }\r\n  }, [layoutTick, pinPositions, list]);\r\n\r\n  // listen for header add button presses via a changing param\r\n  React.useEffect(() => {\r\n    const isOpen = route && route.params && route.params.openAdd;\r\n    // open when truthy, close when cleared/null\r\n    setShowForm(!!isOpen);\r\n  }, [route && route.params && route.params.openAdd]);\r\n\r\n  // when the form is closed in-screen, ensure the header param is cleared\r\n  React.useEffect(() => {\r\n    if (!showForm) {\r\n      try { navigation.setParams({ openAdd: null }); } catch (e) { }\r\n    }\r\n  }, [showForm]);\r\n\r\n  // register global closer so header/tab navigation will close the form first\r\n  const { register } = useContext(ModalCloseContext);\r\n  React.useEffect(() => {\r\n    const closer = () => {\r\n      setShowForm(false);\r\n      setEditInitial(null);\r\n      try { navigation.setParams({ openAdd: null }); } catch (e) {}\r\n    };\r\n    const unregister = register && register(closer);\r\n    return () => unregister && unregister();\r\n  }, [register]);\r\n\r\n  const renderItem = ({ item }) => {\r\n    const imgSource = item.image ? { uri: item.image } : (item.receiptPhoto ? { uri: item.receiptPhoto } : require('../../assets/icon.png'));\r\n    const dateStr = item.date ? new Date(item.date).toLocaleString() : (item.createdAt ? new Date(item.createdAt).toLocaleString() : '');\r\n\r\n    const renderLeftActions = (progress, dragX) => {\r\n      const trans = dragX.interpolate({ inputRange: [0, 120], outputRange: [-20, 0], extrapolate: 'clamp' });\r\n      const opacity = progress.interpolate({ inputRange: [0, 1], outputRange: [0, 1] });\r\n      return (\r\n        <Animated.View style={{ justifyContent: 'center', paddingLeft: 12, transform: [{ translateX: trans }], opacity }}>\r\n          <TouchableOpacity onPress={() => updateExpense && updateExpense({ ...item, classification: 'business' })} style={{ backgroundColor: '#4caf50', padding: 12, borderRadius: 8 }}>\r\n            <Text style={{ color: '#fff' }}>Business</Text>\r\n          </TouchableOpacity>\r\n        </Animated.View>\r\n      );\r\n    };\r\n\r\n    const renderRightActions = (progress, dragX) => {\r\n      const trans = dragX.interpolate({ inputRange: [-120, 0], outputRange: [0, 20], extrapolate: 'clamp' });\r\n      const opacity = progress.interpolate({ inputRange: [0, 1], outputRange: [0, 1] });\r\n      return (\r\n        <Animated.View style={{ justifyContent: 'center', paddingRight: 12, transform: [{ translateX: trans }], opacity }}>\r\n          <TouchableOpacity onPress={() => updateExpense && updateExpense({ ...item, classification: 'personal' })} style={{ backgroundColor: '#ff7043', padding: 12, borderRadius: 8 }}>\r\n            <Text style={{ color: '#fff' }}>Personal</Text>\r\n          </TouchableOpacity>\r\n        </Animated.View>\r\n      );\r\n    };\r\n\r\n    const swipeRef = React.createRef();\r\n\r\n    return (\r\n      <Swipeable\r\n        ref={swipeRef}\r\n        renderLeftActions={renderLeftActions}\r\n        renderRightActions={renderRightActions}\r\n        friction={1.2}\r\n        overshootLeft={true}\r\n        overshootRight={true}\r\n        leftThreshold={40}\r\n        rightThreshold={40}\r\n        useNativeAnimations\r\n        onSwipeableOpen={(direction) => {\r\n          try {\r\n            const classificationKey = direction === 'left' ? 'business' : 'personal';\r\n            try { updateExpense && updateExpense({ ...item, classification: classificationKey }); } catch (e) {}\r\n            try { swipeRef && swipeRef.current && swipeRef.current.close && swipeRef.current.close(); } catch (e) {}\r\n          } catch (e) {\r\n            try { swipeRef && swipeRef.current && swipeRef.current.close && swipeRef.current.close(); } catch (e) {}\r\n          }\r\n        }}\r\n      >\r\n        <View>\r\n          <View ref={(r) => { if (r) tileRefs.current.set(item.id, r); }} onLayout={(e) => { tileLayouts.current.set(item.id, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ padding: 12, borderRadius: 10, backgroundColor: '#fff', marginTop: 6, marginBottom: 6, borderWidth: 1, borderColor: '#eee', shadowColor: '#000', shadowOpacity: 0.04, shadowRadius: 6, overflow: 'hidden', flexDirection: 'row', minHeight: 150, position: 'relative' }}>\r\n            <View ref={(r) => { if (r) imageRefs.current.set(item.id, r); }} onLayout={(e) => { imageLayouts.current.set(item.id, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ width: '30%', paddingRight: 8, position: 'relative', marginTop:5 }}>\r\n              <Image source={imgSource} style={{ width: '100%', height: 120, borderRadius: 8, backgroundColor: '#f6f6f6' }} resizeMode=\"cover\" />\r\n            </View>\r\n            <View onLayout={(e) => { contentLayouts.current.set(item.id, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ width: '54%', justifyContent: 'flex-start', alignItems: 'flex-start', paddingLeft: 8 }}>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-start', alignItems: 'center' }}>\r\n                <Text style={{ fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }}>{item.description || item.category || 'Expense'}</Text>\r\n              </View>\r\n              <Text style={{ color: '#666', marginTop: 15, textAlign: 'left', alignSelf: 'flex-start' }}>{dateStr}</Text>\r\n              <View style={{ flexDirection: 'row', marginTop: 23, marginLeft:-13, alignItems: 'center' }}>\r\n                <View ref={(r) => { if (r) addrRefs.current.set(item.id, r); }} onLayout={(e) => { addrLayouts.current.set(item.id, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ width: 20, alignItems: 'center', marginLeft: 7 }}>\r\n                  <Ionicons name=\"location-outline\" size={20} color=\"#000\" />\r\n                </View>\r\n                <View style={{ flex: 1, flexShrink: 1 }}>\r\n                  <Text\r\n                    style={{ color: '#333', fontSize: 16, lineHeight: 20 }}\r\n                    numberOfLines={2}\r\n                    ellipsizeMode=\"tail\"\r\n                  >\r\n                    {item.vendor || item.location || 'Store Address, Anytown'}\r\n                  </Text>\r\n                </View>\r\n              </View>\r\n              {/* notes field: show actual notes or a visible placeholder when empty */}\r\n              <TouchableOpacity activeOpacity={0.7} onPress={() => { /* placeholder for future edit-open */ }}>\r\n                <Text style={{ marginTop: 8, color: item.notes ? '#444' : '#9e9e9e', fontSize: 13, fontStyle: item.notes ? 'normal' : 'italic' }}>\r\n                  {item.notes ? item.notes : 'Add notes…'}\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={{ width: '16%', minWidth: 72, justifyContent: 'flex-start', alignItems: 'flex-end', paddingRight: 6, paddingTop: 0 }}>\r\n                <View style={{ marginBottom: 40, alignItems: 'flex-end', justifyContent: 'flex-start', width: '100%', marginTop: 0 }}>\r\n                  <Text style={{ color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }}>\r\n                    {(() => {\r\n                      try {\r\n                        const amt = typeof item.amount === 'number' ? item.amount : (item.amount ? Number(item.amount) : NaN);\r\n                        if (!isFinite(amt)) return '';\r\n                        return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 2 }).format(amt);\r\n                      } catch (e) {\r\n                        return item.amount ? `$${Number(item.amount).toFixed(2)}` : '';\r\n                      }\r\n                    })()}\r\n                  </Text>\r\n                </View>\r\n              <TouchableOpacity onPress={() => { setEditInitial(item); setShowForm(true); }} style={{ padding: 6, backgroundColor: '#1976d2', borderRadius: 6, marginBottom: 6, alignSelf: 'flex-end' }}>\r\n                <Ionicons name=\"pencil\" size={16} color=\"#fff\" />\r\n              </TouchableOpacity>\r\n              <TouchableOpacity onPress={() => {\r\n                Alert.alert('Delete', 'Delete this expense?', [\r\n                  { text: 'Cancel', style: 'cancel' },\r\n                  { text: 'Delete', style: 'destructive', onPress: () => deleteExpense && deleteExpense(item) },\r\n                ]);\r\n              }} style={{ padding: 6, backgroundColor: '#d32f2f', borderRadius: 6, alignSelf: 'flex-end' }}>\r\n                <Ionicons name=\"trash\" size={16} color=\"#fff\" />\r\n              </TouchableOpacity>\r\n              {/* Render measured pin aligned with the address icon for expenses */}\r\n              {pinPositions[item.id] ? (\r\n                <View style={{ position: 'absolute', left: pinPositions[item.id].left, top: pinPositions[item.id].top, width: 24, height: 24, borderRadius: 12, backgroundColor: 'rgba(0,0,0,0.35)', justifyContent: 'center', alignItems: 'center' }}>\r\n                  <Ionicons name=\"location\" size={14} color=\"#fff\" />\r\n                </View>\r\n              ) : null}\r\n            </View>\r\n          </View>\r\n        </View>\r\n      </Swipeable>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      <View style={{ padding: 12 }}>\r\n        <View style={{ flexDirection: 'row', justifyContent: 'space-between', marginBottom: 12 }}>\r\n          {/* Header add button moved to stack header; placeholder for left spacing */}\r\n          <View style={{ width: 56 }} />\r\n          {/* Import button moved to Settings screen */}\r\n        </View>\r\n\r\n        {showForm && <ExpenseForm initial={editInitial || {}} onSave={handleSave} onCancel={() => { setShowForm(false); setEditInitial(null); }} />}\r\n\r\n        <FlatList data={list} keyExtractor={(i) => i.id} renderItem={renderItem} ListEmptyComponent={() => <Text style={{ color: '#666' }}>No expenses yet.</Text>} />\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default Expenses;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\ExpensesScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":18,"column":20,"nodeType":"ObjectExpression","endLine":18,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 12,\n  borderRadius: 10,\n  backgroundColor: '#fff',\n  marginTop: 6,\n  marginBottom: 6,\n  borderWidth: 1,\n  borderColor: '#eee',\n  flexDirection: 'row',\n  minHeight: 100\n}","line":19,"column":22,"nodeType":"ObjectExpression","endLine":19,"endColumn":186},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '28%', paddingRight: 8 }","line":20,"column":24,"nodeType":"ObjectExpression","endLine":20,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '100%',\n  height: 80,\n  borderRadius: 8,\n  backgroundColor: '#f6f6f6'\n}","line":21,"column":46,"nodeType":"ObjectExpression","endLine":21,"endColumn":120},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '54%', paddingLeft: 8, justifyContent: 'center' }","line":24,"column":24,"nodeType":"ObjectExpression","endLine":24,"endColumn":82},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700' }","line":25,"column":26,"nodeType":"ObjectExpression","endLine":25,"endColumn":47},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', marginTop: 4 }","line":26,"column":26,"nodeType":"ObjectExpression","endLine":26,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 6 }","line":27,"column":40,"nodeType":"ObjectExpression","endLine":27,"endColumn":56},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '18%', justifyContent: 'center', alignItems: 'flex-end' }","line":30,"column":24,"nodeType":"ObjectExpression","endLine":30,"endColumn":90},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#222', fontWeight: '800' }","line":31,"column":26,"nodeType":"ObjectExpression","endLine":31,"endColumn":62},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#1976d2',\n  borderRadius: 6,\n  marginTop: 8\n}","line":34,"column":91,"nodeType":"ObjectExpression","endLine":34,"endColumn":164},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#d32f2f',\n  borderRadius: 6,\n  marginTop: 8\n}","line":37,"column":91,"nodeType":"ObjectExpression","endLine":37,"endColumn":164},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, backgroundColor: '#f6f7fb' }","line":47,"column":26,"nodeType":"ObjectExpression","endLine":47,"endColumn":65},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12, paddingBottom: 120 }","line":53,"column":32,"nodeType":"ObjectExpression","endLine":53,"endColumn":67},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ExpensesScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":54,"column":29,"nodeType":"ArrowFunctionExpression","endLine":58,"endColumn":10},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 24, alignItems: 'center' }","line":55,"column":24,"nodeType":"ObjectExpression","endLine":55,"endColumn":61},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666' }","line":56,"column":26,"nodeType":"ObjectExpression","endLine":56,"endColumn":43}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":17,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, FlatList, Image, TouchableOpacity } from 'react-native';\r\nimport ExpenseLogger from '../components/ExpenseLogger';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst placeholderImg = require('../../assets/icon.png');\r\n\r\nconst ExpensesScreen = () => {\r\n  const { expenses = [], updateExpense, deleteExpense } = useContext(DataContext);\r\n\r\n  const renderItem = ({ item }) => {\r\n    const imgSource = item.receiptPhoto ? { uri: item.receiptPhoto } : (item.image ? { uri: item.image } : placeholderImg);\r\n    const dateStr = item.date ? new Date(item.date).toLocaleString() : (item.createdAt ? new Date(item.createdAt).toLocaleString() : '');\r\n\r\n    return (\r\n      <View style={{ padding: 12 }}>\r\n        <View style={{ padding: 12, borderRadius: 10, backgroundColor: '#fff', marginTop: 6, marginBottom: 6, borderWidth: 1, borderColor: '#eee', flexDirection: 'row', minHeight: 100 }}>\r\n          <View style={{ width: '28%', paddingRight: 8 }}>\r\n            <Image source={imgSource} style={{ width: '100%', height: 80, borderRadius: 8, backgroundColor: '#f6f6f6' }} resizeMode=\"cover\" />\r\n          </View>\r\n\r\n          <View style={{ width: '54%', paddingLeft: 8, justifyContent: 'center' }}>\r\n            <Text style={{ fontWeight: '700' }}>{item.description || item.category || 'Expense'}</Text>\r\n            <Text style={{ color: '#666', marginTop: 4 }}>{dateStr}</Text>\r\n            {item.notes ? <Text style={{ marginTop: 6 }}>{item.notes}</Text> : null}\r\n          </View>\r\n\r\n          <View style={{ width: '18%', justifyContent: 'center', alignItems: 'flex-end' }}>\r\n            <Text style={{ color: '#222', fontWeight: '800' }}>\r\n              {typeof item.amount === 'number' ? `$${item.amount.toFixed(2)}` : (item.amount ? `$${Number(item.amount).toFixed(2)}` : '')}\r\n            </Text>\r\n            <TouchableOpacity onPress={() => updateExpense && updateExpense(item)} style={{ padding: 6, backgroundColor: '#1976d2', borderRadius: 6, marginTop: 8 }}>\r\n              <Ionicons name=\"pencil\" size={16} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n            <TouchableOpacity onPress={() => deleteExpense && deleteExpense(item)} style={{ padding: 6, backgroundColor: '#d32f2f', borderRadius: 6, marginTop: 8 }}>\r\n              <Ionicons name=\"trash\" size={16} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n      </View>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1, backgroundColor: '#f6f7fb' }}>\r\n      <ExpenseLogger />\r\n      <FlatList\r\n        data={expenses}\r\n        keyExtractor={(i) => i.id}\r\n        renderItem={renderItem}\r\n        contentContainerStyle={{ padding: 12, paddingBottom: 120 }}\r\n        ListEmptyComponent={() => (\r\n          <View style={{ padding: 24, alignItems: 'center' }}>\r\n            <Text style={{ color: '#666' }}>No expenses yet.</Text>\r\n          </View>\r\n        )}\r\n      />\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default ExpensesScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\HelpScreen.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'navigation' is defined but never used. Allowed unused args must match /^_/u.","line":6,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":33},{"ruleId":"no-unused-vars","severity":1,"message":"'openArticle' is assigned a value but never used.","line":11,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":20},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":20,"column":26,"nodeType":"ObjectExpression","endLine":20,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingBottom: 40 }","line":21,"column":42,"nodeType":"ObjectExpression","endLine":21,"endColumn":63},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":22,"column":22,"nodeType":"ObjectExpression","endLine":22,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 18 }","line":29,"column":24,"nodeType":"ObjectExpression","endLine":29,"endColumn":38},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 8 }","line":32,"column":24,"nodeType":"ObjectExpression","endLine":32,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 18 }","line":34,"column":24,"nodeType":"ObjectExpression","endLine":34,"endColumn":38}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Alert, ScrollView } from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst HelpScreen = ({ navigation }) => {\r\n  const openEmail = () => {\r\n    Alert.alert('Support', 'Open email composer to support@roadbiz.example (placeholder)');\r\n  };\r\n\r\n  const openArticle = (slug) => {\r\n    Alert.alert('Article', `Open article: ${slug}`);\r\n  };\r\n\r\n  const openLegal = (name) => {\r\n    Alert.alert(name, `Open ${name} (placeholder)`);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <ScrollView contentContainerStyle={{ paddingBottom: 40 }}>\r\n        <View style={{ padding: 16 }}>\r\n          <Text style={styles.sectionTitleLarge}>Support</Text>\r\n          <TouchableOpacity style={styles.row} onPress={openEmail}>\r\n            <View style={styles.rowLeft}><View style={styles.iconCircle}><Ionicons name=\"mail-outline\" size={20} color=\"#444\" /></View><Text style={styles.rowTitle}>Email</Text></View>\r\n            <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" />\r\n          </TouchableOpacity>\r\n\r\n          <View style={{ height: 18 }} />\r\n          <Text style={styles.sectionTitleLarge}>Suggested articles</Text>\r\n          {/* Intentionally left empty as requested */}\r\n          <View style={{ height: 8 }} />\r\n\r\n          <View style={{ height: 18 }} />\r\n          <Text style={styles.sectionTitleLarge}>Legal</Text>\r\n          <TouchableOpacity style={styles.row} onPress={() => openLegal('Privacy & Cookies')}>\r\n            <View style={styles.rowLeft}><View style={styles.iconCircle}><Ionicons name=\"document-text-outline\" size={20} color=\"#444\" /></View><Text style={styles.rowTitle}>Privacy & Cookies</Text></View>\r\n            <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.row} onPress={() => openLegal('Terms of Service')}>\r\n            <View style={styles.rowLeft}><View style={styles.iconCircle}><Ionicons name=\"document-text-outline\" size={20} color=\"#444\" /></View><Text style={styles.rowTitle}>Terms of Service</Text></View>\r\n            <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.row} onPress={() => openLegal('Copyright')}>\r\n            <View style={styles.rowLeft}><View style={styles.iconCircle}><Ionicons name=\"document-text-outline\" size={20} color=\"#444\" /></View><Text style={styles.rowTitle}>Copyright</Text></View>\r\n            <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" />\r\n          </TouchableOpacity>\r\n          <TouchableOpacity style={styles.row} onPress={() => openLegal('Third Party Notices')}>\r\n            <View style={styles.rowLeft}><View style={styles.iconCircle}><Ionicons name=\"document-text-outline\" size={20} color=\"#444\" /></View><Text style={styles.rowTitle}>Third Party Notices</Text></View>\r\n            <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" />\r\n          </TouchableOpacity>\r\n        </View>\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  sectionTitleLarge: { fontSize: 12, fontWeight: '700', color: '#666', marginBottom: 8 },\r\n  row: { flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingVertical: 14, borderTopWidth: 1, borderTopColor: '#fafafa' },\r\n  rowLeft: { flexDirection: 'row', alignItems: 'center' },\r\n  iconCircle: { width: 36, height: 36, borderRadius: 18, backgroundColor: '#fff', alignItems: 'center', justifyContent: 'center', marginRight: 12, borderWidth: 1, borderColor: '#f0f0f0' },\r\n  rowTitle: { fontSize: 16, fontWeight: '600' },\r\n});\r\n\r\nexport default HelpScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\MileageRatesScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":64,"column":26,"nodeType":"ObjectExpression","endLine":64,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":65,"column":20,"nodeType":"ObjectExpression","endLine":65,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 24 }","line":67,"column":53,"nodeType":"ObjectExpression","endLine":67,"endColumn":69},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":68,"column":24,"nodeType":"ObjectExpression","endLine":68,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#888', fontWeight: '700' }","line":77,"column":24,"nodeType":"ObjectExpression","endLine":77,"endColumn":60},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#888', fontWeight: '700' }","line":78,"column":24,"nodeType":"ObjectExpression","endLine":78,"endColumn":60},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 18 }","line":88,"column":22,"nodeType":"ObjectExpression","endLine":88,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#999' }","line":89,"column":22,"nodeType":"ObjectExpression","endLine":89,"endColumn":39},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 6 }","line":91,"column":38,"nodeType":"ObjectExpression","endLine":91,"endColumn":54},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', fontSize: 18, marginBottom: 8 }","line":97,"column":28,"nodeType":"ObjectExpression","endLine":97,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":99,"column":28,"nodeType":"ObjectExpression","endLine":99,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":100,"column":81,"nodeType":"ObjectExpression","endLine":100,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":101,"column":64,"nodeType":"ObjectExpression","endLine":101,"endColumn":95},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#d32f2f' }","line":101,"column":110,"nodeType":"ObjectExpression","endLine":101,"endColumn":130},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":102,"column":57,"nodeType":"ObjectExpression","endLine":102,"endColumn":117},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":102,"column":132,"nodeType":"ObjectExpression","endLine":102,"endColumn":149}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":16,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Modal, TextInput, Alert } from 'react-native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\n\r\nconst DEFAULT_RATES = [\r\n  { id: 'business', label: 'Business', rate: 0.7 },\r\n  { id: 'medical', label: 'Medical', rate: 0.21 },\r\n  { id: 'charity', label: 'Charity', rate: 0.14 },\r\n  { id: 'moving', label: 'Moving', rate: 0.21 },\r\n  { id: 'personal', label: 'Personal', rate: 0.0 },\r\n];\r\n\r\nconst STORAGE_KEY = 'rr:custom_business_rate:v1';\r\n\r\nconst MileageRatesScreen = () => {\r\n  const [customRate, setCustomRate] = useState(null);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editingValue, setEditingValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const saved = await AsyncStorage.getItem(STORAGE_KEY);\r\n        if (saved) setCustomRate(Number(saved));\r\n      } catch (e) {\r\n        console.warn('load custom rate failed', e);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const openEdit = () => {\r\n    setEditingValue(customRate != null ? String(customRate.toFixed(2)) : String(DEFAULT_RATES.find((r) => r.id === 'business').rate.toFixed(2)));\r\n    setModalVisible(true);\r\n  };\r\n\r\n  const save = async () => {\r\n    const parsed = parseFloat(editingValue.replace(/[^0-9.]/g, ''));\r\n    if (Number.isNaN(parsed)) return Alert.alert('Invalid rate');\r\n    try {\r\n      await AsyncStorage.setItem(STORAGE_KEY, String(parsed));\r\n      setCustomRate(parsed);\r\n      setModalVisible(false);\r\n      Alert.alert('Saved', 'Custom business rate saved');\r\n    } catch (e) {\r\n      console.warn('save custom rate failed', e);\r\n      Alert.alert('Save failed');\r\n    }\r\n  };\r\n\r\n  const clearCustom = async () => {\r\n    try {\r\n      await AsyncStorage.removeItem(STORAGE_KEY);\r\n      setCustomRate(null);\r\n      Alert.alert('Reset', 'Using standard IRS rate');\r\n    } catch (e) {\r\n      console.warn('clear custom rate failed', e);\r\n    }\r\n  };\r\n\r\n  const rates = DEFAULT_RATES.map((r) => ({ ...r, displayRate: r.id === 'business' && customRate != null ? customRate : r.rate }));\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={{ padding: 16 }}>\r\n        <View style={styles.heroBox}>\r\n          <View style={styles.iconBox}><Text style={{ fontSize: 24 }}>🧾</Text></View>\r\n          <View style={{ flex: 1 }}>\r\n            <Text style={styles.heroTitle}>The IRS sets standard mileage rates for the US. Current rates are listed below.</Text>\r\n            <TouchableOpacity onPress={() => Alert.alert('Learn more', 'Open documentation (placeholder)')}>\r\n              <Text style={styles.link}>Learn more about mileage rates</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </View>\r\n\r\n        <View style={styles.tableHeader}>\r\n          <Text style={{ color: '#888', fontWeight: '700' }}>PURPOSE</Text>\r\n          <Text style={{ color: '#888', fontWeight: '700' }}>PER MI</Text>\r\n        </View>\r\n\r\n        {rates.map((r) => (\r\n          <TouchableOpacity key={r.id} style={styles.row} onPress={r.id === 'business' ? openEdit : undefined}>\r\n            <Text style={styles.rowLeft}>{r.label}</Text>\r\n            <Text style={styles.rowRight}>{r.displayRate === 0 ? '$0.00' : `$${r.displayRate.toFixed(2)}`}</Text>\r\n          </TouchableOpacity>\r\n        ))}\r\n\r\n        <View style={{ height: 18 }} />\r\n        <Text style={{ color: '#999' }}>Is your mileage reimbursed at a different rate?</Text>\r\n        <TouchableOpacity onPress={() => Alert.alert('Dashboard', 'Set a custom business rate at dashboard.roadbiz.com (placeholder)')}>\r\n          <Text style={[styles.link, { marginTop: 6 }]}>Set a custom business rate at dashboard.roadbiz.com</Text>\r\n        </TouchableOpacity>\r\n\r\n        <Modal visible={modalVisible} animationType=\"slide\" transparent>\r\n          <View style={modalStyles.backdrop}>\r\n            <View style={modalStyles.sheet}>\r\n              <Text style={{ fontWeight: '700', fontSize: 18, marginBottom: 8 }}>Custom business rate</Text>\r\n              <TextInput placeholder=\"Rate (e.g. 0.70)\" value={editingValue} onChangeText={setEditingValue} keyboardType=\"decimal-pad\" style={modalStyles.input} />\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                <TouchableOpacity onPress={() => setModalVisible(false)} style={{ padding: 10, marginRight: 8 }}><Text>Cancel</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={clearCustom} style={{ padding: 10, marginRight: 8 }}><Text style={{ color: '#d32f2f' }}>Reset</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={save} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}><Text style={{ color: '#fff' }}>Save</Text></TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  heroBox: { flexDirection: 'row', backgroundColor: '#f5f5f5', padding: 12, borderRadius: 8, marginBottom: 12 },\r\n  iconBox: { width: 56, height: 56, borderRadius: 8, backgroundColor: '#fff', alignItems: 'center', justifyContent: 'center', marginRight: 12, borderWidth: 1, borderColor: '#eee' },\r\n  heroTitle: { fontWeight: '700', color: '#333' },\r\n  link: { color: '#1976d2', marginTop: 6 },\r\n  tableHeader: { flexDirection: 'row', justifyContent: 'space-between', paddingVertical: 8, borderTopWidth: 1, borderTopColor: '#fafafa', paddingHorizontal: 4 },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 14, borderTopWidth: 1, borderTopColor: '#fafafa' },\r\n  rowLeft: { fontSize: 16 },\r\n  rowRight: { fontWeight: '700' },\r\n});\r\n\r\nconst modalStyles = StyleSheet.create({\r\n  backdrop: { flex: 1, backgroundColor: 'rgba(0,0,0,0.35)', justifyContent: 'center', padding: 20 },\r\n  sheet: { backgroundColor: '#fff', borderRadius: 12, padding: 16 },\r\n  input: { borderWidth: 1, borderColor: '#eee', borderRadius: 8, padding: 10, marginBottom: 12 },\r\n});\r\n\r\nexport default MileageRatesScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\MileageScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":6,"column":24,"nodeType":"ObjectExpression","endLine":6,"endColumn":35}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport MileageTracker from '../components/MileageTracker';\r\n\r\nconst MileageScreen = () => (\r\n  <SafeAreaView style={{ flex: 1 }}>\r\n    <MileageTracker />\r\n  </SafeAreaView>\r\n);\r\n\r\nexport default MileageScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\Miscellaneous.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'imageRefs' is assigned a value but never used.","line":57,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":57,"endColumn":18},{"ruleId":"no-unused-vars","severity":1,"message":"'imageLayouts' is assigned a value but never used.","line":60,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":60,"endColumn":21},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":102,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":102,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5066,5112],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":119,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":119,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[5645,5691],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “Miscellaneous” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":159,"column":20,"nodeType":"ArrowFunctionExpression","endLine":171,"endColumn":8},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingHorizontal: 8,\n  paddingVertical: 8,\n  backgroundColor: 'transparent',\n  borderRadius: 4\n}","line":168,"column":19,"nodeType":"ObjectExpression","endLine":168,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":257,"column":26,"nodeType":"ObjectExpression","endLine":257,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12, flex: 1 }","line":258,"column":20,"nodeType":"ObjectExpression","endLine":258,"endColumn":44},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 8 }","line":260,"column":22,"nodeType":"ObjectExpression","endLine":260,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end', marginBottom: 8 }","line":263,"column":24,"nodeType":"ObjectExpression","endLine":263,"endColumn":93},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingHorizontal: 10,\n  paddingVertical: 6,\n  backgroundColor: '#1976d2',\n  borderRadius: 8,\n  marginRight: 8\n}","line":264,"column":173,"nodeType":"ObjectExpression","endLine":264,"endColumn":279},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingHorizontal: 10,\n  paddingVertical: 6,\n  backgroundColor: '#d32f2f',\n  borderRadius: 8,\n  marginRight: 8\n}","line":279,"column":23,"nodeType":"ObjectExpression","endLine":279,"endColumn":129},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  paddingHorizontal: 10,\n  paddingVertical: 6,\n  backgroundColor: '#9e9e9e',\n  borderRadius: 8\n}","line":282,"column":110,"nodeType":"ObjectExpression","endLine":282,"endColumn":200},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingBottom: 40 }","line":291,"column":34,"nodeType":"ObjectExpression","endLine":291,"endColumn":55},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { justifyContent: 'center', paddingLeft: 12 }","line":307,"column":39,"nodeType":"ObjectExpression","endLine":307,"endColumn":129},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#4caf50', padding: 12, borderRadius: 8 }","line":308,"column":165,"nodeType":"ObjectExpression","endLine":308,"endColumn":225},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":309,"column":34,"nodeType":"ObjectExpression","endLine":309,"endColumn":51},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { justifyContent: 'center', paddingRight: 12 }","line":319,"column":39,"nodeType":"ObjectExpression","endLine":319,"endColumn":130},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#ff7043', padding: 12, borderRadius: 8 }","line":320,"column":165,"nodeType":"ObjectExpression","endLine":320,"endColumn":225},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":321,"column":34,"nodeType":"ObjectExpression","endLine":321,"endColumn":51},{"ruleId":"no-catch-shadow","severity":1,"message":"Value of 'e' may be overwritten in IE 8 and earlier.","line":348,"column":105,"nodeType":"CatchClause","messageId":"mutable","endLine":348,"endColumn":117},{"ruleId":"no-shadow","severity":1,"message":"'e' is already declared in the upper scope on line 347 column 30.","line":348,"column":112,"nodeType":"Identifier","messageId":"noShadow","endLine":348,"endColumn":113},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 12,\n  borderRadius: 10,\n  backgroundColor: \"selectionMode && selectedIds.has(item.key) ? '#e3f2fd' : '#fff'\",\n  marginTop: 6,\n  marginBottom: 6,\n  borderWidth: 1,\n  borderColor: '#eee',\n  shadowColor: '#000',\n  shadowOpacity: 0.04,\n  shadowRadius: 6,\n  overflow: 'hidden',\n  flexDirection: 'row',\n  minHeight: 150,\n  position: 'relative'\n}","line":352,"column":199,"nodeType":"ObjectExpression","endLine":352,"endColumn":521},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: '30%', paddingRight: 8 }","line":354,"column":34,"nodeType":"ObjectExpression","endLine":354,"endColumn":67},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  left: -8,\n  top: -8,\n  width: 36,\n  height: 36,\n  borderRadius: 18,\n  backgroundColor: \"selectedIds.has(item.key) ? '#1976d2' : 'rgba(255,255,255,0.9)'\",\n  borderWidth: 1,\n  borderColor: '#ddd',\n  justifyContent: 'center',\n  alignItems: 'center',\n  zIndex: 10\n}","line":361,"column":35,"nodeType":"ObjectExpression","endLine":361,"endColumn":298},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '100%',\n  height: 120,\n  borderRadius: 8,\n  backgroundColor: '#f6f6f6'\n}","line":365,"column":56,"nodeType":"ObjectExpression","endLine":365,"endColumn":131},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  right: 0,\n  top: -8,\n  backgroundColor: '#fff',\n  borderRadius: 12,\n  paddingHorizontal: 8,\n  paddingVertical: 4,\n  borderWidth: 1,\n  borderColor: '#eee',\n  alignItems: 'center',\n  justifyContent: 'center',\n  shadowColor: '#000',\n  shadowOpacity: 0.08,\n  shadowRadius: 4,\n  elevation: 2\n}","line":367,"column":36,"nodeType":"ObjectExpression","endLine":367,"endColumn":322},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  fontSize: 11,\n  fontWeight: '700',\n  color: \"item._type === 'route' ? '#2e7d32' : '#6d4c41'\"\n}","line":368,"column":38,"nodeType":"ObjectExpression","endLine":368,"endColumn":128},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '54%',\n  justifyContent: 'flex-start',\n  alignItems: 'flex-start',\n  paddingLeft: 8\n}","line":372,"column":145,"nodeType":"ObjectExpression","endLine":372,"endColumn":233},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'flex-start',\n  alignItems: 'center'\n}","line":375,"column":40,"nodeType":"ObjectExpression","endLine":375,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }","line":376,"column":42,"nodeType":"ObjectExpression","endLine":376,"endColumn":107},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  color: '#666',\n  marginTop: 15,\n  textAlign: 'left',\n  alignSelf: 'flex-start'\n}","line":378,"column":40,"nodeType":"ObjectExpression","endLine":378,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  marginTop: 23,\n  marginLeft: -13,\n  alignItems: 'center'\n}","line":379,"column":40,"nodeType":"ObjectExpression","endLine":379,"endColumn":117},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 20, alignItems: 'center', marginLeft: 7 }","line":380,"column":209,"nodeType":"ObjectExpression","endLine":380,"endColumn":259},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, paddingLeft: 0, flexShrink: 1 }","line":383,"column":42,"nodeType":"ObjectExpression","endLine":383,"endColumn":84},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', fontSize: 15, lineHeight: 18 }","line":385,"column":40,"nodeType":"ObjectExpression","endLine":385,"endColumn":87},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', marginTop: 4, fontSize: 15, lineHeight: 18 }","line":395,"column":40,"nodeType":"ObjectExpression","endLine":395,"endColumn":101},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginTop: 8,\n  color: \"item.notes ? '#444' : '#9e9e9e'\",\n  fontSize: 13,\n  fontStyle: \"item.notes ? 'normal' : 'italic'\"\n}","line":419,"column":44,"nodeType":"ObjectExpression","endLine":419,"endColumn":159},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'flex-start',\n  alignItems: 'center'\n}","line":426,"column":40,"nodeType":"ObjectExpression","endLine":426,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }","line":427,"column":42,"nodeType":"ObjectExpression","endLine":427,"endColumn":107},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  color: '#666',\n  marginTop: 15,\n  textAlign: 'left',\n  alignSelf: 'flex-start'\n}","line":429,"column":40,"nodeType":"ObjectExpression","endLine":429,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  marginTop: 33,\n  marginLeft: -13,\n  alignItems: 'center'\n}","line":430,"column":40,"nodeType":"ObjectExpression","endLine":430,"endColumn":117},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 20, alignItems: 'center', marginLeft: 7 }","line":431,"column":209,"nodeType":"ObjectExpression","endLine":431,"endColumn":259},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1, flexShrink: 1 }","line":434,"column":42,"nodeType":"ObjectExpression","endLine":434,"endColumn":68},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#333', fontSize: 15, lineHeight: 18 }","line":436,"column":40,"nodeType":"ObjectExpression","endLine":436,"endColumn":87},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginTop: 8,\n  color: \"item.notes ? '#444' : '#9e9e9e'\",\n  fontSize: 13,\n  fontStyle: \"item.notes ? 'normal' : 'italic'\"\n}","line":460,"column":42,"nodeType":"ObjectExpression","endLine":460,"endColumn":157},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '16%',\n  minWidth: 72,\n  justifyContent: 'flex-start',\n  alignItems: 'flex-end',\n  paddingRight: 6,\n  paddingTop: 0\n}","line":467,"column":36,"nodeType":"ObjectExpression","endLine":467,"endColumn":152},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  marginBottom: 40,\n  alignItems: 'flex-end',\n  justifyContent: 'flex-start',\n  width: '100%',\n  marginTop: 0\n}","line":468,"column":38,"nodeType":"ObjectExpression","endLine":468,"endColumn":141},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }","line":470,"column":46,"nodeType":"ObjectExpression","endLine":470,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }","line":472,"column":46,"nodeType":"ObjectExpression","endLine":472,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#1976d2',\n  borderRadius: 6,\n  marginBottom: 6,\n  alignSelf: 'flex-end'\n}","line":489,"column":35,"nodeType":"ObjectExpression","endLine":489,"endColumn":134},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 6,\n  backgroundColor: '#d32f2f',\n  borderRadius: 6,\n  alignSelf: 'flex-end'\n}","line":496,"column":33,"nodeType":"ObjectExpression","endLine":496,"endColumn":115},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  position: 'absolute',\n  width: 24,\n  height: 24,\n  borderRadius: 12,\n  backgroundColor: 'rgba(0,0,0,0.35)',\n  justifyContent: 'center',\n  alignItems: 'center'\n}","line":501,"column":38,"nodeType":"ObjectExpression","endLine":501,"endColumn":256},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “Miscellaneous” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":510,"column":31,"nodeType":"ArrowFunctionExpression","endLine":510,"endColumn":119},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', paddingVertical: 8 }","line":510,"column":50,"nodeType":"ObjectExpression","endLine":510,"endColumn":87},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  backgroundColor: 'rgba(0,0,0,0.4)',\n  justifyContent: 'center',\n  padding: 20\n}","line":514,"column":24,"nodeType":"ObjectExpression","endLine":514,"endColumn":110},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#fff', borderRadius: 10, padding: 16 }","line":515,"column":28,"nodeType":"ObjectExpression","endLine":515,"endColumn":86},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', marginBottom: 8 }","line":516,"column":30,"nodeType":"ObjectExpression","endLine":516,"endColumn":68},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":519,"column":34,"nodeType":"ObjectExpression","endLine":519,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":520,"column":106,"nodeType":"ObjectExpression","endLine":520,"endColumn":192},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":521,"column":34,"nodeType":"ObjectExpression","endLine":521,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginBottom: 12 }","line":522,"column":34,"nodeType":"ObjectExpression","endLine":522,"endColumn":76},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 8,\n  backgroundColor: \"bulkClassification === 'Business' ? '#4caf50' : '#eee'\",\n  borderRadius: 6,\n  marginRight: 8\n}","line":523,"column":98,"nodeType":"ObjectExpression","endLine":523,"endColumn":218},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"bulkClassification === 'Business' ? '#fff' : '#000'\" }","line":524,"column":38,"nodeType":"ObjectExpression","endLine":524,"endColumn":100},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 8,\n  backgroundColor: \"bulkClassification === 'Personal' ? '#ff7043' : '#eee'\",\n  borderRadius: 6\n}","line":526,"column":98,"nodeType":"ObjectExpression","endLine":526,"endColumn":202},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"bulkClassification === 'Personal' ? '#fff' : '#000'\" }","line":527,"column":38,"nodeType":"ObjectExpression","endLine":527,"endColumn":100},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":530,"column":34,"nodeType":"ObjectExpression","endLine":530,"endColumn":86},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":531,"column":166,"nodeType":"ObjectExpression","endLine":531,"endColumn":197},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":553,"column":33,"nodeType":"ObjectExpression","endLine":553,"endColumn":93},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":554,"column":38,"nodeType":"ObjectExpression","endLine":554,"endColumn":55},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":560,"column":34,"nodeType":"ObjectExpression","endLine":560,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":561,"column":102,"nodeType":"ObjectExpression","endLine":561,"endColumn":188},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":562,"column":34,"nodeType":"ObjectExpression","endLine":562,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginBottom: 12 }","line":563,"column":34,"nodeType":"ObjectExpression","endLine":563,"endColumn":76},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 8,\n  backgroundColor: \"editClassification === 'Business' ? '#4caf50' : '#eee'\",\n  borderRadius: 6,\n  marginRight: 8\n}","line":564,"column":98,"nodeType":"ObjectExpression","endLine":564,"endColumn":218},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"editClassification === 'Business' ? '#fff' : '#000'\" }","line":565,"column":38,"nodeType":"ObjectExpression","endLine":565,"endColumn":100},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 8,\n  backgroundColor: \"editClassification === 'Personal' ? '#ff7043' : '#eee'\",\n  borderRadius: 6\n}","line":567,"column":98,"nodeType":"ObjectExpression","endLine":567,"endColumn":202},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"editClassification === 'Personal' ? '#fff' : '#000'\" }","line":568,"column":38,"nodeType":"ObjectExpression","endLine":568,"endColumn":100},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":573,"column":38,"nodeType":"ObjectExpression","endLine":573,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":574,"column":141,"nodeType":"ObjectExpression","endLine":574,"endColumn":227},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":575,"column":38,"nodeType":"ObjectExpression","endLine":575,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginBottom: 12 }","line":576,"column":38,"nodeType":"ObjectExpression","endLine":576,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginRight: 6\n}","line":577,"column":77,"nodeType":"ObjectExpression","endLine":577,"endColumn":170},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: 110,\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  justifyContent: 'center'\n}","line":580,"column":77,"nodeType":"ObjectExpression","endLine":580,"endColumn":183},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":584,"column":38,"nodeType":"ObjectExpression","endLine":584,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":585,"column":109,"nodeType":"ObjectExpression","endLine":585,"endColumn":195},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":589,"column":38,"nodeType":"ObjectExpression","endLine":589,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":590,"column":133,"nodeType":"ObjectExpression","endLine":590,"endColumn":219},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":591,"column":38,"nodeType":"ObjectExpression","endLine":591,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginBottom: 12 }","line":592,"column":38,"nodeType":"ObjectExpression","endLine":592,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginRight: 6\n}","line":593,"column":77,"nodeType":"ObjectExpression","endLine":593,"endColumn":170},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: 110,\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  justifyContent: 'center'\n}","line":596,"column":77,"nodeType":"ObjectExpression","endLine":596,"endColumn":183},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":600,"column":38,"nodeType":"ObjectExpression","endLine":600,"endColumn":57},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":601,"column":109,"nodeType":"ObjectExpression","endLine":601,"endColumn":195},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":604,"column":34,"nodeType":"ObjectExpression","endLine":604,"endColumn":86},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":605,"column":114,"nodeType":"ObjectExpression","endLine":605,"endColumn":145},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":629,"column":33,"nodeType":"ObjectExpression","endLine":629,"endColumn":93},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":630,"column":38,"nodeType":"ObjectExpression","endLine":630,"endColumn":55},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":641,"column":185,"nodeType":"MemberExpression","messageId":"unexpected","endLine":641,"endColumn":196,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[40227,40295],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  backgroundColor: 'rgba(0,0,0,0.45)',\n  justifyContent: 'center',\n  alignItems: 'center',\n  padding: 20\n}","line":642,"column":24,"nodeType":"ObjectExpression","endLine":642,"endColumn":133},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '100%',\n  maxWidth: 520,\n  backgroundColor: '#fff',\n  borderRadius: 10,\n  padding: 14,\n  borderWidth: 1,\n  borderColor: '#ddd'\n}","line":643,"column":26,"nodeType":"ObjectExpression","endLine":643,"endColumn":151},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', marginBottom: 8 }","line":644,"column":28,"nodeType":"ObjectExpression","endLine":644,"endColumn":66},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'space-between' }","line":645,"column":28,"nodeType":"ObjectExpression","endLine":645,"endColumn":85},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 160, color: '#000' }","line":646,"column":60,"nodeType":"ObjectExpression","endLine":646,"endColumn":89},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, color: '#000' }","line":646,"column":102,"nodeType":"ObjectExpression","endLine":646,"endColumn":133},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 100, color: '#000' }","line":649,"column":58,"nodeType":"ObjectExpression","endLine":649,"endColumn":87},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, color: '#000' }","line":649,"column":100,"nodeType":"ObjectExpression","endLine":649,"endColumn":131},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 120, color: '#000' }","line":652,"column":67,"nodeType":"ObjectExpression","endLine":652,"endColumn":96},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, color: '#000' }","line":652,"column":109,"nodeType":"ObjectExpression","endLine":652,"endColumn":140},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end', marginTop: 12 }","line":656,"column":28,"nodeType":"ObjectExpression","endLine":656,"endColumn":95},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 8, marginRight: 8 }","line":657,"column":86,"nodeType":"ObjectExpression","endLine":657,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 8, backgroundColor: '#1976d2', borderRadius: 6 }","line":658,"column":68,"nodeType":"ObjectExpression","endLine":658,"endColumn":127},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":658,"column":142,"nodeType":"ObjectExpression","endLine":658,"endColumn":159},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":665,"column":185,"nodeType":"MemberExpression","messageId":"unexpected","endLine":665,"endColumn":196,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[42627,42695],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  backgroundColor: 'rgba(0,0,0,0.45)',\n  justifyContent: 'center',\n  alignItems: 'center',\n  padding: 20\n}","line":666,"column":24,"nodeType":"ObjectExpression","endLine":666,"endColumn":133},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  width: '100%',\n  maxWidth: 420,\n  backgroundColor: '#fff',\n  borderRadius: 10,\n  padding: 14,\n  borderWidth: 1,\n  borderColor: '#ddd'\n}","line":667,"column":26,"nodeType":"ObjectExpression","endLine":667,"endColumn":151},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', marginBottom: 8 }","line":668,"column":28,"nodeType":"ObjectExpression","endLine":668,"endColumn":66},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flexDirection: 'row',\n  justifyContent: 'space-between',\n  alignItems: 'center'\n}","line":669,"column":28,"nodeType":"ObjectExpression","endLine":669,"endColumn":107},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 120, color: '#000' }","line":670,"column":67,"nodeType":"ObjectExpression","endLine":670,"endColumn":96},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, color: '#000' }","line":670,"column":109,"nodeType":"ObjectExpression","endLine":670,"endColumn":140},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 120, color: '#000' }","line":673,"column":69,"nodeType":"ObjectExpression","endLine":673,"endColumn":98},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, color: '#000' }","line":673,"column":111,"nodeType":"ObjectExpression","endLine":673,"endColumn":142},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { width: 100, color: '#000' }","line":676,"column":59,"nodeType":"ObjectExpression","endLine":676,"endColumn":88},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontSize: 16, color: '#000' }","line":676,"column":101,"nodeType":"ObjectExpression","endLine":676,"endColumn":132},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end', marginTop: 12 }","line":681,"column":28,"nodeType":"ObjectExpression","endLine":681,"endColumn":95},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 8, marginRight: 8 }","line":682,"column":86,"nodeType":"ObjectExpression","endLine":682,"endColumn":116},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 8, backgroundColor: '#1976d2', borderRadius: 6 }","line":683,"column":68,"nodeType":"ObjectExpression","endLine":683,"endColumn":127},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":683,"column":142,"nodeType":"ObjectExpression","endLine":683,"endColumn":159}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":128,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useState, useRef, useLayoutEffect } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, FlatList, TouchableOpacity, Alert, Image, Modal, TextInput, Animated } from 'react-native';\r\nimport { Picker } from '@react-native-picker/picker';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { useContext } from 'react';\r\nimport { ModalCloseContext } from '../context/ModalCloseContext';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { Swipeable } from 'react-native-gesture-handler';\r\n\r\nconst Miscellaneous = () => {\r\n  const { mileage, expenses, updateRoute, updateExpense } = useContext(DataContext);\r\n\r\n  const formatSpelledDateTime = (iso) => {\r\n    if (!iso) return '';\r\n    try {\r\n      const d = new Date(iso);\r\n      const date = d.toLocaleDateString(undefined, { month: 'short', day: 'numeric', year: 'numeric' });\r\n      const time = d.toLocaleTimeString(undefined, { hour: 'numeric', minute: '2-digit' });\r\n      return `${date} - ${time}`;\r\n    } catch (e) {\r\n      return new Date(iso).toString();\r\n    }\r\n  };\r\n\r\n  const unclassifiedRoutes = useMemo(() => (mileage || []).filter((t) => !t.purpose || t.purpose === 'miscellaneous' || String(t.purpose).toLowerCase().includes('misc')), [mileage]);\r\n  const unclassifiedExpenses = useMemo(() => (expenses || []).filter((e) => !e.classification || e.classification === 'miscellaneous' || String(e.classification).toLowerCase().includes('misc')), [expenses]);\r\n\r\n  const combined = useMemo(() => {\r\n    const routes = (unclassifiedRoutes || []).map((t) => ({ ...t, _type: 'route', key: t.id }));\r\n    const exps = (unclassifiedExpenses || []).map((e) => ({ ...e, _type: 'expense', key: e.id }));\r\n    const all = [...routes, ...exps];\r\n    all.sort((a, b) => new Date(b.start || b.date) - new Date(a.start || a.date));\r\n    return all;\r\n  }, [unclassifiedRoutes, unclassifiedExpenses]);\r\n\r\n  const [selectionMode, setSelectionMode] = useState(false);\r\n  const [selectedIds, setSelectedIds] = useState(new Set());\r\n  const [bulkEditVisible, setBulkEditVisible] = useState(false);\r\n  const [bulkName, setBulkName] = useState('');\r\n  const [bulkClassification, setBulkClassification] = useState('');\r\n  const [editItem, setEditItem] = useState(null); // null = bulk edit, object = single edit\r\n  const [editName, setEditName] = useState('');\r\n  const [editClassification, setEditClassification] = useState('');\r\n  const [editAmount, setEditAmount] = useState('');\r\n  const [editDistance, setEditDistance] = useState('');\r\n  const [editDate, setEditDate] = useState('');\r\n  const [editNotes, setEditNotes] = useState('');\r\n  const [editDateObj, setEditDateObj] = useState(null); // JS Date for pickers\r\n  const [datePickerVisible, setDatePickerVisible] = useState(false);\r\n  const [timePickerVisible, setTimePickerVisible] = useState(false);\r\n  const [wasBulkOpen, setWasBulkOpen] = useState(false);\r\n  const swipeableRefs = useRef(new Map());\r\n  const tileRefs = useRef(new Map());\r\n  const addrRefs = useRef(new Map());\r\n  const imageRefs = useRef(new Map());\r\n  const tileLayouts = useRef(new Map());\r\n  const contentLayouts = useRef(new Map());\r\n  const imageLayouts = useRef(new Map());\r\n  const addrLayouts = useRef(new Map());\r\n  const [pinPositions, setPinPositions] = useState({});\r\n  const [layoutTick, setLayoutTick] = useState(0);\r\n  const navigation = useNavigation();\r\n\r\n  // after layout updates, compute missing pin positions in batch\r\n  React.useEffect(() => {\r\n    if (!combined || !combined.length) return;\r\n    const newPositions = {};\r\n    combined.forEach((item) => {\r\n      if (pinPositions[item.key]) return;\r\n      const tLayout = tileLayouts.current.get(item.key);\r\n      const contentLayout = contentLayouts.current.get(item.key);\r\n      const aLayout = addrLayouts.current.get(item.key);\r\n      if (tLayout && contentLayout && aLayout) {\r\n        const addrAbsX = contentLayout.x + aLayout.x;\r\n        const addrAbsY = contentLayout.y + aLayout.y;\r\n        const left = addrAbsX + (aLayout.width / 2) - 12;\r\n        const top = addrAbsY + (aLayout.height / 2) - 12;\r\n        newPositions[item.key] = { left, top };\r\n      }\r\n    });\r\n    if (Object.keys(newPositions).length) {\r\n      setPinPositions((prev) => ({ ...prev, ...newPositions }));\r\n    }\r\n    // only re-run when layoutTick changes (onLayout handlers increment it)\r\n  }, [layoutTick, pinPositions, combined]);\r\n\r\n  // temporary picker state\r\n  const [pickerMonth, setPickerMonth] = useState(0);\r\n  const [pickerDay, setPickerDay] = useState(1);\r\n  const [pickerYear, setPickerYear] = useState(new Date().getFullYear());\r\n  const [pickerHour, setPickerHour] = useState(12);\r\n  const [pickerMinute, setPickerMinute] = useState(0);\r\n  const [pickerAmPm, setPickerAmPm] = useState('AM');\r\n\r\n  const openDatePicker = () => {\r\n    const d = editDateObj || new Date();\r\n    setPickerMonth(d.getMonth());\r\n    setPickerDay(d.getDate());\r\n    setPickerYear(d.getFullYear());\r\n    console.log('openDatePicker: initialized', d);\r\n    // hide the edit modal so the picker modal can appear on top (Android z-order)\r\n    if (bulkEditVisible) {\r\n      setWasBulkOpen(true);\r\n      setBulkEditVisible(false);\r\n    } else setWasBulkOpen(false);\r\n    setDatePickerVisible(true);\r\n  };\r\n\r\n  const openTimePicker = () => {\r\n    const d = editDateObj || new Date();\r\n    let hr = d.getHours();\r\n    const ampm = hr >= 12 ? 'PM' : 'AM';\r\n    hr = hr % 12; if (hr === 0) hr = 12;\r\n    setPickerHour(hr);\r\n    setPickerMinute(d.getMinutes());\r\n    setPickerAmPm(ampm);\r\n    console.log('openTimePicker: initialized', d);\r\n    if (bulkEditVisible) {\r\n      setWasBulkOpen(true);\r\n      setBulkEditVisible(false);\r\n    } else setWasBulkOpen(false);\r\n    setTimePickerVisible(true);\r\n  };\r\n\r\n  const applyDatePicker = () => {\r\n    const hour = editDateObj ? editDateObj.getHours() : 12;\r\n    const minute = editDateObj ? editDateObj.getMinutes() : 0;\r\n    const nd = new Date(pickerYear, pickerMonth, pickerDay, hour, minute);\r\n    setEditDateObj(nd);\r\n    setEditDate(nd.toISOString());\r\n    setDatePickerVisible(false);\r\n    // restore bulk edit modal if it was open\r\n    if (wasBulkOpen) {\r\n      setBulkEditVisible(true);\r\n      setWasBulkOpen(false);\r\n    }\r\n  };\r\n\r\n  const applyTimePicker = () => {\r\n    let hr = pickerHour % 12;\r\n    if (pickerAmPm === 'PM') hr += 12;\r\n    const day = editDateObj ? editDateObj.getDate() : new Date().getDate();\r\n    const month = editDateObj ? editDateObj.getMonth() : new Date().getMonth();\r\n    const year = editDateObj ? editDateObj.getFullYear() : new Date().getFullYear();\r\n    const nd = new Date(year, month, day, hr, pickerMinute);\r\n    setEditDateObj(nd);\r\n    setEditDate(nd.toISOString());\r\n    setTimePickerVisible(false);\r\n    if (wasBulkOpen) {\r\n      setBulkEditVisible(true);\r\n      setWasBulkOpen(false);\r\n    }\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerRight: () => (\r\n        <TouchableOpacity onPress={() => {\r\n          if (!selectionMode) {\r\n            setSelectionMode(true);\r\n            setSelectedIds(new Set());\r\n          } else {\r\n            setSelectionMode(false);\r\n            setSelectedIds(new Set());\r\n          }\r\n        }} style={{ paddingHorizontal: 8, paddingVertical: 8, backgroundColor: 'transparent', borderRadius: 4 }}>\r\n          <Ionicons name={selectionMode ? 'checkbox' : 'checkbox-outline'} size={20} color=\"#000\" />\r\n        </TouchableOpacity>\r\n      ),\r\n    });\r\n  }, [navigation, selectionMode]);\r\n\r\n  // Close overlays / reset selection when parent tab changes (so switching tabs doesn't leave misc modal open)\r\n  React.useEffect(() => {\r\n    const parent = navigation.getParent && navigation.getParent();\r\n    if (!parent || !parent.addListener) return;\r\n    const onTabPress = (e) => {\r\n      try {\r\n        // determine pressed route name from parent state using event.target (route key)\r\n        const parentState = parent.getState && parent.getState();\r\n        const pressedKey = e && e.target;\r\n        const pressedRoute = parentState && parentState.routes && parentState.routes.find((r) => r.key === pressedKey);\r\n        const pressedName = pressedRoute ? pressedRoute.name : null;\r\n        // close any open modals/pickers and clear selection mode\r\n        setBulkEditVisible(false);\r\n        setDatePickerVisible(false);\r\n        setTimePickerVisible(false);\r\n        setSelectionMode(false);\r\n        setSelectedIds(new Set());\r\n        setWasBulkOpen(false);\r\n        // navigate to pressed tab to ensure Miscellaneous does not block\r\n        if (pressedName) {\r\n          parent.navigate(pressedName);\r\n        }\r\n      } catch (err) {\r\n        // fallback: just clear state\r\n        setBulkEditVisible(false);\r\n        setDatePickerVisible(false);\r\n        setTimePickerVisible(false);\r\n        setSelectionMode(false);\r\n        setSelectedIds(new Set());\r\n        setWasBulkOpen(false);\r\n      }\r\n    };\r\n    const unsubscribe = parent.addListener('tabPress', onTabPress);\r\n    return unsubscribe;\r\n  }, [navigation]);\r\n\r\n  // register a global close handler so modals/pickers close when navigation requests it\r\n  const { register } = useContext(ModalCloseContext);\r\n  React.useEffect(() => {\r\n    const closer = () => {\r\n      setBulkEditVisible(false);\r\n      setDatePickerVisible(false);\r\n      setTimePickerVisible(false);\r\n      setSelectionMode(false);\r\n      setSelectedIds(new Set());\r\n      setWasBulkOpen(false);\r\n    };\r\n    const unregister = register(closer);\r\n    return () => unregister && unregister();\r\n  }, [register]);\r\n\r\n  const classifyRoute = (route, cls) => {\r\n    const updated = { ...route, purpose: cls, classification: cls ? String(cls).toLowerCase() : cls };\r\n    updateRoute(updated);\r\n  };\r\n\r\n  const classifyExpense = (expense, cls) => {\r\n    const updated = { ...expense, classification: cls ? String(cls).toLowerCase() : cls, purpose: cls };\r\n    updateExpense(updated);\r\n  };\r\n\r\n  const months = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\r\n  const formatAbbrevDate = (d) => {\r\n    if (!d) return '';\r\n    try {\r\n      const dt = new Date(d);\r\n      return dt.toLocaleDateString(undefined, { month: 'short', day: 'numeric', year: 'numeric' });\r\n    } catch (e) { return String(d); }\r\n  };\r\n  const formatTime = (d) => {\r\n    if (!d) return '';\r\n    try {\r\n      const dt = new Date(d);\r\n      return dt.toLocaleTimeString(undefined, { hour: 'numeric', minute: '2-digit' });\r\n    } catch (e) { return String(d); }\r\n  };\r\n\r\n  const daysInMonth = (year, monthIndex) => {\r\n    return new Date(year, monthIndex + 1, 0).getDate();\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      <View style={{ padding: 12, flex: 1 }}>\r\n\r\n        <View style={{ height: 8 }} />\r\n\r\n        {selectionMode ? (\r\n          <View style={{ flexDirection: 'row', justifyContent: 'flex-end', marginBottom: 8 }}>\r\n            <TouchableOpacity onPress={() => { if (selectedIds.size) { setEditItem(null); setBulkName(''); setBulkClassification(''); setBulkEditVisible(true); } }} style={{ paddingHorizontal: 10, paddingVertical: 6, backgroundColor: '#1976d2', borderRadius: 8, marginRight: 8 }}>\r\n              <Ionicons name=\"pencil\" size={18} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n            <TouchableOpacity onPress={() => {\r\n              if (selectedIds.size) {\r\n                Alert.alert('Delete items', `Delete ${selectedIds.size} items?`, [{ text: 'Cancel' }, { text: 'Delete', style: 'destructive', onPress: () => {\r\n                  selectedIds.forEach((id) => {\r\n                    const route = (mileage || []).find((t) => t.id === id);\r\n                    if (route) updateRoute({ ...route, _deleted: true });\r\n                    const exp = (expenses || []).find((e) => e.id === id);\r\n                    if (exp) updateExpense({ ...exp, _deleted: true });\r\n                  });\r\n                  setSelectionMode(false); setSelectedIds(new Set());\r\n                } }]);\r\n              }\r\n            }} style={{ paddingHorizontal: 10, paddingVertical: 6, backgroundColor: '#d32f2f', borderRadius: 8, marginRight: 8 }}>\r\n              <Ionicons name=\"trash\" size={18} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n            <TouchableOpacity onPress={() => { setSelectionMode(false); setSelectedIds(new Set()); }} style={{ paddingHorizontal: 10, paddingVertical: 6, backgroundColor: '#9e9e9e', borderRadius: 8 }}>\r\n              <Ionicons name=\"close\" size={18} color=\"#fff\" />\r\n            </TouchableOpacity>\r\n          </View>\r\n        ) : null}\r\n\r\n        <FlatList\r\n          data={combined}\r\n          keyExtractor={(i) => i.key}\r\n          contentContainerStyle={{ paddingBottom: 40 }}\r\n          renderItem={({ item }) => {\r\n            const imgSource = item._type === 'route' ? (item.mapImage ? { uri: item.mapImage } : require('../../assets/icon.png')) : (item.image ? { uri: item.image } : require('../../assets/icon.png'));\r\n            // dummy address fallbacks for display only\r\n            const startAddr = (item.startAddress || item.origin || item.from || item.startLabel || item.startName) || '123 Main St, Anytown';\r\n            const endAddr = (item.endAddress || item.destination || item.to || item.endLabel || item.endName) || '456 Market St, Anytown';\r\n            // display-friendly start address: insert a zero-width space after the first comma\r\n            // this lets the text break there if needed, but doesn't force a newline\r\n            const startDisplay = (item._type === 'route' && startAddr && startAddr.includes(',')) ? startAddr.replace(',', ',\\u200B') : startAddr;\r\n            // expense purchase address fallback\r\n            const purchaseAddr = (item.address || item.location || item.vendorAddress || item.placeAddress || item.addressLine) || (item.notes && item.notes.substring(0, 60)) || 'Store Address, Anytown';\r\n\r\n            const renderLeftActions = (progress, dragX) => {\r\n              const trans = dragX.interpolate({ inputRange: [0, 120], outputRange: [-20, 0], extrapolate: 'clamp' });\r\n              const opacity = progress.interpolate({ inputRange: [0, 1], outputRange: [0, 1] });\r\n              return (\r\n                <Animated.View style={{ justifyContent: 'center', paddingLeft: 12, transform: [{ translateX: trans }], opacity }}>\r\n                  <TouchableOpacity onPress={() => { if (item._type === 'route') classifyRoute(item, 'Business'); else classifyExpense(item, 'Business'); }} style={{ backgroundColor: '#4caf50', padding: 12, borderRadius: 8 }}>\r\n                    <Text style={{ color: '#fff' }}>Business</Text>\r\n                  </TouchableOpacity>\r\n                </Animated.View>\r\n              );\r\n            };\r\n\r\n            const renderRightActions = (progress, dragX) => {\r\n              const trans = dragX.interpolate({ inputRange: [-120, 0], outputRange: [0, 20], extrapolate: 'clamp' });\r\n              const opacity = progress.interpolate({ inputRange: [0, 1], outputRange: [0, 1] });\r\n              return (\r\n                <Animated.View style={{ justifyContent: 'center', paddingRight: 12, transform: [{ translateX: trans }], opacity }}>\r\n                  <TouchableOpacity onPress={() => { if (item._type === 'route') classifyRoute(item, 'Personal'); else classifyExpense(item, 'Personal'); }} style={{ backgroundColor: '#ff7043', padding: 12, borderRadius: 8 }}>\r\n                    <Text style={{ color: '#fff' }}>Personal</Text>\r\n                  </TouchableOpacity>\r\n                </Animated.View>\r\n              );\r\n            };\r\n\r\n            \r\n\r\n            return (\r\n              <Swipeable\r\n                  ref={(r) => { if (r) swipeableRefs.current.set(item.key, r); }}\r\n                  renderLeftActions={renderLeftActions}\r\n                  renderRightActions={renderRightActions}\r\n                  friction={1.2}\r\n                  overshootLeft={true}\r\n                  overshootRight={true}\r\n                  leftThreshold={40}\r\n                  rightThreshold={40}\r\n                  useNativeAnimations={true}\r\n                  onSwipeableOpen={(direction) => {\r\n                    try {\r\n                      const classification = direction === 'left' ? 'Business' : 'Personal';\r\n                      try {\r\n                        if (item._type === 'route') classifyRoute(item, classification); else classifyExpense(item, classification);\r\n                      } catch (e) {}\r\n                      try { const s = swipeableRefs.current.get(item.key); s && s.close && s.close(); } catch (e) {}\r\n                    } catch (e) {\r\n                      try { const s = swipeableRefs.current.get(item.key); s && s.close && s.close(); } catch (e) {}\r\n                    }\r\n                  }}\r\n                >\r\n                  <View ref={(r) => { if (r) tileRefs.current.set(item.key, r); }} onLayout={(e) => { tileLayouts.current.set(item.key, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ padding: 12, borderRadius: 10, backgroundColor: selectionMode && selectedIds.has(item.key) ? '#e3f2fd' : '#fff', marginTop: 6, marginBottom: 6, borderWidth: 1, borderColor: '#eee', shadowColor: '#000', shadowOpacity: 0.04, shadowRadius: 6, overflow: 'hidden', flexDirection: 'row', minHeight: 150, position: 'relative' }}>\r\n                    {/* Use non-intercepting wrapper View so Swipeable receives gestures; selection uses the checkbox control */}\r\n                    <View style={{ width: '30%', paddingRight: 8 }}>\r\n\r\n                      {selectionMode ? (\r\n                        <TouchableOpacity onPress={() => {\r\n                          const s = new Set(selectedIds);\r\n                          if (s.has(item.key)) s.delete(item.key); else s.add(item.key);\r\n                          setSelectedIds(s);\r\n                        }} style={{ position: 'absolute', left: -8, top: -8, width: 36, height: 36, borderRadius: 18, backgroundColor: selectedIds.has(item.key) ? '#1976d2' : 'rgba(255,255,255,0.9)', borderWidth: 1, borderColor: '#ddd', justifyContent: 'center', alignItems: 'center', zIndex: 10 }}>\r\n                          {selectedIds.has(item.key) ? <Ionicons name=\"checkmark\" size={18} color=\"#fff\" /> : <Ionicons name=\"ellipse-outline\" size={18} color=\"#9e9e9e\" />}\r\n                        </TouchableOpacity>\r\n                      ) : null}\r\n                      <Image source={imgSource} style={{ width: '100%', height: 120, borderRadius: 8, backgroundColor: '#f6f6f6' }} resizeMode=\"cover\" />\r\n                      {/* Badge placed as part of the image (top-right corner) */}\r\n                      <View style={{ position: 'absolute', right: 0, top: -8, backgroundColor: '#fff', borderRadius: 12, paddingHorizontal: 8, paddingVertical: 4, borderWidth: 1, borderColor: '#eee', alignItems: 'center', justifyContent: 'center', shadowColor: '#000', shadowOpacity: 0.08, shadowRadius: 4, elevation: 2 }}>\r\n                        <Text style={{ fontSize: 11, fontWeight: '700', color: item._type === 'route' ? '#2e7d32' : '#6d4c41' }}>{item._type === 'route' ? 'Route' : 'Expense'}</Text>\r\n                      </View>\r\n                      {/* previously a center pin overlay was here; replaced by measured pin rendered at tile level */}\r\n                    </View>\r\n                    <View onLayout={(e) => { contentLayouts.current.set(item.key, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ width: '54%', justifyContent: 'flex-start', alignItems: 'flex-start', paddingLeft: 8 }}>\r\n                      {item._type === 'route' ? (\r\n                        <>\r\n                          <View style={{ flexDirection: 'row', justifyContent: 'flex-start', alignItems: 'center' }}>\r\n                            <Text style={{ fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }}>{item.purpose || 'Miscellaneous'}</Text>\r\n                          </View>\r\n                          <Text style={{ color: '#666', marginTop: 15, textAlign: 'left', alignSelf: 'flex-start' }}>{formatSpelledDateTime(item.start || item.date)}</Text>\r\n                          <View style={{ flexDirection: 'row', marginTop: 23, marginLeft:-13, alignItems: 'center' }}>\r\n                            <View ref={(r) => { if (r) addrRefs.current.set(item.key, r); }} onLayout={(e) => { addrLayouts.current.set(item.key, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ width: 20, alignItems: 'center', marginLeft: 7 }}>\r\n                              <Ionicons name=\"location-outline\" size={20} color=\"#000\" />\r\n                            </View>\r\n                            <View style={{ flex: 1, paddingLeft: 0, flexShrink: 1 }}>\r\n                              <Text\r\n                                style={{ color: '#333', fontSize: 15, lineHeight: 18 }}\r\n                                numberOfLines={2}\r\n                                ellipsizeMode=\"tail\"\r\n                                adjustsFontSizeToFit\r\n                                minimumFontScale={0.85}\r\n                                allowFontScaling\r\n                              >\r\n                                {startDisplay}\r\n                              </Text>\r\n                              <Text\r\n                                style={{ color: '#333', marginTop: 4, fontSize: 15, lineHeight: 18 }}\r\n                                numberOfLines={2}\r\n                                ellipsizeMode=\"tail\"\r\n                                adjustsFontSizeToFit\r\n                                minimumFontScale={0.85}\r\n                                allowFontScaling\r\n                              >\r\n                                {endAddr}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                            {/* notes field for routes: show actual notes or a visible placeholder when empty */}\r\n                            <TouchableOpacity activeOpacity={0.7} onPress={() => {\r\n                              setEditItem(item);\r\n                              setEditName(item.purpose || '');\r\n                              setEditClassification(item.classification || item.purpose || '');\r\n                              setEditAmount(item.amount ? String(item.amount) : '');\r\n                              setEditDistance(item.distance ? String(item.distance) : '');\r\n                              const raw = item.start || item.createdAt || item.date || '';\r\n                              setEditDate(raw);\r\n                              try { setEditDateObj(raw ? new Date(raw) : new Date()); } catch (e) { setEditDateObj(new Date()); }\r\n                              setEditNotes(item.notes || '');\r\n                              setBulkEditVisible(true);\r\n                            }}>\r\n                              <Text style={{ marginTop: 8, color: item.notes ? '#444' : '#9e9e9e', fontSize: 13, fontStyle: item.notes ? 'normal' : 'italic' }}>\r\n                                {item.notes ? item.notes : 'Add notes…'}\r\n                              </Text>\r\n                            </TouchableOpacity>\r\n                        </>\r\n                      ) : (\r\n                        <>\r\n                          <View style={{ flexDirection: 'row', justifyContent: 'flex-start', alignItems: 'center' }}>\r\n                            <Text style={{ fontWeight: '700', textAlign: 'left', alignSelf: 'flex-start' }}>{item.purpose || 'Miscellaneous'}</Text>\r\n                          </View>\r\n                          <Text style={{ color: '#666', marginTop: 15, textAlign: 'left', alignSelf: 'flex-start' }}>{formatSpelledDateTime(item.createdAt || item.date)}</Text>\r\n                          <View style={{ flexDirection: 'row', marginTop: 33, marginLeft:-13, alignItems: 'center' }}>\r\n                            <View ref={(r) => { if (r) addrRefs.current.set(item.key, r); }} onLayout={(e) => { addrLayouts.current.set(item.key, e.nativeEvent.layout); setLayoutTick((t) => t + 1); }} style={{ width: 20, alignItems: 'center', marginLeft: 7 }}>\r\n                              <Ionicons name=\"location-outline\" size={20} color=\"#000\" />\r\n                            </View>\r\n                            <View style={{ flex: 1, flexShrink: 1 }}>\r\n                              <Text\r\n                                style={{ color: '#333', fontSize: 15, lineHeight: 18 }}\r\n                                numberOfLines={2}\r\n                                ellipsizeMode=\"tail\"\r\n                                adjustsFontSizeToFit\r\n                                minimumFontScale={0.85}\r\n                                allowFontScaling\r\n                              >\r\n                                {purchaseAddr}\r\n                              </Text>\r\n                            </View>\r\n                          </View>\r\n                          {/* notes field: show actual notes or a visible placeholder when empty */}\r\n                          <TouchableOpacity activeOpacity={0.7} onPress={() => {\r\n                            setEditItem(item);\r\n                            setEditName(item.description || item.purpose || '');\r\n                            setEditClassification(item.classification || item.purpose || '');\r\n                            setEditAmount(item.amount ? String(item.amount) : '');\r\n                            setEditDistance(item.distance ? String(item.distance) : '');\r\n                            const raw = item.start || item.createdAt || item.date || '';\r\n                            setEditDate(raw);\r\n                            try { setEditDateObj(raw ? new Date(raw) : new Date()); } catch (e) { setEditDateObj(new Date()); }\r\n                            setEditNotes(item.notes || '');\r\n                            setBulkEditVisible(true);\r\n                          }}>\r\n                            <Text style={{ marginTop: 8, color: item.notes ? '#444' : '#9e9e9e', fontSize: 13, fontStyle: item.notes ? 'normal' : 'italic' }}>\r\n                              {item.notes ? item.notes : 'Add notes…'}\r\n                            </Text>\r\n                          </TouchableOpacity>\r\n                        </>\r\n                      )}\r\n                    </View>\r\n                      <View style={{ width: '16%', minWidth: 72, justifyContent: 'flex-start', alignItems: 'flex-end', paddingRight: 6, paddingTop: 0 }}>\r\n                        <View style={{ marginBottom: 40, alignItems: 'flex-end', justifyContent: 'flex-start', width: '100%', marginTop: 0 }}>\r\n                              {item._type === 'route' ? (\r\n                                <Text style={{ color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }}>{(item.distance != null) ? Number(item.distance).toFixed(1) + ' mi' : '0.0 mi'}</Text>\r\n                              ) : (\r\n                                <Text style={{ color: '#222', fontWeight: '700', fontSize: 14, textAlign: 'right' }}>{(() => { try { const amt = typeof item.amount === 'number' ? item.amount : (item.amount ? Number(item.amount) : NaN); if (!isFinite(amt)) return ''; return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 2 }).format(amt); } catch (e) { return item.amount ? `$${Number(item.amount).toFixed(2)}` : ''; } })()}</Text>\r\n                              )}\r\n                        </View>\r\n                        <TouchableOpacity onPress={() => {\r\n                          // open single-item edit\r\n                          setEditItem(item);\r\n                          setEditName(item.purpose || item.description || '');\r\n                          setEditClassification(item.classification || item.purpose || '');\r\n                          setEditAmount(item.amount ? String(item.amount) : '');\r\n                          setEditDistance(item.distance ? String(item.distance) : '');\r\n                          const raw = item.start || item.createdAt || item.date || '';\r\n                          setEditDate(raw);\r\n                          try {\r\n                            setEditDateObj(raw ? new Date(raw) : new Date());\r\n                          } catch (e) { setEditDateObj(new Date()); }\r\n                          setEditNotes(item.notes || '');\r\n                          setBulkEditVisible(true);\r\n                        }} style={{ padding: 6, backgroundColor: '#1976d2', borderRadius: 6, marginBottom: 6, alignSelf: 'flex-end' }}>\r\n                        <Ionicons name=\"pencil\" size={16} color=\"#fff\" />\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity onPress={() => {\r\n                        Alert.alert('Delete', 'Delete this item?', [{ text: 'Cancel' }, { text: 'Delete', style: 'destructive', onPress: () => {\r\n                          if (item._type === 'route') updateRoute({ ...item, _deleted: true }); else updateExpense({ ...item, _deleted: true });\r\n                        } }]);\r\n                      }} style={{ padding: 6, backgroundColor: '#d32f2f', borderRadius: 6, alignSelf: 'flex-end' }}>\r\n                        <Ionicons name=\"trash\" size={16} color=\"#fff\" />\r\n                      </TouchableOpacity>\r\n                      {/* Render measured pin aligned with the address icon for expenses */}\r\n                      {item._type === 'expense' && pinPositions[item.key] ? (\r\n                        <View style={{ position: 'absolute', left: pinPositions[item.key].left, top: pinPositions[item.key].top, width: 24, height: 24, borderRadius: 12, backgroundColor: 'rgba(0,0,0,0.35)', justifyContent: 'center', alignItems: 'center' }}>\r\n                          <Ionicons name=\"location\" size={14} color=\"#fff\" />\r\n                        </View>\r\n                      ) : null}\r\n                    </View>\r\n                  </View>\r\n              </Swipeable>\r\n            );\r\n          }}\r\n          ListEmptyComponent={() => <Text style={{ color: '#666', paddingVertical: 8 }}>No miscellaneous items.</Text>}\r\n        />\r\n\r\n        <Modal visible={bulkEditVisible} animationType=\"slide\" transparent={true}>\r\n          <View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.4)', justifyContent: 'center', padding: 20 }}>\r\n              <View style={{ backgroundColor: '#fff', borderRadius: 10, padding: 16 }}>\r\n                <Text style={{ fontWeight: '700', marginBottom: 8 }}>{editItem ? 'Edit' : 'Multi-Edit'}</Text>\r\n                {!editItem ? (\r\n                  <>\r\n                    <Text style={{ marginBottom: 6 }}>Name (leave blank to keep)</Text>\r\n                    <TextInput value={bulkName} onChangeText={setBulkName} placeholder=\"New name\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                    <Text style={{ marginBottom: 6 }}>Classification</Text>\r\n                    <View style={{ flexDirection: 'row', marginBottom: 12 }}>\r\n                      <TouchableOpacity onPress={() => setBulkClassification('Business')} style={{ padding: 8, backgroundColor: bulkClassification === 'Business' ? '#4caf50' : '#eee', borderRadius: 6, marginRight: 8 }}>\r\n                        <Text style={{ color: bulkClassification === 'Business' ? '#fff' : '#000' }}>Business</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity onPress={() => setBulkClassification('Personal')} style={{ padding: 8, backgroundColor: bulkClassification === 'Personal' ? '#ff7043' : '#eee', borderRadius: 6 }}>\r\n                        <Text style={{ color: bulkClassification === 'Personal' ? '#fff' : '#000' }}>Personal</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                      <TouchableOpacity onPress={() => { setBulkEditVisible(false); setSelectedIds(new Set()); setBulkName(''); setBulkClassification(''); }} style={{ padding: 10, marginRight: 8 }}>\r\n                        <Text>Cancel</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity onPress={() => {\r\n                        // apply bulk edit: only name and classification\r\n                        selectedIds.forEach((id) => {\r\n                          const route = (mileage || []).find((t) => t.id === id);\r\n                          if (route) {\r\n                            const updated = { ...route };\r\n                            if (bulkName) updated.purpose = bulkName;\r\n                            if (bulkClassification) updated.purpose = bulkClassification;\r\n                            updateRoute(updated);\r\n                          }\r\n                          const exp = (expenses || []).find((e) => e.id === id);\r\n                          if (exp) {\r\n                            const updated = { ...exp };\r\n                            if (bulkName) updated.description = bulkName;\r\n                            if (bulkClassification) updated.classification = bulkClassification;\r\n                            updateExpense(updated);\r\n                          }\r\n                        });\r\n                        setBulkEditVisible(false); setSelectedIds(new Set()); setSelectionMode(false); setBulkName(''); setBulkClassification('');\r\n                      }} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}>\r\n                        <Text style={{ color: '#fff' }}>Apply</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Text style={{ marginBottom: 6 }}>Name</Text>\r\n                    <TextInput value={editName} onChangeText={setEditName} placeholder=\"Name\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                    <Text style={{ marginBottom: 6 }}>Purpose</Text>\r\n                    <View style={{ flexDirection: 'row', marginBottom: 12 }}>\r\n                      <TouchableOpacity onPress={() => setEditClassification('Business')} style={{ padding: 8, backgroundColor: editClassification === 'Business' ? '#4caf50' : '#eee', borderRadius: 6, marginRight: 8 }}>\r\n                        <Text style={{ color: editClassification === 'Business' ? '#fff' : '#000' }}>Business</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity onPress={() => setEditClassification('Personal')} style={{ padding: 8, backgroundColor: editClassification === 'Personal' ? '#ff7043' : '#eee', borderRadius: 6 }}>\r\n                        <Text style={{ color: editClassification === 'Personal' ? '#fff' : '#000' }}>Personal</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                    {editItem._type === 'route' ? (\r\n                      <>\r\n                        <Text style={{ marginBottom: 6 }}>Distance (mi)</Text>\r\n                        <TextInput value={editDistance} onChangeText={setEditDistance} placeholder=\"Distance\" keyboardType=\"numeric\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                        <Text style={{ marginBottom: 6 }}>Date</Text>\r\n                        <View style={{ flexDirection: 'row', marginBottom: 12 }}>\r\n                          <TouchableOpacity onPress={openDatePicker} style={{ flex: 1, borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginRight: 6 }}>\r\n                            <Text>{formatAbbrevDate(editDateObj)}</Text>\r\n                          </TouchableOpacity>\r\n                          <TouchableOpacity onPress={openTimePicker} style={{ width: 110, borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, justifyContent: 'center' }}>\r\n                            <Text>{formatTime(editDateObj)}</Text>\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                        <Text style={{ marginBottom: 6 }}>Notes</Text>\r\n                        <TextInput value={editNotes} onChangeText={setEditNotes} placeholder=\"Notes\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <Text style={{ marginBottom: 6 }}>Amount</Text>\r\n                        <TextInput value={editAmount} onChangeText={setEditAmount} placeholder=\"0.00\" keyboardType=\"numeric\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                        <Text style={{ marginBottom: 6 }}>Date</Text>\r\n                        <View style={{ flexDirection: 'row', marginBottom: 12 }}>\r\n                          <TouchableOpacity onPress={openDatePicker} style={{ flex: 1, borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginRight: 6 }}>\r\n                            <Text>{formatAbbrevDate(editDateObj)}</Text>\r\n                          </TouchableOpacity>\r\n                          <TouchableOpacity onPress={openTimePicker} style={{ width: 110, borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, justifyContent: 'center' }}>\r\n                            <Text>{formatTime(editDateObj)}</Text>\r\n                          </TouchableOpacity>\r\n                        </View>\r\n                        <Text style={{ marginBottom: 6 }}>Notes</Text>\r\n                        <TextInput value={editNotes} onChangeText={setEditNotes} placeholder=\"Notes\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                      </>\r\n                    )}\r\n                    <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                      <TouchableOpacity onPress={() => { setBulkEditVisible(false); setEditItem(null); }} style={{ padding: 10, marginRight: 8 }}>\r\n                        <Text>Cancel</Text>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity onPress={() => {\r\n                        // apply single edit\r\n                        if (!editItem) return;\r\n                        if (editItem._type === 'route') {\r\n                          const updated = { ...editItem };\r\n                          if (editName) updated.purpose = editName;\r\n                          if (editClassification) updated.purpose = editClassification;\r\n                          if (editDistance) updated.distance = Number(editDistance);\r\n                          if (editDate) updated.start = editDate;\r\n                          if (editNotes) updated.notes = editNotes;\r\n                          updateRoute(updated);\r\n                        } else {\r\n                          const updated = { ...editItem };\r\n                          if (editName) updated.description = editName;\r\n                          if (editClassification) updated.classification = editClassification;\r\n                          if (editAmount) updated.amount = Number(editAmount);\r\n                          if (editDate) updated.createdAt = editDate;\r\n                          if (editNotes) updated.notes = editNotes;\r\n                          updateExpense(updated);\r\n                        }\r\n                        setBulkEditVisible(false); setEditItem(null); setEditName(''); setEditClassification(''); setEditAmount(''); setEditDistance(''); setEditDate(''); setEditNotes('');\r\n                      }} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}>\r\n                        <Text style={{ color: '#fff' }}>Apply</Text>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  </>\r\n                )}\r\n                \r\n              </View>\r\n            </View>\r\n        </Modal>\r\n\r\n        {/* Date picker modal (separate so it isn't clipped) */}\r\n        <Modal visible={datePickerVisible} transparent animationType=\"fade\" onRequestClose={() => setDatePickerVisible(false)} hardwareAccelerated statusBarTranslucent onShow={() => { console.log('DatePicker Modal onShow, visible=', datePickerVisible); }}>\r\n          <View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.45)', justifyContent: 'center', alignItems: 'center', padding: 20 }}>\r\n            <View style={{ width: '100%', maxWidth: 520, backgroundColor: '#fff', borderRadius: 10, padding: 14, borderWidth: 1, borderColor: '#ddd' }}>\r\n              <Text style={{ fontWeight: '700', marginBottom: 8 }}>Select Date</Text>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between' }}>\r\n                <Picker selectedValue={pickerMonth} style={{ width: 160, color: '#000' }} itemStyle={{ fontSize: 16, color: '#000' }} onValueChange={(v) => setPickerMonth(v)}>\r\n                  {months.map((m, i) => <Picker.Item key={m} label={String(m)} value={i} color=\"#000\" />)}\r\n                </Picker>\r\n                <Picker selectedValue={pickerDay} style={{ width: 100, color: '#000' }} itemStyle={{ fontSize: 16, color: '#000' }} onValueChange={(v) => setPickerDay(v)}>\r\n                  {Array.from({ length: daysInMonth(pickerYear, pickerMonth) }, (_, i) => i + 1).map((d) => <Picker.Item key={d} label={String(d)} value={String(d)} color=\"#000\" />)}\r\n                </Picker>\r\n                <Picker selectedValue={String(pickerYear)} style={{ width: 120, color: '#000' }} itemStyle={{ fontSize: 16, color: '#000' }} onValueChange={(v) => setPickerYear(Number(v))}>\r\n                  {Array.from({ length: 11 }, (_, i) => new Date().getFullYear() - 5 + i).map((y) => <Picker.Item key={y} label={String(y)} value={String(y)} color=\"#000\" />)}\r\n                </Picker>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-end', marginTop: 12 }}>\r\n                <TouchableOpacity onPress={() => setDatePickerVisible(false)} style={{ padding: 8, marginRight: 8 }}><Text>Cancel</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={applyDatePicker} style={{ padding: 8, backgroundColor: '#1976d2', borderRadius: 6 }}><Text style={{ color: '#fff' }}>OK</Text></TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n\r\n        {/* Time picker modal */}\r\n        <Modal visible={timePickerVisible} transparent animationType=\"fade\" onRequestClose={() => setTimePickerVisible(false)} hardwareAccelerated statusBarTranslucent onShow={() => { console.log('TimePicker Modal onShow, visible=', timePickerVisible); }}>\r\n          <View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.45)', justifyContent: 'center', alignItems: 'center', padding: 20 }}>\r\n            <View style={{ width: '100%', maxWidth: 420, backgroundColor: '#fff', borderRadius: 10, padding: 14, borderWidth: 1, borderColor: '#ddd' }}>\r\n              <Text style={{ fontWeight: '700', marginBottom: 8 }}>Select Time</Text>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                <Picker selectedValue={String(pickerHour)} style={{ width: 120, color: '#000' }} itemStyle={{ fontSize: 16, color: '#000' }} onValueChange={(v) => setPickerHour(Number(v))}>\r\n                  {Array.from({ length: 12 }, (_, i) => i + 1).map((h) => <Picker.Item key={h} label={String(h)} value={String(h)} color=\"#000\" />)}\r\n                </Picker>\r\n                <Picker selectedValue={String(pickerMinute)} style={{ width: 120, color: '#000' }} itemStyle={{ fontSize: 16, color: '#000' }} onValueChange={(v) => setPickerMinute(Number(v))}>\r\n                  {Array.from({ length: 60 }, (_, i) => i).map((m) => <Picker.Item key={m} label={(m < 10 ? '0' : '') + m} value={String(m)} color=\"#000\" />)}\r\n                </Picker>\r\n                <Picker selectedValue={pickerAmPm} style={{ width: 100, color: '#000' }} itemStyle={{ fontSize: 16, color: '#000' }} onValueChange={(v) => setPickerAmPm(v)}>\r\n                  <Picker.Item label=\"AM\" value=\"AM\" color=\"#000\" />\r\n                  <Picker.Item label=\"PM\" value=\"PM\" color=\"#000\" />\r\n                </Picker>\r\n              </View>\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-end', marginTop: 12 }}>\r\n                <TouchableOpacity onPress={() => setTimePickerVisible(false)} style={{ padding: 8, marginRight: 8 }}><Text>Cancel</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={applyTimePicker} style={{ padding: 8, backgroundColor: '#1976d2', borderRadius: 6 }}><Text style={{ color: '#fff' }}>OK</Text></TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default Miscellaneous;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\NamedLocationsScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":33,"column":26,"nodeType":"ObjectExpression","endLine":33,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12 }","line":38,"column":70,"nodeType":"ObjectExpression","endLine":38,"endColumn":87},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row' }","line":44,"column":26,"nodeType":"ObjectExpression","endLine":44,"endColumn":50},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":45,"column":104,"nodeType":"ObjectExpression","endLine":45,"endColumn":121},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#d32f2f', marginLeft: 8 }","line":46,"column":93,"nodeType":"ObjectExpression","endLine":46,"endColumn":138},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":46,"column":154,"nodeType":"ObjectExpression","endLine":46,"endColumn":171},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “NamedLocationsScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":49,"column":32,"nodeType":"ArrowFunctionExpression","endLine":49,"endColumn":110},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', paddingTop: 12 }","line":49,"column":51,"nodeType":"ObjectExpression","endLine":49,"endColumn":84},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 12 }","line":51,"column":22,"nodeType":"ObjectExpression","endLine":51,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":53,"column":24,"nodeType":"ObjectExpression","endLine":53,"endColumn":60},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', fontSize: 18, marginBottom: 8 }","line":59,"column":28,"nodeType":"ObjectExpression","endLine":59,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":62,"column":28,"nodeType":"ObjectExpression","endLine":62,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":63,"column":81,"nodeType":"ObjectExpression","endLine":63,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":64,"column":57,"nodeType":"ObjectExpression","endLine":64,"endColumn":117},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":64,"column":132,"nodeType":"ObjectExpression","endLine":64,"endColumn":149}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, FlatList, Modal, TextInput, Alert } from 'react-native';\r\n\r\nconst NamedLocationsScreen = () => {\r\n  const [locations, setLocations] = useState([\r\n    { id: '1', name: 'Home', address: '123 Main St' },\r\n    { id: '2', name: 'Work', address: '456 Market St' },\r\n  ]);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editing, setEditing] = useState(null);\r\n  const [name, setName] = useState('');\r\n  const [address, setAddress] = useState('');\r\n\r\n  const openAdd = () => { setEditing(null); setName(''); setAddress(''); setModalVisible(true); };\r\n  const openEdit = (item) => { setEditing(item); setName(item.name); setAddress(item.address); setModalVisible(true); };\r\n\r\n  const save = () => {\r\n    if (!name.trim()) return Alert.alert('Name required');\r\n    if (editing) {\r\n      setLocations((s) => s.map((l) => l.id === editing.id ? { ...l, name, address } : l));\r\n    } else {\r\n      setLocations((s) => [...s, { id: String(Date.now()), name, address }]);\r\n    }\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const remove = (id) => {\r\n    Alert.alert('Delete', 'Remove this location?', [{ text: 'Cancel' }, { text: 'Delete', style: 'destructive', onPress: () => setLocations((s) => s.filter((l) => l.id !== id)) }]);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={styles.container}>\r\n        <Text style={styles.title}>Named Locations</Text>\r\n        <Text style={styles.desc}>Manage your saved locations used for quick trip tagging.</Text>\r\n\r\n        <FlatList data={locations} keyExtractor={(i) => i.id} style={{ marginTop: 12 }} renderItem={({ item }) => (\r\n          <View style={styles.row}>\r\n            <View>\r\n              <Text style={styles.rowTitle}>{item.name}</Text>\r\n              <Text style={styles.rowSubtitle}>{item.address}</Text>\r\n            </View>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <TouchableOpacity onPress={() => openEdit(item)} style={styles.smallButton}><Text style={{ color: '#fff' }}>Edit</Text></TouchableOpacity>\r\n              <TouchableOpacity onPress={() => remove(item.id)} style={[styles.smallButton, { backgroundColor: '#d32f2f', marginLeft: 8 }]}><Text style={{ color: '#fff' }}>Delete</Text></TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        )} ListEmptyComponent={() => <Text style={{ color: '#666', paddingTop: 12 }}>No locations yet.</Text>} />\r\n\r\n        <View style={{ height: 12 }} />\r\n        <TouchableOpacity style={styles.button} onPress={openAdd}>\r\n          <Text style={{ color: '#fff', fontWeight: '700' }}>Add Location</Text>\r\n        </TouchableOpacity>\r\n\r\n        <Modal visible={modalVisible} animationType=\"slide\" transparent>\r\n          <View style={modalStyles.backdrop}>\r\n            <View style={modalStyles.sheet}>\r\n              <Text style={{ fontWeight: '700', fontSize: 18, marginBottom: 8 }}>{editing ? 'Edit Location' : 'Add Location'}</Text>\r\n              <TextInput placeholder=\"Name\" value={name} onChangeText={setName} style={modalStyles.input} />\r\n              <TextInput placeholder=\"Address\" value={address} onChangeText={setAddress} style={modalStyles.input} />\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                <TouchableOpacity onPress={() => setModalVisible(false)} style={{ padding: 10, marginRight: 8 }}><Text>Cancel</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={save} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}><Text style={{ color: '#fff' }}>Save</Text></TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { padding: 16 },\r\n  title: { fontSize: 20, fontWeight: '800', marginBottom: 4 },\r\n  desc: { color: '#666' },\r\n  button: { backgroundColor: '#1976d2', padding: 12, borderRadius: 8, alignItems: 'center' },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 12, borderBottomWidth: 1, borderBottomColor: '#f2f2f2' },\r\n  rowTitle: { fontWeight: '700' },\r\n  rowSubtitle: { color: '#666', marginTop: 4 },\r\n  smallButton: { backgroundColor: '#1976d2', paddingHorizontal: 10, paddingVertical: 6, borderRadius: 6 },\r\n});\r\n\r\nconst modalStyles = StyleSheet.create({\r\n  backdrop: { flex: 1, backgroundColor: 'rgba(0,0,0,0.35)', justifyContent: 'center', padding: 20 },\r\n  sheet: { backgroundColor: '#fff', borderRadius: 12, padding: 16 },\r\n  input: { borderWidth: 1, borderColor: '#eee', borderRadius: 8, padding: 10, marginBottom: 12 },\r\n});\r\n\r\nexport default NamedLocationsScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\PushNotificationsScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":48,"column":26,"nodeType":"ObjectExpression","endLine":48,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":49,"column":20,"nodeType":"ObjectExpression","endLine":49,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12 }","line":73,"column":39,"nodeType":"ObjectExpression","endLine":73,"endColumn":56}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Switch, Alert } from 'react-native';\r\nimport Storage from '../utils/storage';\r\n\r\nconst KEY_CLASS_ALERTS = 'rr:push_class_alerts:v1';\r\nconst KEY_CLASS_FREQ = 'rr:push_class_freq:v1';\r\nconst KEY_DEALS = 'rr:push_deals:v1';\r\nconst KEY_FEATURES = 'rr:push_features:v1';\r\n\r\nconst PushNotificationsScreen = () => {\r\n  const [classificationAlerts, setClassificationAlerts] = useState(true);\r\n  const [classificationFreq, setClassificationFreq] = useState('each'); // 'each'|'daily'|'weekly'\r\n  const [deals, setDeals] = useState(true);\r\n  const [features, setFeatures] = useState(true);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const a = await Storage.loadJSON(KEY_CLASS_ALERTS, null);\r\n        const f = await Storage.loadJSON(KEY_CLASS_FREQ, null);\r\n        const d = await Storage.loadJSON(KEY_DEALS, null);\r\n        const ft = await Storage.loadJSON(KEY_FEATURES, null);\r\n        if (a !== null) setClassificationAlerts(a === '1');\r\n        if (f !== null) setClassificationFreq(f);\r\n        if (d !== null) setDeals(d === '1');\r\n        if (ft !== null) setFeatures(ft === '1');\r\n      } catch (e) {\r\n        console.warn('load push settings failed', e);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => { Storage.saveJSON(KEY_CLASS_ALERTS, classificationAlerts ? '1' : '0').catch(() => {}); }, [classificationAlerts]);\r\n  useEffect(() => { Storage.saveJSON(KEY_CLASS_FREQ, classificationFreq).catch(() => {}); }, [classificationFreq]);\r\n  useEffect(() => { Storage.saveJSON(KEY_DEALS, deals ? '1' : '0').catch(() => {}); }, [deals]);\r\n  useEffect(() => { Storage.saveJSON(KEY_FEATURES, features ? '1' : '0').catch(() => {}); }, [features]);\r\n\r\n  const selectFreq = (val) => {\r\n    if (!classificationAlerts) {\r\n      Alert.alert('Enable alerts', 'Turn on Classification Alerts to change frequency');\r\n      return;\r\n    }\r\n    setClassificationFreq(val);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={{ padding: 16 }}>\r\n        <View style={styles.section}>\r\n          <Text style={styles.sectionTitle}>DRIVE CLASSIFICATION</Text>\r\n          <View style={styles.row}>\r\n            <Text style={styles.rowTitle}>Classification Alerts</Text>\r\n            <Switch value={classificationAlerts} onValueChange={setClassificationAlerts} />\r\n          </View>\r\n\r\n          <TouchableOpacity style={styles.row} onPress={() => selectFreq('each')}>\r\n            <Text style={styles.rowTitle}>Each Drive</Text>\r\n            {classificationFreq === 'each' ? <Text style={styles.check}>✓</Text> : null}\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity style={styles.row} onPress={() => selectFreq('daily')}>\r\n            <Text style={styles.rowTitle}>Daily</Text>\r\n            {classificationFreq === 'daily' ? <Text style={styles.check}>✓</Text> : null}\r\n          </TouchableOpacity>\r\n\r\n          <TouchableOpacity style={styles.row} onPress={() => selectFreq('weekly')}>\r\n            <Text style={styles.rowTitle}>Weekly</Text>\r\n            {classificationFreq === 'weekly' ? <Text style={styles.check}>✓</Text> : null}\r\n          </TouchableOpacity>\r\n        </View>\r\n\r\n        <View style={[styles.section, { marginTop: 12 }]}>\r\n          <Text style={styles.sectionTitle}>ROADBIZ NEWS</Text>\r\n          <View style={styles.row}>\r\n            <Text style={styles.rowTitle}>Deals and Giveaways</Text>\r\n            <Switch value={deals} onValueChange={setDeals} />\r\n          </View>\r\n          <View style={styles.row}>\r\n            <Text style={styles.rowTitle}>Feature Discovery and Tips</Text>\r\n            <Switch value={features} onValueChange={setFeatures} />\r\n          </View>\r\n        </View>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  section: { backgroundColor: '#fff', borderRadius: 8, paddingVertical: 8, paddingHorizontal: 6, borderWidth: 1, borderColor: '#f0f0f0' },\r\n  sectionTitle: { fontSize: 12, fontWeight: '700', color: '#666', paddingHorizontal: 8, marginBottom: 6 },\r\n  row: { flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingVertical: 12, paddingHorizontal: 8, borderTopWidth: 1, borderTopColor: '#fafafa' },\r\n  rowTitle: { fontSize: 16 },\r\n  check: { color: '#1976d2', fontWeight: '700' },\r\n});\r\n\r\nexport default PushNotificationsScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\Reports.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { position: 'absolute', top: 0, left: 0 }","line":26,"column":48,"nodeType":"ObjectExpression","endLine":26,"endColumn":89},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { position: 'absolute' }","line":56,"column":42,"nodeType":"ObjectExpression","endLine":56,"endColumn":179},{"ruleId":"no-unused-vars","severity":1,"message":"'updateRoute' is assigned a value but never used.","line":75,"column":30,"nodeType":"Identifier","messageId":"unusedVar","endLine":75,"endColumn":41},{"ruleId":"no-unused-vars","severity":1,"message":"'totalBusinessMiles' is assigned a value but never used.","line":85,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":85,"endColumn":27},{"ruleId":"no-unused-vars","severity":1,"message":"'totalBusinessExpenses' is assigned a value but never used.","line":86,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":86,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'thisMonthStr' is assigned a value but never used.","line":90,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":90,"endColumn":21},{"ruleId":"no-unused-vars","severity":1,"message":"'businessMilesThisMonth' is assigned a value but never used.","line":91,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":91,"endColumn":31},{"ruleId":"no-unused-vars","severity":1,"message":"'businessExpensesThisMonth' is assigned a value but never used.","line":96,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":96,"endColumn":34},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":181,"column":26,"nodeType":"ObjectExpression","endLine":181,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":182,"column":20,"nodeType":"ObjectExpression","endLine":182,"endColumn":35},{"ruleId":"no-unused-vars","severity":1,"message":"'totalExpensesForMonth' is assigned a value but never used.","line":188,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":188,"endColumn":38},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginTop: 8 }","line":194,"column":30,"nodeType":"ObjectExpression","endLine":194,"endColumn":68},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginRight: 12 }","line":195,"column":74,"nodeType":"ObjectExpression","endLine":195,"endColumn":93},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginRight: 12 }","line":198,"column":80,"nodeType":"ObjectExpression","endLine":198,"endColumn":99},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginRight: 10 }","line":209,"column":32,"nodeType":"ObjectExpression","endLine":209,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo, useContext } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, StyleSheet, TouchableOpacity, Alert } from 'react-native';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport { useNavigation } from '@react-navigation/native';\r\n\r\n// Circular progress meter: uses react-native-svg when available, otherwise falls back to static ring.\r\nconst CircleMeter = ({ percent = 0, size = 64, strokeWidth = 5, claimedColor = '#4caf50', unclaimedColor = '#ffb74d' }) => {\r\n  const pct = Math.max(0, Math.min(100, Math.round(percent)));\r\n  // try to use react-native-svg for an arc; fallback to simple ring\r\n  try {\r\n    // dynamic require so bundler doesn't fail if not installed\r\n     \r\n    const Svg = require('react-native-svg').Svg;\r\n    const Circle = require('react-native-svg').Circle;\r\n    const radius = (size - strokeWidth) / 2;\r\n    const cx = size / 2;\r\n    const cy = size / 2;\r\n    const circumference = 2 * Math.PI * radius;\r\n    const filled = (pct / 100) * circumference;\r\n    const remaining = circumference - filled;\r\n\r\n    return (\r\n      <View style={[styles.meterContainer, { width: size, height: size }]}>\r\n        <Svg width={size} height={size} style={{ position: 'absolute', top: 0, left: 0 }}>\r\n          {/* background arc (unclaimed) */}\r\n          <Circle\r\n            cx={cx}\r\n            cy={cy}\r\n            r={radius}\r\n            stroke={unclaimedColor}\r\n            strokeWidth={strokeWidth}\r\n            strokeLinecap=\"round\"\r\n            fill=\"none\"\r\n            strokeDasharray={`${circumference}`}\r\n            rotation={-90}\r\n            originX={cx}\r\n            originY={cy}\r\n          />\r\n          {/* foreground arc (claimed) */}\r\n          <Circle\r\n            cx={cx}\r\n            cy={cy}\r\n            r={radius}\r\n            stroke={claimedColor}\r\n            strokeWidth={strokeWidth}\r\n            strokeLinecap=\"round\"\r\n            fill=\"none\"\r\n            strokeDasharray={`${filled}, ${remaining}`}\r\n            rotation={-90}\r\n            originX={cx}\r\n            originY={cy}\r\n          />\r\n        </Svg>\r\n        <View style={[styles.meterInner, { width: size - (strokeWidth + 6), height: size - (strokeWidth + 6), borderRadius: (size - (strokeWidth + 6)) / 2, position: 'absolute' }]}>\r\n          <Text style={styles.meterNumber}>{pct}%</Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  } catch (e) {\r\n    // fallback: single-color ring and percent text\r\n    return (\r\n      <View style={[styles.meterContainer, { width: size, height: size }]}>\r\n        <View style={[styles.meterRing, { borderColor: claimedColor, width: size, height: size, borderRadius: size / 2, borderWidth: strokeWidth }]} />\r\n        <View style={[styles.meterInner, { width: size - (strokeWidth + 6), height: size - (strokeWidth + 6), borderRadius: (size - (strokeWidth + 6)) / 2 }]}>\r\n          <Text style={styles.meterNumber}>{pct}%</Text>\r\n        </View>\r\n      </View>\r\n    );\r\n  }\r\n};\r\n\r\nconst Reports = () => {\r\n  const { mileage, expenses, updateRoute } = useContext(DataContext);\r\n\r\n  // filter to business-only\r\n  const businessMileage = useMemo(() => (mileage || []).filter((t) => ((t.purpose || t.classification) || '').toLowerCase().includes('bus')),\r\n    [mileage]);\r\n\r\n  const businessExpenses = useMemo(() => (expenses || []).filter((e) => ((e.classification || '')).toLowerCase().includes('bus')),\r\n    [expenses]);\r\n\r\n  // totals\r\n  const totalBusinessMiles = useMemo(() => businessMileage.reduce((s, t) => s + (Number(t.distance) || 0), 0), [businessMileage]);\r\n  const totalBusinessExpenses = useMemo(() => businessExpenses.reduce((s, e) => s + (Number(e.amount) || 0), 0), [businessExpenses]);\r\n\r\n  // compute this month totals (business only)\r\n  const now = useMemo(() => new Date(), []);\r\n  const thisMonthStr = now.toLocaleDateString(undefined, { month: 'long', year: 'numeric' });\r\n  const businessMilesThisMonth = useMemo(() => businessMileage.reduce((s, t) => {\r\n    const d = new Date(t.start || t.date || t.createdAt || null);\r\n    return (d && d.getMonth() === now.getMonth() && d.getFullYear() === now.getFullYear()) ? s + (Number(t.distance) || 0) : s;\r\n  }, 0), [businessMileage, now]);\r\n\r\n  const businessExpensesThisMonth = useMemo(() => businessExpenses.reduce((s, e) => {\r\n    const d = new Date(e.date || e.createdAt || null);\r\n    return (d && d.getMonth() === now.getMonth() && d.getFullYear() === now.getFullYear()) ? s + (Number(e.amount) || 0) : s;\r\n  }, 0), [businessExpenses, now]);\r\n\r\n\r\n  // build month list from data (include current month)\r\n  const monthsSet = new Set();\r\n  const monthKey = (d) => `${d.getFullYear()}-${d.getMonth()}`;\r\n  (mileage || []).forEach((t) => {\r\n    try { const d = new Date(t.start || t.date || t.createdAt); monthsSet.add(monthKey(d)); } catch (e) {}\r\n  });\r\n  (expenses || []).forEach((e) => {\r\n    try { const d = new Date(e.date || e.createdAt); monthsSet.add(monthKey(d)); } catch (err) {}\r\n  });\r\n  // ensure current month present\r\n  monthsSet.add(monthKey(now));\r\n\r\n  const monthKeys = Array.from(monthsSet).sort().reverse(); // newest first\r\n\r\n  const navigation = useNavigation();\r\n\r\n  // helper to parse a key to year/month\r\n  const parseKey = (k) => { const [y, m] = k.split('-').map(Number); return { year: y, month: m }; };\r\n\r\n  // metrics per month\r\n  const monthMetrics = monthKeys.map((k) => {\r\n    const { year, month } = parseKey(k);\r\n    const monthStart = new Date(year, month, 1);\r\n    const monthEnd = new Date(year, month + 1, 1);\r\n\r\n    const drives = (mileage || []).filter((t) => {\r\n      const d = new Date(t.start || t.date || t.createdAt || null);\r\n      return d && d >= monthStart && d < monthEnd;\r\n    });\r\n\r\n    const exps = (expenses || []).filter((e) => {\r\n      const d = new Date(e.date || e.createdAt || null);\r\n      return d && d >= monthStart && d < monthEnd;\r\n    });\r\n\r\n    const businessDrives = drives.filter((t) => ((t.purpose || t.classification) || '').toLowerCase().includes('bus'));\r\n    const miscDrives = drives.filter((t) => !((t.purpose || t.classification) || '').toLowerCase().includes('bus'));\r\n\r\n    const businessExps = exps.filter((e) => ((e.classification || '')).toLowerCase().includes('bus'));\r\n    const miscExps = exps.filter((e) => !((e.classification || '')).toLowerCase().includes('bus'));\r\n\r\n    const totalBusinessMilesMonth = businessDrives.reduce((s, t) => s + (Number(t.distance) || 0), 0);\r\n    const totalMiscMilesMonth = miscDrives.reduce((s, t) => s + (Number(t.distance) || 0), 0);\r\n\r\n    const totalBusinessExpensesMonth = businessExps.reduce((s, e) => s + (Number(e.amount) || 0), 0);\r\n    const totalMiscExpensesMonth = miscExps.reduce((s, e) => s + (Number(e.amount) || 0), 0);\r\n\r\n    return {\r\n      key: k,\r\n      label: monthStart.toLocaleDateString(undefined, { month: 'long', year: 'numeric' }),\r\n      drivesCount: drives.length,\r\n      businessMiles: totalBusinessMilesMonth,\r\n      miscMiles: totalMiscMilesMonth,\r\n      businessExpenses: totalBusinessExpensesMonth,\r\n      miscExpenses: totalMiscExpensesMonth,\r\n      businessDrivesCount: businessDrives.length,\r\n      miscDrivesCount: miscDrives.length,\r\n    };\r\n  });\r\n\r\n  const handleView = (m) => {\r\n    try { navigation.navigate('ReportsMonth', { monthKey: m.key, monthLabel: m.label }); } catch (e) { /* fallback */ }\r\n  };\r\n\r\n  const handleCategorize = (m) => {\r\n    // navigate to month detail screen where user can view and categorize routes/expenses\r\n    try {\r\n      navigation.navigate('ReportsMonth', { monthKey: m.key, monthLabel: m.label, initialTab: 'routes' });\r\n    } catch (e) {\r\n      // fallback: show alert\r\n      Alert.alert('Open month', `Open ${m.label}`);\r\n    }\r\n  };\r\n\r\n  const handleSend = (m) => {\r\n    Alert.alert('Send Report', `Send report for ${m.label}? (placeholder)`);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      <View style={{ padding: 12 }}>\r\n        {monthMetrics.map((m) => {\r\n          const milesDenom = Math.max(1, m.businessMiles + m.miscMiles);\r\n          const expensesDenom = Math.max(1, m.businessExpenses + m.miscExpenses);\r\n          const milesPct = Math.round((m.businessMiles / milesDenom) * 100);\r\n          const expensesPct = Math.round((m.businessExpenses / expensesDenom) * 100);\r\n          const totalExpensesForMonth = (m.businessExpenses || 0) + (m.miscExpenses || 0);\r\n          return (\r\n            <View key={m.key} style={styles.tile}>\r\n              <View style={styles.tileLeft}>\r\n                <Text style={styles.tileTitle}>{m.label}</Text>\r\n                <Text style={styles.tileSubtitle}>{m.businessDrivesCount} trips · ${m.businessExpenses.toFixed(2)} expenses</Text>\r\n                <View style={{ flexDirection: 'row', marginTop: 8 }}>\r\n                  <TouchableOpacity onPress={() => handleView(m)} style={{ marginRight: 12 }} accessibilityLabel=\"View report\">\r\n                    <Ionicons name=\"eye\" size={20} color=\"#1976d2\" />\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity onPress={() => handleCategorize(m)} style={{ marginRight: 12 }} accessibilityLabel=\"Categorize routes\">\r\n                    <Ionicons name=\"albums\" size={20} color=\"#4caf50\" />\r\n                  </TouchableOpacity>\r\n                  {m.drivesCount > 0 ? (\r\n                    <TouchableOpacity onPress={() => handleSend(m)} accessibilityLabel=\"Send report\">\r\n                      <Ionicons name=\"send\" size={20} color=\"#1976d2\" />\r\n                    </TouchableOpacity>\r\n                  ) : null}\r\n                </View>\r\n              </View>\r\n              <View style={styles.tileRight}>\r\n                  <View style={{ marginRight: 10 }}>\r\n                    <CircleMeter percent={milesPct} size={64} strokeWidth={6} claimedColor=\"#4caf50\" unclaimedColor=\"#ffb74d\" />\r\n                  </View>\r\n                  <View>\r\n                    <CircleMeter percent={expensesPct} size={64} strokeWidth={6} claimedColor=\"#4caf50\" unclaimedColor=\"#ffb74d\" />\r\n                  </View>\r\n                </View>\r\n            </View>\r\n          );\r\n        })}\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  tile: { backgroundColor: '#fff', borderRadius: 10, padding: 12, marginBottom: 12, flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between' },\r\n  tileLeft: { flex: 1, paddingRight: 12 },\r\n  tileRight: { width: 150, alignItems: 'center', justifyContent: 'center', flexDirection: 'row' },\r\n  tileTitle: { fontSize: 16, fontWeight: '700', color: '#222' },\r\n  tileSubtitle: { fontSize: 12, color: '#666', marginTop: 4 },\r\n  tileValue: { marginTop: 8, fontSize: 14, fontWeight: '700', color: '#333' },\r\n  meterContainer: { width: 64, height: 64, alignItems: 'center', justifyContent: 'center', position: 'relative' },\r\n  meterRing: { position: 'absolute', width: 64, height: 64, borderRadius: 32, borderWidth: 5, borderColor: '#1976d2', opacity: 0.18 },\r\n  meterInner: { width: 50, height: 50, borderRadius: 25, backgroundColor: '#fff', alignItems: 'center', justifyContent: 'center', padding: 2 },\r\n  meterValue: { fontSize: 10, color: '#666' },\r\n  meterNumber: { fontSize: 14, fontWeight: '800', color: '#222' },\r\n  meterPct: { fontSize: 10, color: '#999', marginTop: 2 },\r\n});\r\n\r\nexport default Reports;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\ReportsScreen.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'useEffect' is defined but never used.","line":1,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":1,"endColumn":57},{"ruleId":"no-unused-vars","severity":1,"message":"'Alert' is defined but never used.","line":3,"column":80,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":85},{"ruleId":"no-unused-vars","severity":1,"message":"'Ionicons' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":18},{"ruleId":"no-unused-vars","severity":1,"message":"'navigation' is defined but never used. Allowed unused args must match /^_/u.","line":10,"column":33,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":43},{"ruleId":"no-shadow","severity":1,"message":"'route' is already declared in the upper scope on line 10 column 26.","line":43,"column":32,"nodeType":"Identifier","messageId":"noShadow","endLine":43,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":111,"column":26,"nodeType":"ObjectExpression","endLine":111,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":112,"column":20,"nodeType":"ObjectExpression","endLine":112,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":124,"column":20,"nodeType":"ObjectExpression","endLine":124,"endColumn":31},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingBottom: 40 }","line":126,"column":44,"nodeType":"ObjectExpression","endLine":126,"endColumn":65},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ReportsScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":126,"column":193,"nodeType":"ArrowFunctionExpression","endLine":126,"endColumn":261},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":126,"column":212,"nodeType":"ObjectExpression","endLine":126,"endColumn":227},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingBottom: 40 }","line":128,"column":44,"nodeType":"ObjectExpression","endLine":128,"endColumn":65},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “ReportsScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":128,"column":201,"nodeType":"ArrowFunctionExpression","endLine":128,"endColumn":271},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 12 }","line":128,"column":220,"nodeType":"ObjectExpression","endLine":128,"endColumn":235},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  flex: 1,\n  backgroundColor: 'rgba(0,0,0,0.4)',\n  justifyContent: 'center',\n  padding: 20\n}","line":133,"column":22,"nodeType":"ObjectExpression","endLine":133,"endColumn":108},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#fff', borderRadius: 10, padding: 16 }","line":134,"column":24,"nodeType":"ObjectExpression","endLine":134,"endColumn":82},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', marginBottom: 8 }","line":135,"column":26,"nodeType":"ObjectExpression","endLine":135,"endColumn":64},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":138,"column":30,"nodeType":"ObjectExpression","endLine":138,"endColumn":49},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":139,"column":98,"nodeType":"ObjectExpression","endLine":139,"endColumn":184},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":140,"column":30,"nodeType":"ObjectExpression","endLine":140,"endColumn":49},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', marginBottom: 12 }","line":141,"column":30,"nodeType":"ObjectExpression","endLine":141,"endColumn":72},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 8,\n  backgroundColor: \"editClassification === 'Business' ? '#4caf50' : '#eee'\",\n  borderRadius: 6,\n  marginRight: 8\n}","line":142,"column":94,"nodeType":"ObjectExpression","endLine":142,"endColumn":214},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"editClassification === 'Business' ? '#fff' : '#000'\" }","line":143,"column":34,"nodeType":"ObjectExpression","endLine":143,"endColumn":96},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  padding: 8,\n  backgroundColor: \"editClassification === 'Personal' ? '#ff7043' : '#eee'\",\n  borderRadius: 6\n}","line":145,"column":94,"nodeType":"ObjectExpression","endLine":145,"endColumn":198},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: \"editClassification === 'Personal' ? '#fff' : '#000'\" }","line":146,"column":34,"nodeType":"ObjectExpression","endLine":146,"endColumn":96},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":151,"column":34,"nodeType":"ObjectExpression","endLine":151,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":152,"column":137,"nodeType":"ObjectExpression","endLine":152,"endColumn":223},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":153,"column":34,"nodeType":"ObjectExpression","endLine":153,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":154,"column":105,"nodeType":"ObjectExpression","endLine":154,"endColumn":191},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":158,"column":34,"nodeType":"ObjectExpression","endLine":158,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":159,"column":129,"nodeType":"ObjectExpression","endLine":159,"endColumn":215},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginBottom: 6 }","line":160,"column":34,"nodeType":"ObjectExpression","endLine":160,"endColumn":53},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: {\n  borderWidth: 1,\n  borderColor: '#ddd',\n  borderRadius: 6,\n  padding: 8,\n  marginBottom: 12\n}","line":161,"column":105,"nodeType":"ObjectExpression","endLine":161,"endColumn":191},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":164,"column":30,"nodeType":"ObjectExpression","endLine":164,"endColumn":82},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":165,"column":78,"nodeType":"ObjectExpression","endLine":165,"endColumn":109},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":168,"column":64,"nodeType":"ObjectExpression","endLine":168,"endColumn":124},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":169,"column":34,"nodeType":"ObjectExpression","endLine":169,"endColumn":51}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":37,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useMemo, useState, useEffect } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, FlatList, TouchableOpacity, StyleSheet, Modal, TextInput, Alert } from 'react-native';\r\nimport { DataContext } from '../context/DataContext';\r\nimport { Ionicons } from '@expo/vector-icons';\r\nimport ReportTile from '../components/ReportTile';\r\n\r\nconst parseKey = (k) => { const [y, m] = k.split('-').map(Number); return { year: y, month: m }; };\r\n\r\nconst ReportsScreen = ({ route, navigation }) => {\r\n  const { monthKey, monthLabel, initialTab } = (route && route.params) || {};\r\n  const { mileage = [], expenses = [] } = useContext(DataContext);\r\n  const [active, setActive] = useState(initialTab === 'expenses' ? 1 : 0);\r\n\r\n  const { year, month } = monthKey ? parseKey(monthKey) : { year: new Date().getFullYear(), month: new Date().getMonth() };\r\n  const monthStart = useMemo(() => new Date(year, month, 1), [year, month]);\r\n  const monthEnd = useMemo(() => new Date(year, month + 1, 1), [year, month]);\r\n\r\n  const monthDrives = useMemo(() => mileage.filter((t) => {\r\n    const d = new Date(t.start || t.date || t.createdAt || null);\r\n    return d && d >= monthStart && d < monthEnd;\r\n  }), [mileage, monthStart, monthEnd]);\r\n\r\n  const monthExpenses = useMemo(() => expenses.filter((e) => {\r\n    const d = new Date(e.date || e.createdAt || null);\r\n    return d && d >= monthStart && d < monthEnd;\r\n  }), [expenses, monthStart, monthEnd]);\r\n\r\n  const showRoutes = () => { setActive(0); };\r\n  const showExpenses = () => { setActive(1); };\r\n\r\n  const { updateRoute, updateExpense } = useContext(DataContext);\r\n\r\n  // Edit modal state for single-item edit (reuse the same UX as Miscellaneous single-edit)\r\n  const [editItem, setEditItem] = useState(null);\r\n  const [editName, setEditName] = useState('');\r\n  const [editClassification, setEditClassification] = useState('');\r\n  const [editAmount, setEditAmount] = useState('');\r\n  const [editDistance, setEditDistance] = useState('');\r\n  const [editDate, setEditDate] = useState('');\r\n  const [editNotes, setEditNotes] = useState('');\r\n\r\n  const handleClassifyRoute = (route, cls) => {\r\n    try { updateRoute({ ...route, purpose: cls, classification: cls.toLowerCase() }); } catch (e) {}\r\n  };\r\n  const handleClassifyExpense = (exp, cls) => {\r\n    try { updateExpense({ ...exp, classification: cls.toLowerCase() }); } catch (e) {}\r\n  };\r\n\r\n  const renderRoute = ({ item }) => (\r\n    <ReportTile\r\n      item={item}\r\n      type=\"route\"\r\n      onClassify={(cls) => handleClassifyRoute(item, cls)}\r\n      onDelete={(it) => updateRoute({ ...it, _deleted: true })}\r\n      onEdit={(it) => {\r\n        setEditItem({ ...it, _type: 'route' });\r\n        setEditName(it.purpose || it.description || '');\r\n        setEditClassification(it.classification || it.purpose || '');\r\n        setEditDistance(it.distance ? String(it.distance) : '');\r\n        const raw = it.start || it.createdAt || it.date || '';\r\n        setEditDate(raw);\r\n        setEditNotes(it.notes || '');\r\n      }}\r\n    />\r\n  );\r\n\r\n  const renderExpense = ({ item }) => (\r\n    <ReportTile\r\n      item={item}\r\n      type=\"expense\"\r\n      onClassify={(cls) => handleClassifyExpense(item, cls)}\r\n      onDelete={(it) => updateExpense({ ...it, _deleted: true })}\r\n      onEdit={(it) => {\r\n        setEditItem({ ...it, _type: 'expense' });\r\n        setEditName(it.description || it.purpose || '');\r\n        setEditClassification(it.classification || it.purpose || '');\r\n        setEditAmount(it.amount ? String(it.amount) : '');\r\n        const raw = it.createdAt || it.date || '';\r\n        setEditDate(raw);\r\n        setEditNotes(it.notes || '');\r\n      }}\r\n    />\r\n  );\r\n\r\n  // apply single-edit from modal\r\n  const applyEdit = () => {\r\n    if (!editItem) return;\r\n    if (editItem._type === 'route') {\r\n      const updated = { ...editItem };\r\n      if (editName) updated.purpose = editName;\r\n      if (editClassification) updated.purpose = editClassification;\r\n      if (editDistance) updated.distance = Number(editDistance);\r\n      if (editDate) updated.start = editDate;\r\n      if (editNotes) updated.notes = editNotes;\r\n      updateRoute(updated);\r\n    } else {\r\n      const updated = { ...editItem };\r\n      if (editName) updated.description = editName;\r\n      if (editClassification) updated.classification = editClassification;\r\n      if (editAmount) updated.amount = Number(editAmount);\r\n      if (editDate) updated.createdAt = editDate;\r\n      if (editNotes) updated.notes = editNotes;\r\n      updateExpense(updated);\r\n    }\r\n    // close modal\r\n    setEditItem(null); setEditName(''); setEditClassification(''); setEditAmount(''); setEditDistance(''); setEditDate(''); setEditNotes('');\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      <View style={{ padding: 12 }}>\r\n        <Text style={styles.headerTitle}>{monthLabel || `${monthStart.toLocaleDateString(undefined, { month: 'long', year: 'numeric' })}`}</Text>\r\n        <View style={styles.tabRow}>\r\n          <TouchableOpacity onPress={showRoutes} style={[styles.tabButton, active === 0 && styles.tabActive]}>\r\n            <Text style={[styles.tabText, active === 0 && styles.tabTextActive]}>Routes ({monthDrives.length})</Text>\r\n          </TouchableOpacity>\r\n          <TouchableOpacity onPress={showExpenses} style={[styles.tabButton, active === 1 && styles.tabActive]}>\r\n            <Text style={[styles.tabText, active === 1 && styles.tabTextActive]}>Expenses ({monthExpenses.length})</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n\r\n      <View style={{ flex: 1 }}>\r\n        {active === 0 ? (\r\n          <FlatList contentContainerStyle={{ paddingBottom: 40 }} data={monthDrives} keyExtractor={(i) => `r-${i.id || i.start || Math.random()}`} renderItem={renderRoute} ListEmptyComponent={() => <Text style={{ padding: 12 }}>No routes for this month.</Text>} />\r\n        ) : (\r\n          <FlatList contentContainerStyle={{ paddingBottom: 40 }} data={monthExpenses} keyExtractor={(i) => `e-${i.id || i.createdAt || Math.random()}`} renderItem={renderExpense} ListEmptyComponent={() => <Text style={{ padding: 12 }}>No expenses for this month.</Text>} />\r\n        )}\r\n      </View>\r\n      {/* Edit modal (single-item) */}\r\n      <Modal visible={!!editItem} animationType=\"slide\" transparent={true} onRequestClose={() => setEditItem(null)}>\r\n        <View style={{ flex: 1, backgroundColor: 'rgba(0,0,0,0.4)', justifyContent: 'center', padding: 20 }}>\r\n          <View style={{ backgroundColor: '#fff', borderRadius: 10, padding: 16 }}>\r\n            <Text style={{ fontWeight: '700', marginBottom: 8 }}>{editItem ? 'Edit' : 'Edit'}</Text>\r\n            {editItem && (\r\n              <>\r\n                <Text style={{ marginBottom: 6 }}>Name</Text>\r\n                <TextInput value={editName} onChangeText={setEditName} placeholder=\"Name\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                <Text style={{ marginBottom: 6 }}>Classification</Text>\r\n                <View style={{ flexDirection: 'row', marginBottom: 12 }}>\r\n                  <TouchableOpacity onPress={() => setEditClassification('Business')} style={{ padding: 8, backgroundColor: editClassification === 'Business' ? '#4caf50' : '#eee', borderRadius: 6, marginRight: 8 }}>\r\n                    <Text style={{ color: editClassification === 'Business' ? '#fff' : '#000' }}>Business</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity onPress={() => setEditClassification('Personal')} style={{ padding: 8, backgroundColor: editClassification === 'Personal' ? '#ff7043' : '#eee', borderRadius: 6 }}>\r\n                    <Text style={{ color: editClassification === 'Personal' ? '#fff' : '#000' }}>Personal</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n                {editItem._type === 'route' ? (\r\n                  <>\r\n                    <Text style={{ marginBottom: 6 }}>Distance (mi)</Text>\r\n                    <TextInput value={editDistance} onChangeText={setEditDistance} placeholder=\"Distance\" keyboardType=\"numeric\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                    <Text style={{ marginBottom: 6 }}>Notes</Text>\r\n                    <TextInput value={editNotes} onChangeText={setEditNotes} placeholder=\"Notes\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    <Text style={{ marginBottom: 6 }}>Amount</Text>\r\n                    <TextInput value={editAmount} onChangeText={setEditAmount} placeholder=\"0.00\" keyboardType=\"numeric\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                    <Text style={{ marginBottom: 6 }}>Notes</Text>\r\n                    <TextInput value={editNotes} onChangeText={setEditNotes} placeholder=\"Notes\" style={{ borderWidth: 1, borderColor: '#ddd', borderRadius: 6, padding: 8, marginBottom: 12 }} />\r\n                  </>\r\n                )}\r\n                <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                  <TouchableOpacity onPress={() => setEditItem(null)} style={{ padding: 10, marginRight: 8 }}>\r\n                    <Text>Cancel</Text>\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity onPress={applyEdit} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}>\r\n                    <Text style={{ color: '#fff' }}>Apply</Text>\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </>\r\n            )}\r\n          </View>\r\n        </View>\r\n      </Modal>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  headerTitle: { fontSize: 18, fontWeight: '700', marginBottom: 8 },\r\n  tabRow: { flexDirection: 'row', paddingHorizontal: 12 },\r\n  tabButton: { paddingVertical: 8, paddingHorizontal: 12, marginRight: 8, borderRadius: 8, backgroundColor: '#f2f2f2' },\r\n  tabActive: { backgroundColor: '#1976d2' },\r\n  tabText: { color: '#333', fontWeight: '600' },\r\n  tabTextActive: { color: '#fff' },\r\n  itemRow: { flexDirection: 'row', alignItems: 'center', padding: 12, borderBottomWidth: 1, borderBottomColor: '#eee' },\r\n  itemTitle: { fontSize: 14, fontWeight: '700' },\r\n  itemMeta: { fontSize: 12, color: '#666', marginTop: 4 },\r\n  badge: { paddingVertical: 6, paddingHorizontal: 8, borderRadius: 12 },\r\n  badgeText: { color: '#222', fontSize: 12, fontWeight: '700' },\r\n  /* Tile styles copied / adapted from Miscellaneous */\r\n  tile: { padding: 12, borderRadius: 10, backgroundColor: '#fff', marginTop: 6, marginBottom: 6, borderWidth: 1, borderColor: '#eee', shadowColor: '#000', shadowOpacity: 0.04, shadowRadius: 6, overflow: 'hidden', flexDirection: 'row', minHeight: 120, alignItems: 'center' },\r\n  tileImageWrap: { width: '30%', paddingRight: 8, position: 'relative' },\r\n  tileImagePlaceholder: { width: '100%', height: 84, borderRadius: 8, backgroundColor: '#f6f6f6' },\r\n  tileContent: { width: '55%', justifyContent: 'flex-start', alignItems: 'flex-start', paddingLeft: 8 },\r\n  tileTitle: { fontWeight: '700', fontSize: 15 },\r\n  tileSubtitle: { color: '#666', marginTop: 6, fontSize: 13 },\r\n  tileValue: { marginTop: 8, fontWeight: '700', color: '#333' },\r\n  tileRightCol: { width: '15%', justifyContent: 'flex-start', alignItems: 'flex-end', paddingRight: 6 },\r\n  amountBadge: { paddingHorizontal: 8, paddingVertical: 6, borderRadius: 8, minWidth: 60, alignItems: 'center', justifyContent: 'center' },\r\n  classBadge: { paddingHorizontal: 8, paddingVertical: 4, borderRadius: 8, minWidth: 70, alignItems: 'center', justifyContent: 'center' },\r\n  classBadgeText: { color: '#fff', fontWeight: '700' },\r\n});\r\n\r\nexport default ReportsScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\Settings.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":11,"column":26,"nodeType":"ObjectExpression","endLine":11,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":12,"column":20,"nodeType":"ObjectExpression","endLine":12,"endColumn":35},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 12 }","line":14,"column":22,"nodeType":"ObjectExpression","endLine":14,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 12 }","line":16,"column":22,"nodeType":"ObjectExpression","endLine":16,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', marginTop: 16 }","line":17,"column":22,"nodeType":"ObjectExpression","endLine":17,"endColumn":54},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#4caf50', borderRadius: 8 }","line":29,"column":71,"nodeType":"ObjectExpression","endLine":29,"endColumn":131},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":30,"column":20,"nodeType":"ObjectExpression","endLine":30,"endColumn":37}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, Button, TouchableOpacity } from 'react-native';\r\nimport { DataContext } from '../context/DataContext';\r\nimport useExpenses from '../hooks/useExpenses';\r\n\r\nconst Settings = () => {\r\n  const { clearAll } = useContext(DataContext);\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      <View style={{ padding: 16 }}>\r\n        <Button title=\"Clear All Local Data\" onPress={() => clearAll()} color=\"#e53935\" />\r\n        <View style={{ height: 12 }} />\r\n        <ImportBankButton />\r\n        <View style={{ height: 12 }} />\r\n        <Text style={{ color: '#666', marginTop: 16 }}>Profile, export, and environment toggles live here.</Text>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nexport default Settings;\r\n\r\nconst ImportBankButton = () => {\r\n  const { importBankTransactions } = useExpenses();\r\n\r\n  return (\r\n    <TouchableOpacity onPress={() => importBankTransactions()} style={{ padding: 10, backgroundColor: '#4caf50', borderRadius: 8 }}>\r\n      <Text style={{ color: '#fff' }}>Import Bank</Text>\r\n    </TouchableOpacity>\r\n  );\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\SettingsScreen.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'logout' is assigned a value but never used.","line":11,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":23},{"ruleId":"no-unused-vars","severity":1,"message":"'loginMock' is assigned a value but never used.","line":11,"column":25,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":34},{"ruleId":"no-unused-vars","severity":1,"message":"'toggleMonitoring' is assigned a value but never used.","line":76,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":76,"endColumn":25},{"ruleId":"no-unused-vars","severity":1,"message":"'cycleSensitivity' is assigned a value but never used.","line":80,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":80,"endColumn":25},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":88,"column":26,"nodeType":"ObjectExpression","endLine":88,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { paddingBottom: 40 }","line":89,"column":42,"nodeType":"ObjectExpression","endLine":89,"endColumn":63},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 16 }","line":90,"column":22,"nodeType":"ObjectExpression","endLine":90,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { borderRadius: 12 }","line":91,"column":174,"nodeType":"ObjectExpression","endLine":91,"endColumn":194},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":96,"column":30,"nodeType":"ObjectExpression","endLine":96,"endColumn":66}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, ImageBackground, StyleSheet, ScrollView, Switch, Alert } from 'react-native';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport DriveDetection from '../services/DriveDetection';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { Share } from 'react-native';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\nconst SettingsScreen = () => {\r\n  const { user, logout, loginMock } = useContext(AuthContext);\r\n  const navigation = useNavigation();\r\n  const [driveDetectionPaused, setDriveDetectionPaused] = useState(true);\r\n  const [monitoringActive, setMonitoringActive] = useState(false);\r\n  const [detectionSensitivity, setDetectionSensitivity] = useState('Medium');\r\n  const [useMetric, setUseMetric] = useState(false);\r\n\r\n  const handleUpgrade = () => {\r\n    Alert.alert('Upgrade', 'Open upgrade flow (placeholder)');\r\n  };\r\n\r\n  const rows = (title, items) => (\r\n    <View style={styles.section}>\r\n      <Text style={styles.sectionTitle}>{title}</Text>\r\n      {items.map((it, idx) => (\r\n        <TouchableOpacity key={idx} style={styles.row} onPress={it.onPress} disabled={!it.onPress}>\r\n          <View style={styles.rowLeft}>\r\n            <View style={styles.iconCircle}>{it.icon}</View>\r\n            <Text style={styles.rowTitle}>{it.title}</Text>\r\n          </View>\r\n          <View style={styles.rowRight}>\r\n            {it.value ? <Text style={styles.rowValue}>{it.value}</Text> : null}\r\n            {it.hasToggle ? (\r\n              <Switch value={it.toggleValue} onValueChange={it.onToggle} />\r\n            ) : (\r\n              <Ionicons name=\"chevron-forward\" size={18} color=\"#999\" />\r\n            )}\r\n          </View>\r\n        </TouchableOpacity>\r\n      ))}\r\n    </View>\r\n  );\r\n\r\n  const onShare = async () => {\r\n    try {\r\n      await Share.share({ message: 'Check out RoadBiz — automatic mileage tracking and easy reports.' });\r\n    } catch (e) {\r\n      Alert.alert('Share failed');\r\n    }\r\n  };\r\n\r\n  const startDetection = async () => {\r\n    try {\r\n      await DriveDetection.startRouteMonitoring((sample) => {\r\n        Alert.alert('Route detected', `Detected a route: ${sample.distance} km`);\r\n      });\r\n      setMonitoringActive(true);\r\n      setDriveDetectionPaused(false);\r\n      Alert.alert('Route detection', 'Monitoring started');\r\n    } catch (e) {\r\n      Alert.alert('Route detection', 'Failed to start');\r\n    }\r\n  };\r\n\r\n  const stopDetection = async () => {\r\n    try {\r\n      await DriveDetection.stopRouteMonitoring();\r\n      setMonitoringActive(false);\r\n      setDriveDetectionPaused(true);\r\n      Alert.alert('Route detection', 'Monitoring stopped');\r\n    } catch (e) {\r\n      Alert.alert('Route detection', 'Failed to stop');\r\n    }\r\n  };\r\n\r\n  const toggleMonitoring = () => {\r\n    if (monitoringActive) stopDetection(); else startDetection();\r\n  };\r\n\r\n  const cycleSensitivity = () => {\r\n    const opts = ['Low', 'Medium', 'High'];\r\n    const idx = opts.indexOf(detectionSensitivity);\r\n    const next = opts[(idx + 1) % opts.length];\r\n    setDetectionSensitivity(next);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }} edges={[ 'left', 'right', 'bottom' ]}>\r\n      <ScrollView contentContainerStyle={{ paddingBottom: 40 }}>\r\n        <View style={{ padding: 16 }}>\r\n          <ImageBackground source={{ uri: 'https://images.unsplash.com/photo-1502877338535-766e1452684a?auto=format&fit=crop&w=1400&q=60' }} style={styles.hero} imageStyle={{ borderRadius: 12 }}>\r\n            <View style={styles.heroContent}>\r\n              <Text style={styles.heroTitle}>Go Unlimited.</Text>\r\n              <Text style={styles.heroSubtitle}>You have 40 free drives left this month.</Text>\r\n              <TouchableOpacity style={styles.heroButton} onPress={handleUpgrade}>\r\n                <Text style={{ color: '#fff', fontWeight: '700' }}>Upgrade for more</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </ImageBackground>\r\n\r\n          {rows('ACCOUNT', [\r\n            { title: 'Signed in', value: user ? (user.email || user.name) : 'Not signed in', icon: <Ionicons name=\"person-circle-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('Account') },\r\n            { title: 'Route Detection', value: driveDetectionPaused ? 'Paused' : 'On', icon: <Ionicons name=\"navigate-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('DriveDetection') },\r\n            { title: 'Help', icon: <Ionicons name=\"help-circle-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('Help') },\r\n          ])}\r\n\r\n          {rows('PERSONALIZATION', [\r\n            { title: 'Named Locations', value: '4', icon: <Ionicons name=\"location-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('NamedLocations') },\r\n            { title: 'Vehicles', value: '1', icon: <Ionicons name=\"car-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('Vehicles') },\r\n            { title: 'Categories', icon: <Ionicons name=\"pricetag-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('CustomPurposes') },\r\n            { title: 'Contacts', icon: <Ionicons name=\"person-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('Contacts') },\r\n            { title: 'Mileage Rates', value: 'US', icon: <Ionicons name=\"calculator-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('MileageRates') },\r\n            { title: 'Use Metric Units (km)', hasToggle: true, toggleValue: useMetric, onToggle: setUseMetric, icon: <Ionicons name=\"ruler\" size={20} color=\"#444\" /> },\r\n          ])}\r\n\r\n          {/* 'Frequent Drives' moved into Drive Detection screen */}\r\n\r\n          {rows('OTHER SETTINGS', [\r\n            { title: 'Email Communications', icon: <Ionicons name=\"mail-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('EmailSettings') },\r\n            { title: 'Push Notifications', icon: <Ionicons name=\"notifications-outline\" size={20} color=\"#444\" />, onPress: () => navigation && navigation.navigate('PushNotifications') },\r\n            { title: 'Share RoadBiz', icon: <Ionicons name=\"share-social-outline\" size={20} color=\"#444\" />, onPress: () => onShare() },\r\n            { title: 'Version', value: '5.29.0', icon: <Ionicons name=\"information-circle-outline\" size={20} color=\"#444\" />, onPress: null },\r\n          ])}\r\n        </View>\r\n      </ScrollView>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  hero: { width: '100%', height: 160, borderRadius: 12, overflow: 'hidden', marginBottom: 18 },\r\n  heroContent: { flex: 1, padding: 16, justifyContent: 'flex-end' },\r\n  heroTitle: { color: '#fff', fontSize: 24, fontWeight: '800', marginBottom: 6 },\r\n  heroSubtitle: { color: 'rgba(255,255,255,0.9)', marginBottom: 12 },\r\n  heroButton: { backgroundColor: '#1976d2', paddingVertical: 10, paddingHorizontal: 16, borderRadius: 999, alignSelf: 'flex-start' },\r\n  section: { marginTop: 8, backgroundColor: '#fff', borderRadius: 8, paddingVertical: 8, paddingHorizontal: 6, marginBottom: 12, borderWidth: 1, borderColor: '#f0f0f0' },\r\n  sectionTitle: { fontSize: 12, fontWeight: '700', color: '#666', paddingHorizontal: 8, marginBottom: 6 },\r\n  row: { flexDirection: 'row', alignItems: 'center', justifyContent: 'space-between', paddingVertical: 12, paddingHorizontal: 8, borderTopWidth: 1, borderTopColor: '#fafafa' },\r\n  rowLeft: { flexDirection: 'row', alignItems: 'center' },\r\n  iconCircle: { width: 36, height: 36, borderRadius: 18, backgroundColor: '#fff', alignItems: 'center', justifyContent: 'center', marginRight: 12, borderWidth: 1, borderColor: '#f0f0f0' },\r\n  rowTitle: { fontSize: 16, fontWeight: '600' },\r\n  rowRight: { flexDirection: 'row', alignItems: 'center' },\r\n  rowValue: { color: '#666', marginRight: 8, fontWeight: '600' },\r\n});\r\n\r\nexport default SettingsScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\Summaries.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\Unclassified.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\VehiclesScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":33,"column":26,"nodeType":"ObjectExpression","endLine":33,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { marginTop: 12 }","line":38,"column":69,"nodeType":"ObjectExpression","endLine":38,"endColumn":86},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row' }","line":44,"column":26,"nodeType":"ObjectExpression","endLine":44,"endColumn":50},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":45,"column":104,"nodeType":"ObjectExpression","endLine":45,"endColumn":121},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { backgroundColor: '#d32f2f', marginLeft: 8 }","line":46,"column":93,"nodeType":"ObjectExpression","endLine":46,"endColumn":138},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":46,"column":154,"nodeType":"ObjectExpression","endLine":46,"endColumn":171},{"ruleId":"react/no-unstable-nested-components","severity":1,"message":"Do not define components during render. React will see a new component type on every render and destroy the entire subtree’s DOM nodes and state (https://reactjs.org/docs/reconciliation.html#elements-of-different-types). Instead, move this component definition out of the parent component “VehiclesScreen” and pass data as props. If you want to allow component creation in props, set allowAsProps option to true.","line":49,"column":32,"nodeType":"ArrowFunctionExpression","endLine":49,"endColumn":109},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#666', paddingTop: 12 }","line":49,"column":51,"nodeType":"ObjectExpression","endLine":49,"endColumn":84},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 12 }","line":51,"column":22,"nodeType":"ObjectExpression","endLine":51,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":53,"column":24,"nodeType":"ObjectExpression","endLine":53,"endColumn":60},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { fontWeight: '700', fontSize: 18, marginBottom: 8 }","line":59,"column":28,"nodeType":"ObjectExpression","endLine":59,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flexDirection: 'row', justifyContent: 'flex-end' }","line":64,"column":28,"nodeType":"ObjectExpression","endLine":64,"endColumn":80},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, marginRight: 8 }","line":65,"column":81,"nodeType":"ObjectExpression","endLine":65,"endColumn":112},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }","line":66,"column":57,"nodeType":"ObjectExpression","endLine":66,"endColumn":117},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff' }","line":66,"column":132,"nodeType":"ObjectExpression","endLine":66,"endColumn":149}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":15,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useContext, useState } from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, FlatList, Modal, TextInput, Alert } from 'react-native';\r\nimport { DataContext } from '../context/DataContext';\r\n\r\nconst VehiclesScreen = () => {\r\n  const { vehicles, addVehicle, updateVehicle, deleteVehicle } = useContext(DataContext);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [editing, setEditing] = useState(null);\r\n  const [make, setMake] = useState('');\r\n  const [model, setModel] = useState('');\r\n  const [year, setYear] = useState('');\r\n  const [plate, setPlate] = useState('');\r\n\r\n  const openAdd = () => { setEditing(null); setMake(''); setModel(''); setYear(''); setPlate(''); setModalVisible(true); };\r\n  const openEdit = (item) => { setEditing(item); setMake(item.make || ''); setModel(item.model || ''); setYear(item.year ? String(item.year) : ''); setPlate(item.plate || ''); setModalVisible(true); };\r\n\r\n  const save = () => {\r\n    if (!make.trim() && !model.trim()) return Alert.alert('Please enter make or model');\r\n    if (editing) {\r\n      updateVehicle({ ...editing, make, model, year: year ? Number(year) : null, plate });\r\n    } else {\r\n      addVehicle({ id: `veh:${Date.now()}`, make, model, year: year ? Number(year) : null, plate });\r\n    }\r\n    setModalVisible(false);\r\n  };\r\n\r\n  const remove = (id) => {\r\n    Alert.alert('Delete vehicle', 'Remove this vehicle?', [{ text: 'Cancel' }, { text: 'Delete', style: 'destructive', onPress: () => deleteVehicle({ id }) }]);\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={styles.container}>\r\n        <Text style={styles.title}>Vehicles</Text>\r\n        <Text style={styles.desc}>Manage vehicles used for tracking.</Text>\r\n\r\n        <FlatList data={vehicles} keyExtractor={(i) => i.id} style={{ marginTop: 12 }} renderItem={({ item }) => (\r\n          <View style={styles.row}>\r\n            <View>\r\n              <Text style={styles.rowTitle}>{item.make} {item.model}</Text>\r\n              <Text style={styles.rowSubtitle}>{item.year ? item.year : ''} {item.plate ? `· ${item.plate}` : ''}</Text>\r\n            </View>\r\n            <View style={{ flexDirection: 'row' }}>\r\n              <TouchableOpacity onPress={() => openEdit(item)} style={styles.smallButton}><Text style={{ color: '#fff' }}>Edit</Text></TouchableOpacity>\r\n              <TouchableOpacity onPress={() => remove(item.id)} style={[styles.smallButton, { backgroundColor: '#d32f2f', marginLeft: 8 }]}><Text style={{ color: '#fff' }}>Delete</Text></TouchableOpacity>\r\n            </View>\r\n          </View>\r\n        )} ListEmptyComponent={() => <Text style={{ color: '#666', paddingTop: 12 }}>No vehicles yet.</Text>} />\r\n\r\n        <View style={{ height: 12 }} />\r\n        <TouchableOpacity style={styles.button} onPress={openAdd}>\r\n          <Text style={{ color: '#fff', fontWeight: '700' }}>Add Vehicle</Text>\r\n        </TouchableOpacity>\r\n\r\n        <Modal visible={modalVisible} animationType=\"slide\" transparent>\r\n          <View style={modalStyles.backdrop}>\r\n            <View style={modalStyles.sheet}>\r\n              <Text style={{ fontWeight: '700', fontSize: 18, marginBottom: 8 }}>{editing ? 'Edit Vehicle' : 'Add Vehicle'}</Text>\r\n              <TextInput placeholder=\"Make\" value={make} onChangeText={setMake} style={modalStyles.input} />\r\n              <TextInput placeholder=\"Model\" value={model} onChangeText={setModel} style={modalStyles.input} />\r\n              <TextInput placeholder=\"Year\" value={year} onChangeText={setYear} keyboardType=\"numeric\" style={modalStyles.input} />\r\n              <TextInput placeholder=\"Plate\" value={plate} onChangeText={setPlate} style={modalStyles.input} />\r\n              <View style={{ flexDirection: 'row', justifyContent: 'flex-end' }}>\r\n                <TouchableOpacity onPress={() => setModalVisible(false)} style={{ padding: 10, marginRight: 8 }}><Text>Cancel</Text></TouchableOpacity>\r\n                <TouchableOpacity onPress={save} style={{ padding: 10, backgroundColor: '#1976d2', borderRadius: 6 }}><Text style={{ color: '#fff' }}>Save</Text></TouchableOpacity>\r\n              </View>\r\n            </View>\r\n          </View>\r\n        </Modal>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { padding: 16 },\r\n  title: { fontSize: 20, fontWeight: '800', marginBottom: 8 },\r\n  desc: { color: '#666' },\r\n  button: { backgroundColor: '#1976d2', padding: 12, borderRadius: 8, alignItems: 'center' },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 12, borderBottomWidth: 1, borderBottomColor: '#f2f2f2' },\r\n  rowTitle: { fontWeight: '700' },\r\n  rowSubtitle: { color: '#666', marginTop: 4 },\r\n  smallButton: { backgroundColor: '#1976d2', paddingHorizontal: 10, paddingVertical: 6, borderRadius: 6 },\r\n});\r\n\r\nconst modalStyles = StyleSheet.create({\r\n  backdrop: { flex: 1, backgroundColor: 'rgba(0,0,0,0.35)', justifyContent: 'center', padding: 20 },\r\n  sheet: { backgroundColor: '#fff', borderRadius: 12, padding: 16 },\r\n  input: { borderWidth: 1, borderColor: '#eee', borderRadius: 8, padding: 10, marginBottom: 12 },\r\n});\r\n\r\nexport default VehiclesScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\screens\\WorkHoursScreen.js","messages":[{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { flex: 1 }","line":8,"column":26,"nodeType":"ObjectExpression","endLine":8,"endColumn":37},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 16 }","line":12,"column":22,"nodeType":"ObjectExpression","endLine":12,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { height: 12 }","line":17,"column":22,"nodeType":"ObjectExpression","endLine":17,"endColumn":36},{"ruleId":"react-native/no-inline-styles","severity":1,"message":"Inline style: { color: '#fff', fontWeight: '700' }","line":19,"column":24,"nodeType":"ObjectExpression","endLine":19,"endColumn":60}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { SafeAreaView } from 'react-native-safe-area-context';\r\nimport { View, Text, TouchableOpacity, StyleSheet, Switch } from 'react-native';\r\n\r\nconst WorkHoursScreen = () => {\r\n  const [enabled, setEnabled] = React.useState(true);\r\n  return (\r\n    <SafeAreaView style={{ flex: 1 }}>\r\n      <View style={styles.container}>\r\n        <Text style={styles.title}>Work Hours</Text>\r\n        <Text style={styles.desc}>Configure your typical work hours so frequent drives and detection can use them.</Text>\r\n        <View style={{ height: 16 }} />\r\n        <View style={styles.row}>\r\n          <Text style={styles.rowText}>Enabled</Text>\r\n          <Switch value={enabled} onValueChange={setEnabled} />\r\n        </View>\r\n        <View style={{ height: 12 }} />\r\n        <TouchableOpacity style={styles.button} onPress={() => {}}>\r\n          <Text style={{ color: '#fff', fontWeight: '700' }}>Edit Work Hours</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: { padding: 16 },\r\n  title: { fontSize: 20, fontWeight: '800', marginBottom: 8 },\r\n  desc: { color: '#666' },\r\n  row: { flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', paddingVertical: 12 },\r\n  rowText: { fontSize: 16, fontWeight: '600' },\r\n  button: { backgroundColor: '#1976d2', padding: 12, borderRadius: 8, alignItems: 'center' },\r\n});\r\n\r\nexport default WorkHoursScreen;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\AmazonFlex.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\Auth.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'password' is defined but never used. Allowed unused args must match /^_/u.","line":5,"column":22,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":30},{"ruleId":"no-unused-vars","severity":1,"message":"'token' is defined but never used. Allowed unused args must match /^_/u.","line":10,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":10,"endColumn":22},{"ruleId":"no-unused-vars","severity":1,"message":"'userId' is defined but never used. Allowed unused args must match /^_/u.","line":15,"column":27,"nodeType":"Identifier","messageId":"unusedVar","endLine":15,"endColumn":33}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock Auth service: placeholder for future Stripe/Server integration\r\n// Use Expo SecureStore for tokens in production: install expo-secure-store\r\n\r\nexport const AuthService = {\r\n  async login(email, password) {\r\n    // TODO: replace with real API\r\n    return { id: 'u1', email, role: 'free', token: 'mock-token' };\r\n  },\r\n\r\n  async getRole(token) {\r\n    // Placeholder returning 'free' or 'paid'\r\n    return 'free';\r\n  },\r\n\r\n  async checkSubscription(userId) {\r\n    // Placeholder for subscription status\r\n    return { active: false, plan: null };\r\n  },\r\n};\r\n\r\nexport default AuthService;\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\BankIntegration.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'opts' is assigned a value but never used.","line":7,"column":38,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":42}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Mock bank integration service - placeholder for future real API hooks\r\nconst SAMPLE_TXNS = [\r\n  { id: 'b-1', date: new Date().toISOString(), amount: 42.5, description: 'Gas Station', category: 'Gas' },\r\n  { id: 'b-2', date: new Date(Date.now() - 1000 * 60 * 60 * 24).toISOString(), amount: 120.0, description: 'Tire Shop', category: 'Tires' },\r\n];\r\n\r\nconst fetchBankTransactions = async (opts = {}) => {\r\n  // Simulate network delay\r\n  await new Promise((r) => setTimeout(r, 300));\r\n  // Return a mapped list that matches the expense schema used by the app\r\n    return SAMPLE_TXNS.map((t) => ({\r\n    id: `bank:${t.id}`,\r\n    date: t.date,\r\n    amount: t.amount,\r\n    category: t.category,\r\n    notes: t.description,\r\n      classification: 'miscellaneous',\r\n    source: 'bank',\r\n  }));\r\n};\r\n\r\nconst triggerDummyTransactions = async (onNewTx = () => {}) => {\r\n  const tx = await fetchBankTransactions();\r\n  // call callback for each transaction so UI can ingest\r\n  tx.forEach(onNewTx);\r\n  return tx;\r\n};\r\n\r\nexport default {\r\n  fetchBankTransactions,\r\n  triggerDummyTransactions,\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\Bluetooth.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\CloudSyncService.js","messages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":35,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":35,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[1394,1534],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":59,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":59,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2428,2504],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":70,"column":9,"nodeType":"MemberExpression","messageId":"unexpected","endLine":70,"endColumn":20,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[2930,3059],"text":""},"desc":"Remove the console.log()."}]},{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":78,"column":7,"nodeType":"MemberExpression","messageId":"unexpected","endLine":78,"endColumn":18,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[3289,3355],"text":""},"desc":"Remove the console.log()."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// CloudSyncService: placeholder synchronous functions for cloud sync.\r\n// Replace with Firebase/Supabase or other provider implementation later.\r\n\r\nimport cloudConfig from '../config/cloudConfig';\r\n\r\nconst noop = async () => ({ ok: true });\r\n\r\nconst adapters = {\r\n  none: {\r\n    syncToCloud: noop,\r\n    syncFromCloud: noop,\r\n  },\r\n  firebase: {\r\n    // Firebase adapter skeleton: requires adding firebase SDK and initialization in app.\r\n    syncToCloud: async (payload) => {\r\n      try {\r\n        // Example: push to Firestore collection 'routes'\r\n        // This dynamic loader avoids requiring firebase unless configured.\r\n        if (cloudConfig && cloudConfig.firebaseConfig) {\r\n          try {\r\n            const firebase = require('firebase/app');\r\n            require('firebase/firestore');\r\n            if (!firebase.apps || !firebase.apps.length) {\r\n              firebase.initializeApp(cloudConfig.firebaseConfig);\r\n            }\r\n            const db = firebase.firestore();\r\n            await Promise.all(payload.map((p) => db.collection('routes').doc(p.id).set(p, { merge: true })));\r\n            return { ok: true };\r\n          } catch (innerErr) {\r\n            console.warn('CloudSyncService.firebase dynamic firestore error', innerErr);\r\n            // fallthrough to log and return ok:false\r\n            return { ok: false, error: innerErr };\r\n          }\r\n        }\r\n        console.log('CloudSyncService.firebase.syncToCloud (skeleton, no config)', payload && payload.length ? `${payload.length} items` : payload);\r\n        return { ok: true };\r\n      } catch (err) {\r\n        console.warn('CloudSyncService.firebase.syncToCloud error', err);\r\n        return { ok: false, error: err };\r\n      }\r\n    },\r\n    syncFromCloud: async () => {\r\n      if (cloudConfig && cloudConfig.firebaseConfig) {\r\n        try {\r\n          const firebase = require('firebase/app');\r\n          require('firebase/firestore');\r\n          if (!firebase.apps || !firebase.apps.length) {\r\n            firebase.initializeApp(cloudConfig.firebaseConfig);\r\n          }\r\n          const db = firebase.firestore();\r\n          const snap = await db.collection('routes').get();\r\n          const data = snap.docs.map((d) => d.data());\r\n          return { ok: true, data };\r\n        } catch (e) {\r\n          console.warn('CloudSyncService.firebase.syncFromCloud error', e);\r\n          return { ok: false, error: e };\r\n        }\r\n      }\r\n      console.log('CloudSyncService.firebase.syncFromCloud (skeleton no config)');\r\n      return { ok: true, data: null };\r\n    },\r\n  },\r\n  supabase: {\r\n    syncToCloud: async (payload) => {\r\n      try {\r\n        // Example: using @supabase/supabase-js\r\n        // const { createClient } = require('@supabase/supabase-js');\r\n        // const client = createClient(cloudConfig.supabase.url, cloudConfig.supabase.key);\r\n        // await Promise.all(payload.map(p => client.from('routes').upsert(p)));\r\n        console.log('CloudSyncService.supabase.syncToCloud (skeleton)', payload && payload.length ? `${payload.length} items` : payload);\r\n        return { ok: true };\r\n      } catch (err) {\r\n        console.warn('CloudSyncService.supabase.syncToCloud error', err);\r\n        return { ok: false, error: err };\r\n      }\r\n    },\r\n    syncFromCloud: async () => {\r\n      console.log('CloudSyncService.supabase.syncFromCloud (skeleton)');\r\n      return { ok: true, data: null };\r\n    },\r\n  },\r\n};\r\n\r\nconst getAdapter = () => {\r\n  const p = cloudConfig && cloudConfig.provider;\r\n  if (!p) return adapters.none;\r\n  return adapters[p] || adapters.none;\r\n};\r\n\r\nexport const syncToCloud = async (payload) => {\r\n  const adapter = getAdapter();\r\n  return adapter.syncToCloud(payload);\r\n};\r\n\r\nexport const syncFromCloud = async () => {\r\n  const adapter = getAdapter();\r\n  return adapter.syncFromCloud();\r\n};\r\n\r\nexport default { syncToCloud, syncFromCloud };\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\DriveDetection.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\ExportService.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Platform' is defined but never used.","line":2,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// ExportService: CSV/PDF export helpers (CSV implemented). For file write/share, install expo-file-system and expo-sharing.\r\nimport { Platform, Alert } from 'react-native';\r\n\r\nexport const generateRoutesCSV = (routes = []) => {\r\n  // Simple CSV: id,start,end,distance,purpose,status,notes\r\n  const headers = ['id', 'start', 'end', 'distance', 'purpose', 'status', 'notes'];\r\n  const rows = routes.map((t) => [\r\n    t.id,\r\n    t.start || '',\r\n    t.end || '',\r\n    t.distance ?? '',\r\n    t.purpose || '',\r\n    t.status || '',\r\n    (t.notes || '').replace(/\\r?\\n/g, ' '),\r\n  ]);\r\n\r\n  const csv = [headers.join(','), ...rows.map((r) => r.map((c) => `\"${String(c).replace(/\"/g, '\"\"') }\"`).join(','))].join('\\n');\r\n  return csv;\r\n};\r\n\r\nexport const saveCSVToFile = async (filename = 'roadreport.csv', csvString) => {\r\n  try {\r\n    // Try to import expo-file-system dynamically to avoid hard dependency in code\r\n    const FileSystem = require('expo-file-system');\r\n    const dir = FileSystem.documentDirectory || FileSystem.cacheDirectory || '';\r\n    const path = `${dir}${filename}`;\r\n    await FileSystem.writeAsStringAsync(path, csvString, { encoding: FileSystem.EncodingType.UTF8 });\r\n\r\n    // Try to share using expo-sharing if available\r\n    try {\r\n      const Sharing = require('expo-sharing');\r\n      if (await Sharing.isAvailableAsync()) {\r\n        await Sharing.shareAsync(path);\r\n      } else {\r\n        Alert.alert('Export saved', `CSV saved to ${path}`);\r\n      }\r\n    } catch (e) {\r\n      // Sharing not installed\r\n      Alert.alert('Export saved', `CSV saved to ${path}. Install expo-sharing to share.`);\r\n    }\r\n    return path;\r\n  } catch (err) {\r\n    console.warn('saveCSVToFile error', err);\r\n    Alert.alert('Export failed', 'Please install expo-file-system: expo install expo-file-system');\r\n    return null;\r\n  }\r\n};\r\n\r\n// Backwards-compatible alias\r\nexport default { generateRoutesCSV, saveCSVToFile };\r\n\r\nexport const generateRoutesHTML = (routes = []) => {\r\n  const rows = routes\r\n    .map(\r\n      (t) => `\r\n    <tr>\r\n      <td>${t.id}</td>\r\n      <td>${t.start || ''}</td>\r\n      <td>${t.end || ''}</td>\r\n      <td>${t.distance ?? ''}</td>\r\n      <td>${t.purpose || ''}</td>\r\n      <td>${t.status || ''}</td>\r\n      <td>${(t.notes || '').replace(/\\n/g, '<br/>')}</td>\r\n    </tr>`\r\n    )\r\n    .join('');\r\n\r\n  const html = `\r\n  <html>\r\n    <head>\r\n      <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n      <style>table{width:100%;border-collapse:collapse}td,th{border:1px solid #ddd;padding:8px;font-size:12px}th{background:#f7f7f7}</style>\r\n    </head>\r\n    <body>\r\n      <h2>RoadReport - Routes</h2>\r\n      <table>\r\n        <thead>\r\n          <tr><th>ID</th><th>Start</th><th>End</th><th>Distance</th><th>Purpose</th><th>Status</th><th>Notes</th></tr>\r\n        </thead>\r\n        <tbody>\r\n          ${rows}\r\n        </tbody>\r\n      </table>\r\n    </body>\r\n  </html>`;\r\n\r\n  return html;\r\n};\r\n\r\nexport const saveHTMLAsPDF = async (filename = 'roadreport.pdf', htmlString) => {\r\n  try {\r\n    const Print = require('expo-print');\r\n    const FileSystem = require('expo-file-system');\r\n    const Sharing = require('expo-sharing');\r\n\r\n    const { uri } = await Print.printToFileAsync({ html: htmlString });\r\n    const dir = FileSystem.documentDirectory || FileSystem.cacheDirectory || '';\r\n    const dest = `${dir}${filename}`;\r\n    // copy the generated file to our desired location\r\n    await FileSystem.copyAsync({ from: uri, to: dest });\r\n\r\n    if (await Sharing.isAvailableAsync()) {\r\n      await Sharing.shareAsync(dest);\r\n    } else {\r\n      Alert.alert('PDF saved', `PDF saved to ${dest}`);\r\n    }\r\n    return dest;\r\n  } catch (err) {\r\n    console.warn('saveHTMLAsPDF error', err);\r\n    Alert.alert('PDF export failed', 'Install expo-print and expo-file-system to enable PDF export');\r\n    return null;\r\n  }\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\Logger.js","messages":[],"suppressedMessages":[{"ruleId":"no-console","severity":1,"message":"Unexpected console statement.","line":15,"column":5,"nodeType":"MemberExpression","messageId":"unexpected","endLine":15,"endColumn":16,"suggestions":[{"messageId":"removeConsole","data":{"propertyName":"log"},"fix":{"range":[395,416],"text":""},"desc":"Remove the console.log()."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\SecureStoreWrapper.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\SparkDelivery.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\services\\TaxReport.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]},{"filePath":"C:\\Users\\Harold Ligon\\Documents\\Coding\\SparQDigital\\MyMobileApps\\RoadReport\\src\\utils\\storage.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"no-negated-in-lhs","replacedBy":["no-unsafe-negation"]},{"ruleId":"no-catch-shadow","replacedBy":["no-shadow"]},{"ruleId":"handle-callback-err","replacedBy":[]},{"ruleId":"no-mixed-requires","replacedBy":[]},{"ruleId":"no-new-require","replacedBy":[]},{"ruleId":"no-path-concat","replacedBy":[]},{"ruleId":"no-restricted-modules","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]}]}]